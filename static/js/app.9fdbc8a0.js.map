{"version":3,"file":"static/js/app.9fdbc8a0.js","mappings":"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","sources":["webpack://remote_controller_interface/./src/setupConsola.ts","webpack://remote_controller_interface/./src/App.vue","webpack://remote_controller_interface/./src/components/alerts/DefaultAluert.vue","webpack://remote_controller_interface/./src/components/alerts/DefaultAluert.vue?06f1","webpack://remote_controller_interface/./src/components/alerts/DefaultAluert.vue?867c","webpack://remote_controller_interface/./src/components/alerts/DefaultAluert.vue?249d","webpack://remote_controller_interface/./src/components/alerts/InfoAlert.vue","webpack://remote_controller_interface/./src/components/alerts/InfoAlert.vue?538b","webpack://remote_controller_interface/./src/components/alerts/InfoAlert.vue?0668","webpack://remote_controller_interface/./src/components/alerts/InfoAlert.vue?17f2","webpack://remote_controller_interface/./src/components/alerts/FatalErrorAlert.vue","webpack://remote_controller_interface/./src/components/alerts/FatalSelectList.vue","webpack://remote_controller_interface/./src/components/alerts/ItemButton.vue","webpack://remote_controller_interface/./src/components/alerts/ItemButton.vue?3dac","webpack://remote_controller_interface/./src/components/alerts/ItemButton.vue?a8d3","webpack://remote_controller_interface/./src/components/alerts/ItemButton.vue?c2b5","webpack://remote_controller_interface/./src/components/alerts/FatalSelectList.vue?8d46","webpack://remote_controller_interface/./src/components/alerts/FatalSelectList.vue?dc42","webpack://remote_controller_interface/./src/components/alerts/FatalSelectList.vue?501f","webpack://remote_controller_interface/./src/globals.ts","webpack://remote_controller_interface/./src/api/socketActions.ts","webpack://remote_controller_interface/./src/mixins/services.ts","webpack://remote_controller_interface/./src/mixins/state.ts","webpack://remote_controller_interface/./src/helpers/mockHelper.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/alerts/helpers.ts","webpack://remote_controller_interface/./src/mixins/windows.ts","webpack://remote_controller_interface/./src/components/alerts/FatalErrorAlert.vue?3e94","webpack://remote_controller_interface/./src/components/alerts/FatalErrorAlert.vue?17cb","webpack://remote_controller_interface/./src/components/alerts/FatalErrorAlert.vue?45aa","webpack://remote_controller_interface/./src/api/httpClientActions.ts","webpack://remote_controller_interface/./src/mixins/files.ts","webpack://remote_controller_interface/./src/workers/xWeldParser.ts","webpack://remote_controller_interface/./src/store/ourExtension/profiles/helpers.ts","webpack://remote_controller_interface/./src/mixins/gpio.ts","webpack://remote_controller_interface/./src/App.vue?38a5","webpack://remote_controller_interface/./src/App.vue?892f","webpack://remote_controller_interface/./src/App.vue?0e40","webpack://remote_controller_interface/./src/store/socket/state.ts","webpack://remote_controller_interface/./src/store/socket/getters.ts","webpack://remote_controller_interface/./src/eventBus.ts","webpack://remote_controller_interface/./src/util/is-key-of.ts","webpack://remote_controller_interface/./src/store/socket/actions.ts","webpack://remote_controller_interface/./src/store/socket/mutations.ts","webpack://remote_controller_interface/./src/store/socket/index.ts","webpack://remote_controller_interface/./src/store/auth/state.ts","webpack://remote_controller_interface/./src/store/auth/getters.ts","webpack://remote_controller_interface/./src/store/auth/actions.ts","webpack://remote_controller_interface/./src/store/auth/mutations.ts","webpack://remote_controller_interface/./src/store/auth/index.ts","webpack://remote_controller_interface/./src/store/server/state.ts","webpack://remote_controller_interface/./src/store/server/getters.ts","webpack://remote_controller_interface/./src/util/get-browser-locale.ts","webpack://remote_controller_interface/./src/plugins/i18n.ts","webpack://remote_controller_interface/./src/store/server/actions.ts","webpack://remote_controller_interface/./src/store/server/mutations.ts","webpack://remote_controller_interface/./src/store/server/index.ts","webpack://remote_controller_interface/./src/store/printer/state.ts","webpack://remote_controller_interface/./src/util/get-klipper-type.ts","webpack://remote_controller_interface/./src/store/printer/getters.ts","webpack://remote_controller_interface/./src/store/helpers.ts","webpack://remote_controller_interface/./src/store/chart_helpers.ts","webpack://remote_controller_interface/./src/plugins/sandboxedEval.ts","webpack://remote_controller_interface/./src/store/printer/actions.ts","webpack://remote_controller_interface/./src/store/printer/mutations.ts","webpack://remote_controller_interface/./src/store/printer/index.ts","webpack://remote_controller_interface/./src/store/config/state.ts","webpack://remote_controller_interface/./src/store/config/getters.ts","webpack://remote_controller_interface/./src/store/config/actions.ts","webpack://remote_controller_interface/./src/store/config/mutations.ts","webpack://remote_controller_interface/./src/store/config/index.ts","webpack://remote_controller_interface/./src/store/files/state.ts","webpack://remote_controller_interface/./src/store/files/getters.ts","webpack://remote_controller_interface/./src/util/get-file-paths.ts","webpack://remote_controller_interface/./src/util/format-as-file.ts","webpack://remote_controller_interface/./src/store/files/actions.ts","webpack://remote_controller_interface/./src/util/merge-file-update.ts","webpack://remote_controller_interface/./src/store/files/mutations.ts","webpack://remote_controller_interface/./src/store/files/index.ts","webpack://remote_controller_interface/./src/store/layout/state.ts","webpack://remote_controller_interface/./src/store/layout/getters.ts","webpack://remote_controller_interface/./src/store/layout/actions.ts","webpack://remote_controller_interface/./src/store/layout/mutations.ts","webpack://remote_controller_interface/./src/store/layout/index.ts","webpack://remote_controller_interface/./src/store/charts/state.ts","webpack://remote_controller_interface/./src/store/charts/getters.ts","webpack://remote_controller_interface/./src/store/charts/actions.ts","webpack://remote_controller_interface/./src/store/charts/mutations.ts","webpack://remote_controller_interface/./src/store/charts/index.ts","webpack://remote_controller_interface/./src/store/console/state.ts","webpack://remote_controller_interface/./src/store/console/getters.ts","webpack://remote_controller_interface/./src/store/console/actions.ts","webpack://remote_controller_interface/./src/store/console/types.ts","webpack://remote_controller_interface/./src/store/console/mutations.ts","webpack://remote_controller_interface/./src/store/console/index.ts","webpack://remote_controller_interface/./src/store/macros/state.ts","webpack://remote_controller_interface/./src/store/macros/getters.ts","webpack://remote_controller_interface/./src/store/macros/actions.ts","webpack://remote_controller_interface/./src/store/macros/mutations.ts","webpack://remote_controller_interface/./src/store/macros/index.ts","webpack://remote_controller_interface/./src/store/power/state.ts","webpack://remote_controller_interface/./src/store/power/getters.ts","webpack://remote_controller_interface/./src/store/power/actions.ts","webpack://remote_controller_interface/./src/store/power/mutations.ts","webpack://remote_controller_interface/./src/store/power/index.ts","webpack://remote_controller_interface/./src/store/history/state.ts","webpack://remote_controller_interface/./src/store/history/getters.ts","webpack://remote_controller_interface/./src/store/history/actions.ts","webpack://remote_controller_interface/./src/store/history/mutations.ts","webpack://remote_controller_interface/./src/store/history/index.ts","webpack://remote_controller_interface/./src/store/version/state.ts","webpack://remote_controller_interface/./src/store/version/getters.ts","webpack://remote_controller_interface/./src/store/version/actions.ts","webpack://remote_controller_interface/./src/store/version/mutations.ts","webpack://remote_controller_interface/./src/store/version/index.ts","webpack://remote_controller_interface/./src/store/cameras/state.ts","webpack://remote_controller_interface/./src/store/cameras/getters.ts","webpack://remote_controller_interface/./src/util/set-url-query-param.ts","webpack://remote_controller_interface/./src/store/cameras/actions.ts","webpack://remote_controller_interface/./src/store/cameras/mutations.ts","webpack://remote_controller_interface/./src/store/cameras/index.ts","webpack://remote_controller_interface/./src/store/mesh/state.ts","webpack://remote_controller_interface/./src/util/transform-mesh.ts","webpack://remote_controller_interface/./src/store/mesh/getters.ts","webpack://remote_controller_interface/./src/store/mesh/actions.ts","webpack://remote_controller_interface/./src/store/mesh/mutations.ts","webpack://remote_controller_interface/./src/store/mesh/index.ts","webpack://remote_controller_interface/./src/store/notifications/state.ts","webpack://remote_controller_interface/./src/store/notifications/getters.ts","webpack://remote_controller_interface/./src/store/notifications/actions.ts","webpack://remote_controller_interface/./src/store/notifications/mutations.ts","webpack://remote_controller_interface/./src/store/notifications/index.ts","webpack://remote_controller_interface/./src/store/announcements/state.ts","webpack://remote_controller_interface/./src/store/announcements/getters.ts","webpack://remote_controller_interface/./src/store/announcements/actions.ts","webpack://remote_controller_interface/./src/store/announcements/mutations.ts","webpack://remote_controller_interface/./src/store/announcements/index.ts","webpack://remote_controller_interface/./src/store/wait/state.ts","webpack://remote_controller_interface/./src/store/wait/getters.ts","webpack://remote_controller_interface/./src/store/wait/actions.ts","webpack://remote_controller_interface/./src/store/wait/mutations.ts","webpack://remote_controller_interface/./src/store/wait/index.ts","webpack://remote_controller_interface/./src/store/gcodePreview/state.ts","webpack://remote_controller_interface/./src/store/gcodePreview/types.ts","webpack://remote_controller_interface/./src/util/gcode-preview.ts","webpack://remote_controller_interface/./src/store/gcodePreview/getters.ts","webpack://remote_controller_interface/./src/store/gcodePreview/actions.ts","webpack://remote_controller_interface/./src/store/gcodePreview/mutations.ts","webpack://remote_controller_interface/./src/store/gcodePreview/index.ts","webpack://remote_controller_interface/./src/store/timelapse/state.ts","webpack://remote_controller_interface/./src/store/timelapse/getters.ts","webpack://remote_controller_interface/./src/store/timelapse/actions.ts","webpack://remote_controller_interface/./src/store/timelapse/mutations.ts","webpack://remote_controller_interface/./src/store/timelapse/index.ts","webpack://remote_controller_interface/./src/store/parts/state.ts","webpack://remote_controller_interface/./src/store/parts/getters.ts","webpack://remote_controller_interface/./src/store/parts/actions.ts","webpack://remote_controller_interface/./src/store/parts/mutations.ts","webpack://remote_controller_interface/./src/store/parts/index.ts","webpack://remote_controller_interface/./src/store/webcams/state.ts","webpack://remote_controller_interface/./src/store/webcams/getters.ts","webpack://remote_controller_interface/./src/store/webcams/actions.ts","webpack://remote_controller_interface/./src/store/webcams/mutations.ts","webpack://remote_controller_interface/./src/store/webcams/index.ts","webpack://remote_controller_interface/./src/store/jobQueue/state.ts","webpack://remote_controller_interface/./src/store/jobQueue/getters.ts","webpack://remote_controller_interface/./src/store/jobQueue/actions.ts","webpack://remote_controller_interface/./src/store/jobQueue/mutations.ts","webpack://remote_controller_interface/./src/store/jobQueue/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/files/helpers.ts","webpack://remote_controller_interface/./src/store/ourExtension/files/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/files/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/files/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/files/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/files/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/alerts/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/alerts/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/alerts/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/alerts/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/baseLayout/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/baseLayout/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/baseLayout/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/baseLayout/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/baseLayout/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/fileBrowseWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/fileBrowseWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/fileBrowseWindow/helpers.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/fileBrowseWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/fileBrowseWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/fileBrowseWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/filePreviewWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/filePreviewWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/filePreviewWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/filePreviewWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/inputWindow/state.ts","webpack://remote_controller_interface/./src/components/inputWindow/timeProcessor.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/inputWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/inputWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/inputWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/inputWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/mainWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/mainWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/mainWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/moveWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/moveWindow/helpers.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/moveWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/moveWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/moveWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/moveWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/newFileBrowseWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/newFileBrowseWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/newFileBrowseWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/newFileBrowseWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/newFileBrowseWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/preprintingWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/preprintingWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/preprintingWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/preprintingWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/preprintingWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/printingWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/printingWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/printingWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/printingWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/profilesWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/profilesWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/profilesWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/profilesWindow/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/profilesWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/selectListWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/selectListWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/selectListWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/selectListWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/settingsWindow/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/settingsWindow/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/settingsWindow/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/settingsWindow/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/layoutsData/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/profiles/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/profiles/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/profiles/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/profiles/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/profiles/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/windowFlags/actions.ts","webpack://remote_controller_interface/./src/store/ourExtension/windowFlags/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/windowFlags/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/windowFlags/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/windowFlags/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/gpio/state.ts","webpack://remote_controller_interface/./src/store/ourExtension/gpio/mutations.ts","webpack://remote_controller_interface/./src/store/ourExtension/gpio/getters.ts","webpack://remote_controller_interface/./src/store/ourExtension/gpio/index.ts","webpack://remote_controller_interface/./src/store/ourExtension/index.ts","webpack://remote_controller_interface/./src/store/index.ts","webpack://remote_controller_interface/./src/init.ts","webpack://remote_controller_interface/./src/plugins/colorSet.ts","webpack://remote_controller_interface/./src/util/version-string-compare.ts","webpack://remote_controller_interface/./src/plugins/filters.ts","webpack://remote_controller_interface/./src/plugins/httpClient.ts","webpack://remote_controller_interface/./src/plugins/socketClient.ts","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileSelectWindow.vue","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileButton.vue","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileButton.vue?4ad7","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileButton.vue?956b","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileButton.vue?bb64","webpack://remote_controller_interface/./src/components/fileSelectWindow/FolderButton.vue","webpack://remote_controller_interface/./src/components/fileSelectWindow/FolderButton.vue?9cd1","webpack://remote_controller_interface/./src/components/fileSelectWindow/FolderButton.vue?a38f","webpack://remote_controller_interface/./src/components/fileSelectWindow/FolderButton.vue?3616","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileSelectWindow.vue?d5d4","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileSelectWindow.vue?1422","webpack://remote_controller_interface/./src/components/fileSelectWindow/FileSelectWindow.vue?5806","webpack://remote_controller_interface/./src/components/printWindow/PrintWindow.vue","webpack://remote_controller_interface/./src/components/printWindow/ProgressBar.vue","webpack://remote_controller_interface/./src/components/printWindow/ProgressBar.vue?371a","webpack://remote_controller_interface/./src/components/printWindow/ProgressBar.vue?cee9","webpack://remote_controller_interface/./src/components/printWindow/ProgressBar.vue?3b19","webpack://remote_controller_interface/./src/components/printWindow/CircleBar.vue","webpack://remote_controller_interface/./src/components/printWindow/CircleBar.vue?3dcb","webpack://remote_controller_interface/./src/components/printWindow/CircleBar.vue?0033","webpack://remote_controller_interface/./src/components/printWindow/CircleBar.vue?412b","webpack://remote_controller_interface/./src/components/printWindow/PrintWindow.vue?32f5","webpack://remote_controller_interface/./src/components/printWindow/PrintWindow.vue?806e","webpack://remote_controller_interface/./src/components/printWindow/PrintWindow.vue?58aa","webpack://remote_controller_interface/./src/components/oscillationWindow/OscillationWindow.vue","webpack://remote_controller_interface/./src/components/oscillationWindow/OscillationWindow.vue?e41d","webpack://remote_controller_interface/./src/components/oscillationWindow/OscillationWindow.vue?fde4","webpack://remote_controller_interface/./src/components/oscillationWindow/OscillationWindow.vue?86fb","webpack://remote_controller_interface/./src/router/index.ts","webpack://remote_controller_interface/./src/gpio/gpioSocket.ts","webpack://remote_controller_interface/./src/main.ts","webpack://remote_controller_interface/webpack/bootstrap","webpack://remote_controller_interface/webpack/runtime/chunk loaded","webpack://remote_controller_interface/webpack/runtime/compat get default export","webpack://remote_controller_interface/webpack/runtime/define property getters","webpack://remote_controller_interface/webpack/runtime/get javascript chunk filename","webpack://remote_controller_interface/webpack/runtime/global","webpack://remote_controller_interface/webpack/runtime/hasOwnProperty shorthand","webpack://remote_controller_interface/webpack/runtime/publicPath","webpack://remote_controller_interface/webpack/runtime/jsonp chunk loading","webpack://remote_controller_interface/webpack/startup"],"sourcesContent":["import Consola, { LogLevel } from 'consola'\n\n// Configure Consola\nConsola.wrapAll()\nConsola.level = 1\n\nif (true) Consola.level = LogLevel.Verbose\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{attrs:{\"id\":\"app-child\"},on:{\"contextmenu\":function($event){$event.preventDefault();}}},[_c('router-view'),(_vm.alertFlag)?_c('DefaultAlert'):_vm._e(),(_vm.infoAlertFlag)?_c('InfoAlert'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"content-container default-alert\"},[_c('div',{staticClass:\"alert-holder\"},[(_vm.alert.header)?_c('span',{staticClass:\"header\"},[_vm._v(\" \"+_vm._s(_vm.alert.header)+\" \")]):_vm._e(),(_vm.alert.message)?_c('div',{staticClass:\"message-holder\",domProps:{\"innerHTML\":_vm._s(_vm.alert.message)}}):_vm._e(),(_vm.alert.type.toLowerCase() === 'yes_no')?_c('div',{staticClass:\"buttons-holder yes-no\"},[_c('button',{on:{\"click\":_vm.confirmClick}},[_vm._v(\"ДА\")]),_c('button',{on:{\"click\":_vm.rejectClick}},[_vm._v(\"НЕТ\")])]):_c('div',{staticClass:\"buttons-holder ok\"},[_c('button',{on:{\"click\":_vm.confirmClick}},[_vm._v(\"OK\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { AlertType } from '@/store/ourExtension/layoutsData/alerts/types';\nimport { Prop, Component, Vue } from 'vue-property-decorator';\n\n@Component({\n    components: {\n\n    },\n})\nexport default class DefaultAlert extends Vue {\n    get alert(): AlertType {\n        return this.$store.getters['ourExtension/layoutsData/alerts/getFirstAlert']()\n    }\n\n    confirmClick() {\n        this.$store.dispatch('ourExtension/layoutsData/alerts/confirmClick')\n    }\n\n    rejectClick() {\n        this.$store.dispatch('ourExtension/layoutsData/alerts/rejectClick')\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DefaultAluert.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DefaultAluert.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DefaultAluert.vue?vue&type=template&id=4c6979d2&\"\nimport script from \"./DefaultAluert.vue?vue&type=script&lang=ts&\"\nexport * from \"./DefaultAluert.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DefaultAluert.vue?vue&type=style&index=0&id=4c6979d2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"infoAlert\",staticClass:\"info-alert\",class:{ 'green': _vm.green, 'red': _vm.red },on:{\"click\":_vm.clickHandler}},[_c('span',{staticClass:\"message-holder\",domProps:{\"innerHTML\":_vm._s(_vm.infoAlert.message)}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport { AlertType, InfoAlertType } from '@/store/ourExtension/layoutsData/alerts/types'\n\n@Component({\n    components: {\n\n    },\n})\nexport default class InfoAlert extends Vue {\n    currentTimeout?: number\n\n    get cancellationToken(): boolean {\n        return this.$store.state.ourExtension.layoutsData.alerts.infoAlertState.cancellationToken\n    }\n\n    get infoAlert(): InfoAlertType {\n        return this.$store.getters['ourExtension/layoutsData/alerts/getInfoAlert']()\n    }\n\n    set infoAlert(newValue: InfoAlertType | null) {\n        this.$store.state.ourExtension.layoutsData.alerts.infoAlertState.currentMessage = newValue\n    }\n\n    get green(): boolean {\n        return this.infoAlert.type?.toLowerCase() === 'green'\n    }\n\n    get red(): boolean {\n        return this.infoAlert.type?.toLowerCase() === 'red'\n    }\n\n    @Watch('cancellationToken', { deep: true })\n    cancellationTokenWather() {\n        if (this.cancellationToken) {\n            if (this.currentTimeout) {\n                clearTimeout(this.currentTimeout)\n            }\n            this.infoAlert = null\n        }\n\n    }\n\n    mounted() {\n        this.showingAnimation()\n    }\n\n\n\n    showingAnimation() {\n        const element = this.$refs.infoAlert as HTMLElement\n        if (element) {\n            const height = element.getBoundingClientRect().height;\n            this.animationProcessing(element, height)\n            let timeout = 5000\n            if (this.infoAlert.time) {\n                timeout = this.infoAlert.time\n            }\n            this.currentTimeout = setTimeout(this.closingAnimation, timeout)\n        }\n    }\n\n    animationProcessing(element: HTMLElement, height: number) {\n        if (height < 0) return\n        element.style.top = -height + 'px';\n        this.currentTimeout = setTimeout(() => {\n            height = height - 2\n            this.animationProcessing(element, height)\n        }, 0)\n    }\n\n    closingAnimation() {\n        const element = this.$refs.infoAlert as HTMLElement\n        if (element) {\n            const height = element.getBoundingClientRect().height;\n            this.closingAnimationProcessing(element, 0, height)\n        }\n    }\n\n    closingAnimationProcessing(element: HTMLElement, height: number, originalHeight: number) {\n        height = height - 2\n        if (height < -originalHeight) {\n            this.infoAlert = null\n            return\n        }\n        element.style.top = height + 'px';\n        this.currentTimeout = setTimeout(() => {\n            this.closingAnimationProcessing(element, height, originalHeight)\n        }, 0)\n    }\n\n    clickHandler() {\n        const alert: AlertType = {\n            message: this.infoAlert.message,\n            type: 'ok'\n        }\n        this.$store.dispatch('ourExtension/layoutsData/alerts/addToAlertQueue', alert)\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InfoAlert.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InfoAlert.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InfoAlert.vue?vue&type=template&id=318c8bf0&\"\nimport script from \"./InfoAlert.vue?vue&type=script&lang=ts&\"\nexport * from \"./InfoAlert.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./InfoAlert.vue?vue&type=style&index=0&id=318c8bf0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"content-container fatal-error-alert\"},[(_vm.listFlag)?_c('FatalSelectList',{attrs:{\"items\":_vm.items},on:{\"close\":_vm.closeList,\"selectItem\":_vm.selectItem}}):_vm._e(),_c('div',{staticClass:\"alert-holder\"},[_c('span',{staticClass:\"header\"},[_vm._v(\" ФАТАЛЬНАЯ ОШИБКА! \")]),_c('div',{staticClass:\"message-holder\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_c('div',{staticClass:\"buttons-holder fatal-error\"},[_c('button',{on:{\"click\":_vm.restart}},[_vm._v(\"Перезагрузить\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"mainContainer\",staticClass:\"material-select-container\"},[_c('div',{staticClass:\"material-select-content-container\"},[_c('div',{staticClass:\"material-select-header\"},[_c('button',{staticClass:\"home-button\",on:{\"click\":_vm.homeButtonClick}},[_c('img',{attrs:{\"src\":require(\"@/layouts/profiles_layout/img/button_star.svg\")}})]),_vm._m(0)]),_c('div',{staticClass:\"material-select-center\"},_vm._l((_vm.listItems),function(item,index){return _c('ItemButton',{key:index,attrs:{\"listInstance\":item},on:{\"selectItem\":_vm.selectItem,\"activateItem\":_vm.activateItem,\"deactivateItems\":_vm.deactivateItems}})}),1),_c('div',{staticClass:\"file-select-footer\"})])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"points-button\"},[_c('img',{attrs:{\"src\":require(\"@/layouts/profiles_layout/img/points_icon.png\")}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"button-wrapper\"},[_c('div',{staticClass:\"material-select-button\",class:{ 'active': _vm.listInstance.isActive },on:{\"click\":_vm.firstClickHandler}},[_c('div',{staticClass:\"material-info\"},[_c('span',[_vm._v(_vm._s(_vm.listInstance.name))])]),_c('button',{staticClass:\"select-material-button\",on:{\"click\":_vm.confirmClickHandler}},[_vm._v(\"Выбрать\")])]),_c('hr')])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { ListInstance } from '@/store/ourExtension/layoutsData/selectListWindow/types';\nimport { Prop, Component, Vue } from 'vue-property-decorator';\n\n@Component({\n    components: {\n\n    },\n})\nexport default class ItemButton extends Vue {\n    @Prop()\n    listInstance!: ListInstance;\n    \n\n    firstClickHandler() {\n        if (this.listInstance.isActive) {\n            this.$emit('deactivateItems')\n        } else {\n            this.$emit('deactivateItems')\n            this.$emit('activateItem', this.listInstance.name)\n            this.listInstance.isActive = true\n        }\n    }\n\n    confirmClickHandler() {\n        this.$emit('selectItem', this.listInstance.name)\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemButton.vue?vue&type=template&id=07f57464&\"\nimport script from \"./ItemButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { ListInstance } from '@/store/ourExtension/layoutsData/selectListWindow/types';\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport ItemButton from './ItemButton.vue';\n\n@Component({\n    components: {\n        ItemButton\n    },\n})\nexport default class FatalSelectList extends Vue {\n\n    @Prop()\n    items!: string[]\n    listItems: ListInstance[] = []\n\n    mounted() {\n        const container = this.$refs.mainContainer as HTMLElement;\n        if (container) {\n            container.style.zIndex = '10'\n        }\n\n        for (const item of this.items) {\n            this.listItems.push({\n                isActive: false,\n                name: item\n            })\n        }\n    }\n\n    deactivateItems() {\n        for (const item of this.listItems) {\n            item.isActive = false\n        }\n    }\n\n    activateItem(itemProp: string) {\n        for (const item of this.listItems) {\n            if (itemProp === item.name.toLowerCase()) {\n                item.isActive = true\n            }\n        }\n    }\n\n    homeButtonClick() {\n        this.$emit('close')\n    }\n\n    selectItem(itemName: string) {\n        this.$emit('selectItem', itemName)\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FatalSelectList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FatalSelectList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FatalSelectList.vue?vue&type=template&id=39ff5948&\"\nimport script from \"./FatalSelectList.vue?vue&type=script&lang=ts&\"\nexport * from \"./FatalSelectList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FatalSelectList.vue?vue&type=style&index=0&id=39ff5948&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {\n  mdiClose,\n  mdiTune,\n  mdiMinus,\n  mdiPlus,\n  mdiCheck,\n  mdiFire,\n  mdiCog,\n  mdiCarBrakeAlert,\n  mdiPrinter3d,\n  mdiPrinter3dNozzle,\n  mdiPrinter3dNozzleOutline,\n  mdiFileCodeOutline,\n  mdiFileRefreshOutline,\n  mdiConsole,\n  mdiChevronUp,\n  mdiChevronDown,\n  mdiTimerSand,\n  mdiClockOutline,\n  mdiFormatLineSpacing,\n  mdiPause,\n  mdiWindowClose,\n  mdiPrinter,\n  mdiCamera,\n  mdiFan,\n  mdiArrowUp,\n  mdiArrowDown,\n  mdiArrowLeft,\n  mdiArrowRight,\n  mdiArrowCollapseDown,\n  mdiViewGridOutline,\n  mdiArrowExpandHorizontal,\n  mdiRefresh,\n  mdiCheckCircleOutline,\n  mdiCheckboxBlankCircleOutline,\n  mdiPrinter3dNozzleAlertOutline,\n  mdiAlertCircle,\n  mdiFolderPlus,\n  mdiFile,\n  mdiFolder,\n  mdiPencil,\n  mdiMagnify,\n  mdiMagnifyPlus,\n  mdiMagnifyMinus,\n  mdiDownload,\n  mdiFormTextbox,\n  mdiDelete,\n  mdiCogs,\n  mdiContentSaveOutline,\n  mdiAlert,\n  mdiDotsVertical,\n  mdiSend,\n  mdiArrowHorizontalLock,\n  mdiChartTimelineVariant,\n  mdiFireAlert,\n  mdiSnowflakeAlert,\n  mdiUpload,\n  mdiFolderUpload,\n  mdiProgressUpload,\n  mdiRadioboxMarked,\n  mdiCheckboxBlankOutline,\n  mdiCheckboxMarkedOutline,\n  mdiFilePlus,\n  mdiBellOutline,\n  mdiPower,\n  mdiPowerCycle,\n  mdiRestart,\n  mdiRestartAlert,\n  mdiUpdate,\n  mdiChevronRight,\n  mdiChevronLeft,\n  mdiDrag,\n  mdiCheckboxMultipleBlank,\n  mdiOpenInApp,\n  mdiDesktopTower,\n  mdiDotsHorizontal,\n  mdiToggleSwitch,\n  mdiToggleSwitchOffOutline,\n  mdiMotionOutline,\n  mdiThermometerLow,\n  mdiHelpCircle,\n  mdiHistory,\n  mdiFilterOutline,\n  mdiSourceCommit,\n  mdiArrowExpandUp,\n  mdiCloudCheck,\n  mdiCloudAlert,\n  mdiCircle,\n  mdiFolderMove,\n  mdiConsoleLine,\n  mdiDotsGrid,\n  mdiHammerWrench,\n  mdiAccount,\n  mdiFileTableOutline,\n  mdiLock,\n  mdiLockOpenVariant,\n  mdiPencilLock,\n  mdiLockReset,\n  mdiCubeScan,\n  mdiHandBackRight,\n  mdiThermometerAlert,\n  mdiShieldAccount,\n  mdiContentCopy,\n  mdiApps,\n  mdiAccountPlus,\n  mdiViewDashboardOutline,\n  mdiHome,\n  mdiRestore,\n  mdiMenu,\n  mdiFileCancel,\n  mdiCancel,\n  mdiCircleSlice3,\n  mdiCodeJson,\n  mdiHarddisk,\n  mdiLayersTripleOutline,\n  mdiMessageTextOutline,\n  mdiFormatListBulleted,\n  mdiSwapVertical,\n  mdiFullscreen,\n  mdiStop,\n  mdiPlay,\n  mdiFileVideoOutline,\n  mdiBellSleep,\n  mdiChip,\n  mdiViewHeadline,\n  mdiAxisArrow,\n  mdiVectorLine,\n  mdiOpenInNew,\n  mdiImageSizeSelectLarge,\n  mdiListStatus,\n  mdiLayersMinus,\n  mdiLayers,\n  mdiLayersPlus,\n  mdiFolderOpen,\n  mdiArchive,\n  mdiArchivePlus,\n  mdiTrayFull,\n  mdiTrayPlus,\n  mdiFolderArrowUp,\n  mdiShape\n} from '@mdi/js'\n\n/**\n * Global, static constants.\n */\nexport const Globals = Object.freeze({\n  APP_NAME: 'fluidd',\n  HEADER_HEIGHT: 56,\n  DEFAULTS: {\n    CAMERA_URL: '/webcam?action=stream'\n  },\n  NETWORK_REQUEST_TIMEOUT: 0,\n  KLIPPY_RETRY_DELAY: 1500,\n  SOCKET_RETRY_DELAY: 2000,\n  SOCKET_PING_INTERVAL: 10000,\n  CONSOLE_HISTORY_RETENTION: 1000, // total count\n  CONSOLE_RECEIVE_PREFIX: '',\n  CONSOLE_SEND_PREFIX: '$ ',\n  CONSOLE_COMMAND_HISTORY: 20,\n  CHART_HISTORY_RETENTION: 1200,\n  JOB_HISTORY_LOAD: 50,\n  KLIPPY_DISCONNECTED_REDIRECT: '/configuration',\n  LOCAL_CARDSTATE_STORAGE_KEY: 'cardState', // collapsed or not\n  LOCAL_CARDLAYOUT_STORAGE_KEY: 'cardLayout2', // Specific layout / enabled / disabled\n  LOCAL_INSTANCES_STORAGE_KEY: 'appInstances',\n  MOONRAKER_DB: {\n    fluidd: {\n      NAMESPACE: 'fluidd',\n      ROOTS: {\n        uiSettings: { name: 'uiSettings', dispatch: 'config/initUiSettings' },\n        macros: { name: 'macros', dispatch: 'macros/initMacros' },\n        console: { name: 'console', dispatch: 'console/initConsole' },\n        charts: { name: 'charts', dispatch: 'charts/initCharts' },\n        cameras: { name: 'cameras', dispatch: 'cameras/initLegacyCameras' },\n        layout: { name: 'layout', dispatch: 'layout/initLayout' }\n      }\n    },\n    webcams: {\n      NAMESPACE: 'webcams',\n      ROOTS: {\n        webcams: { dispatch: 'cameras/initCameras' }\n      }\n    }\n  },\n  MOONRAKER_COMPONENTS: {\n    auth: { name: 'authorization', dispatch: 'auth/init' },\n    power: { name: 'power', dispatch: 'power/init' },\n    updateManager: { name: 'update_manager', dispatch: 'version/init' },\n    history: { name: 'history', dispatch: 'history/init' },\n    timelapse: { name: 'timelapse', dispatch: 'timelapse/init' },\n    announcements: { name: 'announcements', dispatch: 'announcements/init' },\n    webcams: { name: 'webcam', dispatch: 'webcams/init' },\n    jobQueue: { name: 'job_queue', dispatch: 'jobQueue/init' }\n  },\n  // Ordered by weight.\n  CONFIG_SERVICE_MAP: [\n    { filename: 'moonraker.conf', service: 'moonraker', link: 'https://moonraker.readthedocs.io/en/latest/configuration/' },\n    { filename: 'webcam.txt', service: 'webcamd' },\n    { filename: 'crowsnest.conf', service: 'crowsnest', link: 'https://github.com/mainsail-crew/crowsnest' },\n    { filename: 'klipperscreen.conf', service: 'KlipperScreen', link: 'https://klipperscreen.readthedocs.io/en/latest/' },\n    { filename: 'mooncord-webcam.json', service: 'webcamd', link: 'https://github.com/eliteSchwein/mooncord' },\n    { prefix: 'mooncord', service: 'MoonCord', link: 'https://github.com/eliteSchwein/mooncord' },\n    { filename: 'telegram.conf', service: 'moonraker-telegram-bot', link: 'https://github.com/nlef/moonraker-telegram-bot/wiki/Sample-config' },\n    { suffix: '.cfg', service: 'klipper', link: 'https://www.klipper3d.org/Config_Reference.html' }\n  ],\n  FILTERED_FILES_PREFIX: ['.thumbs', 'thumbs'],\n  FILTERED_FILES_EXTENSION: ['.ignoreme'],\n  DOCS_ROOT: 'https://docs.fluidd.xyz',\n  DOCS_REQUIRED_CONFIGURATION: 'https://docs.fluidd.xyz/configuration/initial_setup',\n  DOCS_MULTIPLE_INSTANCES: 'https://docs.fluidd.xyz/configuration/multiple_printers',\n  DOCS_MOONRAKER_COMPONENTS: 'https://docs.fluidd.xyz/configuration/moonraker',\n  DOCS_AUTH_LOST_PASSWORD: 'https://docs.fluidd.xyz/authorization#lost-password',\n  DOCS_AUTH: 'https://docs.fluidd.xyz/authorization',\n  GITHUB_REPO: 'https://github.com/fluidd-core/fluidd',\n  VUE_APP_I18N_LOCALE: \"\",\n  VUE_APP_I18N_FALLBACK_LOCALE: \"\",\n  VERSION: \"\",\n  HASH: \"\",\n})\n\nexport const Icons = Object.freeze({\n  dash: mdiViewDashboardOutline,\n  account: mdiAccount,\n  addAccount: mdiAccountPlus,\n  help: mdiHelpCircle,\n  motion: mdiMotionOutline,\n  limits: mdiArrowHorizontalLock,\n  send: mdiSend,\n  open: mdiOpenInApp,\n  move: mdiFolderMove,\n  tabs: mdiCheckboxMultipleBlank,\n  menu: mdiDotsVertical,\n  menuAlt: mdiMenu,\n  dots: mdiDotsHorizontal,\n  dotsGrid: mdiDotsGrid,\n  drag: mdiDrag,\n  chart: mdiChartTimelineVariant,\n  power: mdiPower,\n  powerCycle: mdiPowerCycle,\n  powerOn: mdiToggleSwitch,\n  powerOff: mdiToggleSwitchOffOutline,\n  home: mdiHome,\n  close: mdiClose,\n  refresh: mdiRefresh,\n  restart: mdiRestart,\n  restartAlert: mdiRestartAlert,\n  update: mdiUpdate,\n  warning: mdiAlert,\n  error: mdiHandBackRight,\n  thermometer: mdiThermometerLow,\n  bell: mdiBellOutline,\n  fireAlert: mdiFireAlert,\n  snowflakeAlert: mdiSnowflakeAlert,\n  circle: mdiCircle,\n  blankCircle: mdiCheckboxBlankCircleOutline,\n  markedCircle: mdiRadioboxMarked,\n  checkedCircle: mdiCheckCircleOutline,\n  checkboxBlank: mdiCheckboxBlankOutline,\n  checkboxMarked: mdiCheckboxMarkedOutline,\n  alertCircle: mdiAlertCircle,\n  folderAdd: mdiFolderPlus,\n  folderUp: mdiFolderUpload,\n  folderUpload: mdiFolderArrowUp,\n  folder: mdiFolder,\n  fileUpload: mdiUpload,\n  fileAdd: mdiFilePlus,\n  inProgress: mdiCircleSlice3,\n  progressUpload: mdiProgressUpload,\n  up: mdiArrowUp,\n  down: mdiArrowDown,\n  left: mdiArrowLeft,\n  right: mdiArrowRight,\n  tune: mdiTune,\n  zUp: mdiArrowExpandUp,\n  zDown: mdiArrowCollapseDown,\n  expandHorizontal: mdiArrowExpandHorizontal,\n  cog: mdiCog,\n  cogs: mdiCogs,\n  save: mdiContentSaveOutline,\n  estop: mdiCarBrakeAlert,\n  fire: mdiFire,\n  tools: mdiHammerWrench,\n  minus: mdiMinus,\n  plus: mdiPlus,\n  check: mdiCheck,\n  console: mdiConsole,\n  clock: mdiClockOutline,\n  formatLineSpacing: mdiFormatLineSpacing,\n  layersTripleOutline: mdiLayersTripleOutline,\n  chevronUp: mdiChevronUp,\n  chevronDown: mdiChevronDown,\n  chevronRight: mdiChevronRight,\n  chevronLeft: mdiChevronLeft,\n  timer: mdiTimerSand,\n  fileCode: mdiFileCodeOutline,\n  fileRefresh: mdiFileRefreshOutline,\n  files: mdiFileTableOutline,\n  file: mdiFile,\n  fileCancel: mdiFileCancel,\n  pause: mdiPause,\n  cancel: mdiWindowClose,\n  cancelled: mdiCancel,\n  play: mdiPlay,\n  resume: mdiPlay,\n  stop: mdiStop,\n  reprint: mdiPrinter,\n  printer: mdiPrinter,\n  download: mdiDownload,\n  rename: mdiFormTextbox,\n  delete: mdiDelete,\n  camera: mdiCamera,\n  fan: mdiFan,\n  pencil: mdiPencil,\n  pencilLock: mdiPencilLock,\n  magnify: mdiMagnify,\n  magnifyPlus: mdiMagnifyPlus,\n  magnifyMinus: mdiMagnifyMinus,\n  printer3d: mdiPrinter3d,\n  printer3dNozzle: mdiPrinter3dNozzleOutline,\n  printer3dNozzleAlert: mdiPrinter3dNozzleAlertOutline,\n  bedMesh: mdiViewGridOutline,\n  host: mdiDesktopTower,\n  history: mdiHistory,\n  filter: mdiFilterOutline,\n  commit: mdiSourceCommit,\n  cloudCheck: mdiCloudCheck,\n  cloudAlert: mdiCloudAlert,\n  cubeScan: mdiCubeScan,\n  consoleLine: mdiConsoleLine,\n  lock: mdiLock,\n  lockOpen: mdiLockOpenVariant,\n  lockReset: mdiLockReset,\n  reset: mdiRestore,\n  tempError: mdiThermometerAlert,\n  contentCopy: mdiContentCopy,\n  apps: mdiApps,\n  shieldAccount: mdiShieldAccount,\n  retract: mdiSwapVertical,\n  codeJson: mdiCodeJson,\n  desktopTower: mdiDesktopTower,\n  harddisk: mdiHarddisk,\n  message: mdiMessageTextOutline,\n  list: mdiFormatListBulleted,\n  fullScreen: mdiFullscreen,\n  video: mdiFileVideoOutline,\n  snooze: mdiBellSleep,\n  chip: mdiChip,\n  viewHeadline: mdiViewHeadline,\n  absolutePositioning: mdiAxisArrow,\n  relativePositioning: mdiVectorLine,\n  openInNew: mdiOpenInNew,\n  imageSizeSelectLarge: mdiImageSizeSelectLarge,\n  listStatus: mdiListStatus,\n  previousLayer: mdiLayersMinus,\n  currentLayer: mdiLayers,\n  nextLayer: mdiLayersPlus,\n  moves: mdiVectorLine,\n  extrusions: mdiPrinter3dNozzle,\n  retractions: mdiSwapVertical,\n  parts: mdiShape,\n  folderOpen: mdiFolderOpen,\n  fileZip: mdiArchive,\n  fileZipAdd: mdiArchivePlus,\n  jobQueue: mdiTrayFull,\n  enqueueJob: mdiTrayPlus\n})\n\nexport const Waits = Object.freeze({\n  onServiceRestart: 'onServiceRestart',\n  onServiceStop: 'onServiceStop',\n  onServiceStart: 'onServiceStart',\n  onDevicePowerToggle: 'onDevicePowerToggle',\n  onHomeAll: 'onHomeAll',\n  onHomeXY: 'onHomeXY',\n  onHomeX: 'onHomeX',\n  onHomeY: 'onHomeY',\n  onHomeZ: 'onHomeZ',\n  onQGL: 'onQGL',\n  onZTilt: 'onZTilt',\n  onBedScrewsAdjust: 'onBedScrewAdjust',\n  onBedScrewsCalculate: 'onBedScrewsCalculate',\n  onBedTiltCalibrate: 'onBedTiltCalibrate',\n  onDeltaCalibrate: 'onDeltaCalibrate',\n  onPrintPause: 'onPrintPause',\n  onPrintCancel: 'onPrintCancel',\n  onPrintResume: 'onPrintResume',\n  onMacro: 'onMacro',\n  onSetSpeed: 'onSetSpeed',\n  onSetFlow: 'onSetFlow',\n  onSetPressureAdvance: 'onSetPressureAdvance',\n  onSetFanSpeed: 'onSetFanSpeed',\n  onSetOutputPin: 'onSetOutputPin',\n  onZAdjust: 'onZAdjust',\n  onZApply: 'onZApply',\n  onSaveConfig: 'onSaveConfig',\n  onRetract: 'onRetract',\n  onExtrude: 'onExtrude',\n  onMeshCalibrate: 'onMeshCalibrate',\n  onKlipperRestart: 'klipperRestart',\n  onKlipperFirmwareRestart: 'klipperFirmwareRestart',\n  onSetVelocity: 'onSetVelocity',\n  onSetAcceleration: 'onSetAcceleration',\n  onSetDeceleration: 'onSetDeceleration',\n  onSetSCV: 'onSetSCV',\n  onSetRetractLength: 'onSetRetractLength',\n  onSetRetractSpeed: 'onSetRetractSpeed',\n  onSetUnretractSpeed: 'onSetUnretractSpeed',\n  onSetUnretractExtraLength: 'onSetUnretractExtraLength',\n  onExtruderChange: 'onExtruderChange',\n  onLoadLanguage: 'onLoadLanguage',\n  onFileSystem: 'onFileSystem',\n  onJobQueue: 'onJobQueue',\n  onTimelapseSaveFrame: 'onTimelapseSaveFrame',\n  onManualProbe: 'onManualProbe',\n  onProbeCalibrate: 'onProbeCalibrate',\n  onZEndstopCalibrate: 'onZEndstopCalibrate',\n  onQueryEndstops: 'onQueryEndstops',\n  onQueryProbe: 'onQueryProbe',\n  onVersionRefresh: 'onVersionRefresh',\n  onSyncExtruder: 'onSyncExtruder',\n  onStepperEnable: 'onStepperEnable'\n})\n\nexport const SupportedLocales = Object.freeze([\n  { name: 'English', code: 'en' },\n  { name: 'Čeština', code: 'cs' },\n  { name: '简体中文', code: 'zh-CN' },\n  { name: '繁體中文', code: 'zh-HK' },\n  { name: 'Deutsch', code: 'de' },\n  { name: 'Español', code: 'es' },\n  { name: 'Français', code: 'fr' },\n  { name: 'Italiano', code: 'it' },\n  { name: 'Magyar', code: 'hu' },\n  { name: 'Nederlands', code: 'nl' },\n  { name: 'Português', code: 'pt' },\n  { name: 'Русский', code: 'ru' },\n  { name: 'Українська', code: 'uk' },\n  { name: '한국어', code: 'ko' },\n  { name: 'العربية', code: 'ar' },\n  { name: '日本語', code: 'ja' }\n])\n\ntype DateTimeFormat = {\n  locale?: string,\n  options: Intl.DateTimeFormatOptions,\n  suffix?: string\n}\n\nexport const DateFormats = Object.freeze<Record<string, DateTimeFormat>>({\n  iso: {\n    locale: 'lt',\n    options: { day: '2-digit', month: '2-digit', year: 'numeric' },\n    suffix: ' (ISO 8601)'\n  },\n  digits2: {\n    options: { day: '2-digit', month: '2-digit', year: 'numeric' }\n  },\n  short: {\n    options: { day: '2-digit', month: 'short', year: 'numeric' }\n  }\n})\n\nexport const TimeFormats = Object.freeze<Record<string, DateTimeFormat>>({\n  iso: {\n    locale: 'lt',\n    options: { hour: '2-digit', minute: '2-digit', hour12: false },\n    suffix: ' (ISO 8601)'\n  },\n  hours12: {\n    options: { hour: '2-digit', minute: '2-digit', hour12: true }\n  },\n  hours24: {\n    options: { hour: '2-digit', minute: '2-digit', hour12: false }\n  }\n})\n","import Vue from 'vue'\nimport { Globals, Waits } from '@/globals'\nimport { NotifyOptions } from '@/plugins/socketClient'\nimport consola from 'consola'\nimport { TimelapseWritableSettings } from '@/store/timelapse/types'\n\nconst baseEmit = (method: string, options: NotifyOptions) => {\n    if (!Vue.$socket) {\n        consola.warn('Socket emit denied, socket not ready.', method, options)\n        return\n    }\n    Vue.$socket.emit(method, options)\n}\n\nexport const SocketActions = {\n    async machineServicesRestart(service: string) {\n        const wait = Waits.onServiceRestart\n        baseEmit(\n            'machine.services.restart', {\n            dispatch: 'void',\n            params: { service },\n            wait\n        }\n        )\n    },\n\n    async machineServicesStart(service: string) {\n        const wait = Waits.onServiceStart\n        baseEmit(\n            'machine.services.start', {\n            dispatch: 'void',\n            params: { service },\n            wait\n        }\n        )\n    },\n\n    async machineServicesStop(service: string) {\n        const wait = Waits.onServiceStop\n        baseEmit(\n            'machine.services.stop', {\n            dispatch: 'void',\n            params: { service },\n            wait\n        }\n        )\n    },\n\n    async machineReboot() {\n        baseEmit(\n            'machine.reboot', {\n            dispatch: 'void'\n        }\n        )\n    },\n\n    async machineShutdown() {\n        baseEmit(\n            'machine.shutdown', {\n            dispatch: 'void'\n        }\n        )\n    },\n\n    async machineUpdateStatus(refresh = false) {\n        baseEmit(\n            'machine.update.status', {\n            dispatch: 'version/onUpdateStatus',\n            params: { refresh },\n            wait: Waits.onVersionRefresh\n        }\n        )\n    },\n\n    async machineUpdateRefresh(name?: string) {\n        baseEmit(\n            'machine.update.refresh', {\n            dispatch: 'version/onUpdateStatus',\n            params: { name },\n            wait: Waits.onVersionRefresh\n        }\n        )\n    },\n\n    async machineUpdateRecover(name: string, hard = false) {\n        const dispatch = name === 'moonraker'\n            ? 'version/onUpdatedMoonraker'\n            : name === 'klipper'\n                ? 'version/onUpdatedKlipper'\n                : 'version/onUpdatedClient'\n        baseEmit(\n            'machine.update.recover', {\n            dispatch,\n            params: { name, hard }\n        }\n        )\n    },\n\n    async machineUpdateMoonraker() {\n        baseEmit(\n            'machine.update.moonraker', {\n            dispatch: 'version/onUpdatedMoonraker'\n        }\n        )\n    },\n\n    async machineUpdateKlipper() {\n        baseEmit(\n            'machine.update.klipper', {\n            dispatch: 'version/onUpdatedKlipper',\n            params: {\n                include_deps: true\n            }\n        }\n        )\n    },\n\n    async machineUpdateClient(name: string) {\n        const dispatch = name === 'fluidd'\n            ? 'version/onUpdatedFluidd'\n            : 'version/onUpdatedClient'\n        baseEmit(\n            'machine.update.client', {\n            dispatch,\n            params: { name }\n        }\n        )\n    },\n\n    async machineUpdateSystem() {\n        baseEmit(\n            'machine.update.system', {\n            dispatch: 'version/onUpdatedSystem'\n        }\n        )\n    },\n\n    async machineUpdateAll() {\n        baseEmit(\n            'machine.update.full', {\n            dispatch: 'version/onUpdatedAll'\n        }\n        )\n    },\n\n    async machineProcStats() {\n        baseEmit(\n            'machine.proc_stats', {\n            dispatch: 'server/onMachineProcStats'\n        }\n        )\n    },\n\n    async machineSystemInfo() {\n        baseEmit(\n            'machine.system_info', {\n            dispatch: 'server/onMachineSystemInfo'\n        }\n        )\n    },\n\n    async machineDevicePowerDevices() {\n        baseEmit(\n            'machine.device_power.devices', {\n            dispatch: 'power/onInit'\n        }\n        )\n    },\n\n    async machineDevicePowerStatus(device: string) {\n        baseEmit(\n            'machine.device_power.status', {\n            dispatch: 'power/onStatus',\n            params: { [device]: null }\n        }\n        )\n    },\n\n    async machineDevicePowerToggle(device: string, state: string, wait?: string) {\n        const emit = (state === 'on')\n            ? 'machine.device_power.on'\n            : 'machine.device_power.off'\n        baseEmit(\n            emit, {\n            dispatch: 'power/onToggle',\n            params: { [device]: null },\n            wait\n        }\n        )\n    },\n\n    async machineTimelapseSetSettings(settings: Partial<TimelapseWritableSettings>, wait?: string) {\n        baseEmit(\n            'machine.timelapse.post_settings', {\n            dispatch: 'timelapse/onSettings',\n            params: settings,\n            wait\n        }\n        )\n    },\n\n    async machineTimelapseSaveFrames(wait?: string) {\n        baseEmit(\n            'machine.timelapse.saveframes', {\n            wait\n        }\n        )\n    },\n\n    async machineTimelapseRender() {\n        baseEmit('machine.timelapse.render', {})\n    },\n\n    async printerInfo() {\n        baseEmit(\n            'printer.info', {\n            dispatch: 'printer/onPrinterInfo'\n        }\n        )\n    },\n\n    async printerRestart() {\n        baseEmit(\n            'printer.restart', {\n            dispatch: 'void',\n            wait: Waits.onKlipperRestart\n        }\n        )\n    },\n\n    async printerFirmwareRestart() {\n        baseEmit(\n            'printer.firmware_restart', {\n            dispatch: 'void',\n            wait: Waits.onKlipperFirmwareRestart\n        }\n        )\n    },\n\n    async printerQueryEndstops() {\n        baseEmit(\n            'printer.query_endstops.status', {\n            dispatch: 'printer/onQueryEndstops',\n            wait: Waits.onQueryEndstops\n        }\n        )\n    },\n\n    async printerObjectsList() {\n        baseEmit(\n            'printer.objects.list', {\n            dispatch: 'printer/onPrinterObjectsList'\n        }\n        )\n    },\n\n    async printerObjectsSubscribe(objects: { [key: string]: null }) {\n        baseEmit(\n            'printer.objects.subscribe', {\n            dispatch: 'printer/onPrinterObjectsSubscribe',\n            params: {\n                objects\n            }\n        }\n        )\n    },\n\n    async printerPrintStart(path: string) {\n        baseEmit(\n            'printer.print.start', {\n            dispatch: 'void',\n            params: {\n                filename: path\n            }\n        }\n        )\n    },\n\n    async printerPrintCancel() {\n        baseEmit(\n            'printer.print.cancel', {\n            dispatch: 'printer/onPrintCancel',\n            wait: Waits.onPrintCancel\n        }\n        )\n    },\n\n    async printerPrintPause() {\n        baseEmit(\n            'printer.print.pause', {\n            dispatch: 'printer/onPrintPause',\n            wait: Waits.onPrintPause\n        }\n        )\n    },\n\n    async printerPrintResume() {\n        baseEmit(\n            'printer.print.resume', {\n            dispatch: 'printer/onPrintResume',\n            wait: Waits.onPrintResume\n        }\n        )\n    },\n\n    async printerGcodeScript(gcode: string, wait?: string) {\n        baseEmit(\n            'printer.gcode.script', {\n            dispatch: 'console/onGcodeScript',\n            params: {\n                script: gcode\n            },\n            wait\n        }\n        )\n    },\n\n    async printerGcodeHelp() {\n        baseEmit(\n            'printer.gcode.help', {\n            dispatch: 'console/onGcodeHelp'\n        }\n        )\n    },\n\n    async printerEmergencyStop() {\n        baseEmit(\n            'printer.emergency_stop', {\n            dispatch: 'void'\n        }\n        )\n    },\n\n    async serverInfo() {\n        baseEmit(\n            'server.info', {\n            dispatch: 'server/onServerInfo'\n        }\n        )\n    },\n\n    async identify(params?: { client_name: string, version: string, type: string, url: string }) {\n        baseEmit('server.connection.identify', {\n            dispatch: 'socket/onConnectionId',\n            params\n        })\n    },\n\n    async timelapseState() {\n        baseEmit(\n            'machine.timelapse.get_settings', {\n            dispatch: 'timelapse/onSettings'\n        }\n        )\n\n        baseEmit(\n            'machine.timelapse.lastframeinfo', {\n            dispatch: 'timelapse/onLastFrame'\n        }\n        )\n    },\n\n    async serverConfig() {\n        baseEmit(\n            'server.config', {\n            dispatch: 'server/onServerConfig'\n        }\n        )\n    },\n\n    /**\n     * Writes data to moonraker's DB.\n     */\n    async serverWrite(key: string, value: any, namespace: string = Globals.MOONRAKER_DB.fluidd.NAMESPACE) {\n        baseEmit(\n            'server.database.post_item', {\n            params: {\n                namespace,\n                key,\n                value\n            }\n        }\n        )\n    },\n\n    async serverDelete(key: string, namespace: string = Globals.MOONRAKER_DB.fluidd.NAMESPACE) {\n        baseEmit(\n            'server.database.delete_item', {\n            params: {\n                namespace,\n                key\n            }\n        }\n        )\n    },\n\n    async serverRead(key?: string, namespace: string = Globals.MOONRAKER_DB.fluidd.NAMESPACE) {\n        baseEmit(\n            'server.database.get_item', {\n            dispatch: 'socket/onServerRead',\n            params: {\n                namespace,\n                key\n            }\n        }\n        )\n    },\n\n    async serverRestart() {\n        baseEmit(\n            'server.restart', {\n            dispatch: 'void'\n        }\n        )\n    },\n\n    async serverTemperatureStore() {\n        baseEmit(\n            'server.temperature_store', {\n            dispatch: 'charts/initTempStore'\n        }\n        )\n    },\n\n    async serverGcodeStore() {\n        baseEmit(\n            'server.gcode_store', {\n            dispatch: 'console/onGcodeStore'\n        }\n        )\n    },\n\n    async serverHistoryList(params?: { start?: number; limit?: number; before?: number; since?: number; order?: string }) {\n        baseEmit(\n            'server.history.list', {\n            dispatch: 'history/onHistoryList',\n            params\n        }\n        )\n    },\n\n    async serverHistoryTotals() {\n        baseEmit(\n            'server.history.totals', {\n            dispatch: 'history/onHistoryTotals'\n        }\n        )\n    },\n\n    async serverHistoryDeleteJob(uid: string) {\n        const params = uid === 'all'\n            ? {\n                all: true\n            }\n            : { uid }\n\n        baseEmit(\n            'server.history.delete_job', {\n            dispatch: 'history/onDelete',\n            params\n        }\n        )\n    },\n\n    async serverHistoryResetTotals() {\n        baseEmit(\n            'server.history.reset_totals', {\n            dispatch: 'history/onHistoryChange'\n        }\n        )\n    },\n\n    async serverJobQueueStatus() {\n        baseEmit(\n            'server.job_queue.status', {\n            dispatch: 'jobQueue/onJobQueueStatus',\n            wait: Waits.onJobQueue\n        }\n        )\n    },\n\n    async serverJobQueuePostJob(filenames: string[], reset?: boolean) {\n        baseEmit(\n            'server.job_queue.post_job', {\n            dispatch: 'jobQueue/onJobQueueStatus',\n            params: {\n                filenames,\n                reset\n            },\n            wait: Waits.onJobQueue\n        }\n        )\n    },\n\n    async serverJobQueueDeleteJobs(jobIds: string[]) {\n        const params = jobIds.length > 0 && jobIds[0] === 'all'\n            ? { all: true }\n            : { job_ids: jobIds }\n\n        baseEmit(\n            'server.job_queue.delete_job', {\n            dispatch: 'jobQueue/onJobQueueStatus',\n            params,\n            wait: Waits.onJobQueue\n        }\n        )\n    },\n\n    async serverJobQueuePause() {\n        baseEmit(\n            'server.job_queue.pause', {\n            dispatch: 'jobQueue/onJobQueueStatus',\n            wait: Waits.onJobQueue\n        }\n        )\n    },\n\n    async serverJobQueueStart() {\n        baseEmit(\n            'server.job_queue.start', {\n            dispatch: 'jobQueue/onJobQueueStatus',\n            wait: Waits.onJobQueue\n        }\n        )\n    },\n\n    /**\n     * Loads the metadata for a given filepath.\n     * Expects the full path including root.\n     * Optionally pass the just the filename and path.\n     */\n    async serverFilesMetaData(filepath: string) {\n        baseEmit(\n            'server.files.metadata', {\n            dispatch: 'files/onFileMetaData',\n            params: { filename: filepath }\n        }\n        )\n    },\n\n    /**\n     * This only requires path, but we pass root along too\n     * for brevity.\n     */\n    async serverFilesGetDirectory(root: string, path: string) {\n        const wait = `${Waits.onFileSystem}${path}`\n        baseEmit(\n            'server.files.get_directory',\n            {\n                dispatch: 'files/onServerFilesGetDirectory',\n                wait,\n                params: { root, path, extended: true }\n            }\n        )\n    },\n\n    async serverGetGcodes(path?: string) { // Дописано\n        const wait = `${Waits.onFileSystem}${'gcodes'}`\n        if (path) {\n            baseEmit(\n                'server.files.get_directory',\n                {\n                    // dispatch: 'ourExtension/windowFlags/onOpenFileBrowseWindow',\n                    dispatch: 'ourExtension/layoutsData/fileBrowseWindow/onSetGcodeFiles',\n                    wait,\n                    params: { root: 'gcodes', path: `gcodes/${path}`, extended: true }\n                }\n            )\n        } else {\n            baseEmit(\n                'server.files.get_directory',\n                {\n                    // dispatch: 'ourExtension/windowFlags/onOpenFileBrowseWindow',\n                    dispatch: 'ourExtension/layoutsData/fileBrowseWindow/onSetGcodeFiles',\n                    wait,\n                    params: { root: 'gcodes', path: 'gcodes', extended: true }\n                }\n            )\n        }\n    },\n\n    async serverGetAllFilesAndDirs(path: string, root: string) {  // Дописано\n        const wait = `${Waits.onFileSystem}${path}`\n        baseEmit(\n            'server.files.get_directory',\n            {\n                dispatch: 'ourExtension/files/onGetAllFilesAndDirs',\n                wait,\n                params: { root: root, path: `${path}`, extended: true }\n            }\n        )\n    },\n\n    async serverFilesListRoot(root: string) {\n        const wait = `${Waits.onFileSystem}${root}`\n        baseEmit(\n            'server.files.list',\n            {\n                dispatch: 'files/onServerFilesListRoot',\n                wait,\n                params: { root }\n            }\n        )\n    },\n\n    async serverFilesMove(source: string, dest: string) {\n        const wait = Waits.onFileSystem\n        baseEmit(\n            'server.files.move', {\n            dispatch: 'void',\n            wait,\n            params: {\n                source,\n                dest\n            }\n        }\n        )\n    },\n\n    async serverFilesCopy(source: string, dest: string) {\n        const wait = Waits.onFileSystem\n        baseEmit(\n            'server.files.copy', {\n            dispatch: 'void',\n            wait,\n            params: {\n                source,\n                dest\n            }\n        }\n        )\n    },\n\n    async serverFilesZip(dest: string, items: string[], store_only?: boolean) {\n        const wait = Waits.onFileSystem\n        baseEmit(\n            'server.files.zip', {\n            dispatch: 'void',\n            wait,\n            params: {\n                dest,\n                items,\n                store_only\n            }\n        }\n        )\n    },\n\n    /**\n     * Create a directory.\n     * Root should be included in the path.\n     */\n    async serverFilesPostDirectory(path: string) {\n        const wait = Waits.onFileSystem\n        baseEmit(\n            'server.files.post_directory', {\n            dispatch: 'void',\n            wait,\n            params: {\n                path\n            }\n        }\n        )\n    },\n\n    async serverFilesDeleteFile(path: string) {\n        const wait = Waits.onFileSystem\n        baseEmit(\n            'server.files.delete_file', {\n            dispatch: 'void',\n            wait,\n            params: {\n                path\n            }\n        }\n        )\n    },\n\n    async serverFilesDeleteDirectory(path: string, force = false) {\n        const wait = Waits.onFileSystem\n        baseEmit(\n            'server.files.delete_directory', {\n            dispatch: 'void',\n            wait,\n            params: {\n                path,\n                force\n            }\n        }\n        )\n    },\n\n    async serverAnnouncementsList() {\n        baseEmit(\n            'server.announcements.list', {\n            dispatch: 'announcements/onAnnouncementsList'\n        }\n        )\n    },\n\n    async serverAnnouncementsDismiss(entry_id: string, wake_time?: number) {\n        baseEmit(\n            'server.announcements.dismiss', {\n            dispatch: 'void',\n            params: {\n                entry_id,\n                wake_time\n            }\n        }\n        )\n    },\n\n    async serverLogsRollover(application?: string) {\n        baseEmit(\n            'server.logs.rollover', {\n            dispatch: 'server/onLogsRollOver',\n            params: {\n                application\n            }\n        }\n        )\n    },\n\n    async serverWebcamsList() {\n        baseEmit(\n            'server.webcams.list', {\n            dispatch: 'webcams/onWebcamsList'\n        }\n        )\n    }\n}\n","import Vue from 'vue'\nimport { SocketActions } from '@/api/socketActions'\nimport { Component } from 'vue-property-decorator'\n\n@Component\nexport default class ServicesMixin extends Vue {\n  get moonrakerServiceName () {\n    return this.$store.state.server.system_info?.instance_ids?.moonraker || 'moonraker'\n  }\n\n  /**\n   * Resets the UI when restarting/resetting Klipper\n   */\n  async _klipperReset () {\n    this.$store.commit('socket/setAcceptNotifications', false)\n    await this.$store.dispatch('server/resetKlippy', undefined, { root: true })\n    await this.$store.dispatch('reset', [\n      'printer',\n      'charts',\n      'wait'\n    ], { root: true })\n  }\n\n  /**\n   * Reboot the klipper host.\n   */\n  hostReboot () {\n    SocketActions.machineReboot()\n  }\n\n  /**\n   * Shutdown the klipper host.\n   */\n  hostShutdown () {\n    SocketActions.machineShutdown()\n  }\n\n  /**\n   * Restart the klipper service itself.\n   */\n  async serviceRestartKlipper () {\n    this.serviceRestartByName('klipper')\n  }\n\n  /**\n   * Restart the moonraker service itself.\n   */\n  serviceRestartMoonraker () {\n    this.serviceRestartByName(this.moonrakerServiceName)\n  }\n\n  /**\n   * Restart a service by name.\n   */\n  async serviceRestartByName (name: string) {\n    if (name === this.moonrakerServiceName) {\n      SocketActions.serverRestart()\n      this.$store.commit('socket/setSocketDisconnecting', true)\n    } else {\n      if (name === 'klipper') {\n        await this._klipperReset()\n      }\n\n      SocketActions.machineServicesRestart(name)\n    }\n  }\n\n  /**\n   * Start a service by name.\n   */\n  async serviceStartByName (name: string) {\n    SocketActions.machineServicesStart(name)\n  }\n\n  /**\n   * Stop a service by name.\n   */\n  async serviceStopByName (name: string) {\n    if (name === this.moonrakerServiceName) {\n      throw new Error('Stopping the moonraker service is not supported')\n    } else {\n      if (name === 'klipper') {\n        await this._klipperReset()\n      }\n\n      SocketActions.machineServicesStop(name)\n    }\n  }\n\n  /**\n   * Restart klippy / std restart.\n   */\n  async restartKlippy () {\n    await this._klipperReset()\n    SocketActions.printerRestart()\n  }\n\n  /**\n   * Restart klippy and the mcu's.\n   */\n  async firmwareRestartKlippy () {\n    await this._klipperReset()\n    SocketActions.printerFirmwareRestart()\n  }\n}\n","import Vue from 'vue'\nimport { SocketActions } from '@/api/socketActions'\nimport { Component } from 'vue-property-decorator'\n\n@Component\nexport default class StateMixin extends Vue {\n    get authenticated() {\n        const auth = this.$store.getters['auth/getAuthenticated']\n        return auth\n    }\n\n    get socketConnected() {\n        return this.$store.getters['socket/getConnectionState']\n    }\n\n    get apiConnected() {\n        return this.$store.getters['socket/getApiConnected']\n    }\n\n    get socketConnecting() {\n        return this.$store.getters['socket/getConnectingState']\n    }\n\n    get klippyReady() {\n        return this.$store.getters['printer/getklippyReady']\n    }\n\n    get klippyConnected() {\n        const server = this.$store.getters['server/getInfo']\n        return server.klippy_connected\n    }\n\n    get hasWarnings() {\n        return this.$store.getters['printer/getHasWarnings']\n    }\n\n    get klippyState() {\n        return this.$store.getters['printer/getKlippyState']\n    }\n\n    get klippyStateMessage() {\n        return this.$store.getters['printer/getKlippyStateMessage']\n    }\n\n    // Return the printer state\n    get printerState() {\n        return this.$store.getters['printer/getPrinterState']\n    }\n\n    // Returns a boolean indicating if the printer is busy.\n    get printerBusy() {\n        const printerState = this.printerState.toLowerCase()\n\n        return (\n            printerState === 'printing' ||\n            printerState === 'paused' ||\n            printerState === 'busy'\n        )\n    }\n\n    // Returns a boolean indicating if the printer is paused.\n    get printerPaused() {\n        return this.printerState.toLowerCase() === 'paused'\n    }\n\n    /**\n     * Returns a boolean indicating of the printer is printing.\n     * (versus busy in some other way...)\n     */\n    get printerPrinting() {\n        return this.printerState.toLowerCase() === 'printing'\n    }\n\n    /**\n     * Indicates if we have a valid wait(s).\n     * Supports a single string or a list of.\n     */\n    hasWait(wait: string | string[]): boolean {\n        return this.$store.getters['wait/hasWait'](wait) as boolean\n    }\n\n    /**\n     * Indicates if we have any waits.\n     */\n    get hasWaits(): boolean {\n        return this.$store.getters['wait/hasWaits'] as boolean\n    }\n\n    /**\n     * Indicates if we have any waits prefixed by.\n     */\n    hasWaitsBy(prefix: string): boolean {\n        return this.$store.getters['wait/hasWaitsBy'](prefix) as boolean\n    }\n\n    /**\n     * Send a gcode script.\n     */\n    sendGcode(gcode: string, wait?: string) {\n        SocketActions.printerGcodeScript(gcode, wait)\n        this.addConsoleEntry(gcode)\n    }\n\n    addConsoleEntry(message: string) {\n        this.$store.dispatch('console/onAddConsoleEntry', { message, type: 'command' })\n    }\n\n    async emergencyStop() {\n        const confirmOnEstop = this.$store.state.config.uiSettings.general.confirmOnEstop\n        let res: boolean | undefined = true\n        if (confirmOnEstop) {\n            console.log(`res = await this.$confirm(\n                this.$tc('app.general.simple_form.msg.confirm'),\n                { title: this.$tc('app.general.label.confirm'), color: 'card-heading', icon: '$error' }\n            )`)\n        }\n        if (res) {\n            SocketActions.printerEmergencyStop()\n        }\n    }\n\n    // ДОПИСАНО:\n\n    get coordinatesHolder(): number[] {\n        return this.$store.getters['ourExtension/layoutsData/moveWindow/getCoordinates']()\n    }\n\n    get fixedCoordinatesHolder(): string[] {\n        const newCoords = []\n        for (const coord of this.coordinatesHolder) {\n            newCoords.push(coord.toFixed(1))\n        }\n        return newCoords\n    }\n\n    get printerAllowedToStartPrint() {\n        return this.printerState.toLowerCase() === 'ready' || this.printerState.toLowerCase() === 'idle' || this.printerState.toLowerCase() === 'cancelled'\n    }\n}\n","import { FileData, GcodePrintingProfiles } from \"@/store/ourExtension/files/types\";\nimport { PrintingDiapason } from \"@/store/ourExtension/profiles/types\";\nimport { Profile } from \"@/store/ourExtension/profiles/types\";\n\nexport class MockHelper {\n\n    // Неизвестные значения соответствуют действительности (именно так и будет, если будет undefined)\n    getFileDataMock(): FileData {\n        return {\n            name: \"printing_file.gcode\",\n            modified: \"--.--.----\",\n            permissions: \"rw\",\n            size: 0,\n            sizeInKb: \"?\",\n            computedSize: \"?\",\n            layers: \"?\",\n            printingTime: \"?h:?m\",\n            isSelected: false,\n            pathForMoonraker: \"printing_file.gcode\",\n            dirnameForMoonraker: \"\",\n            profiles: this.getGcodePrintingProfilesMock()\n        }\n    }\n\n    getProfileMock(): Profile {\n        return {\n            name: \"Оффлайн-профиль\",\n            profileMainParameters: {\n                current: 15,\n                feedRate: 5,\n                voltage: 220,\n            },\n            profileAdditionalParameters: {\n                arcLength: 1,\n                dynamic: 2,\n                weldingSpeed: 0.5\n            },\n            profileOscilationParameters: {\n                period: 2,\n                type: \"Синус\",\n                width: 5\n            },\n            profileWeldParameters: {\n                gas: \"Ag\",\n                material: \"Fe-C\",\n                method: \"MIG\",\n                wireDiameter: 0.8\n            }\n        }\n    }\n\n    getGcodePrintingProfilesMock(): GcodePrintingProfiles {\n        return {\n            profiles: this.getProfilesMapMock(),\n        }\n    }\n\n    getProfilesMapMock(): Map<string, PrintingDiapason> {\n        const profiles = new Map()\n        profiles.set(this.getProfileMock().name, this.getPrintingDiapasonMock())\n        return profiles\n    }\n\n    getPrintingDiapasonMock(): PrintingDiapason {\n        return {\n            profile: this.getProfileMock(),\n            isRootDiapason: true,\n        }\n    }\n}\n\nexport const mockHelper = new MockHelper()","import { PrintingDiapason } from \"../../profiles/types\"\nimport { InfoAlertType } from \"./types\"\n\nexport class AlertsProcessor {\n    dispatch: Function | null = null\n\n    addDiapasonAlert(layersText: string) {\n        if (!this.dispatch) return\n        const alert: InfoAlertType = {\n            message: `Диапазон добавлен ${layersText}`,\n            type: 'green',\n            time: 1500\n        }\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n\n    diapasonSelectedAlert(layersText: string) {\n        if (!this.dispatch) return\n        const alert: InfoAlertType = {\n            message: `Выбран диапазон ${layersText}`,\n            type: 'green',\n            time: 1500\n        }\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n\n    deleteDiapasonAlert(deletedDiapason: PrintingDiapason) {\n        if (!this.dispatch) return\n        const alert: InfoAlertType = {\n            message: `Удален диапазон (${deletedDiapason.firstLayer} - ${deletedDiapason.lastLayer})`,\n            type: 'red',\n            time: 1500\n        }\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n\n    deleteAllDiapasonesAlert() {\n        if (!this.dispatch) return\n        const alert: InfoAlertType = {\n            message: `Удалены все диапазоны кроме первого`,\n            type: 'red',\n            time: 1500\n        }\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n\n    lastPrintingProfileSelectedAlert(layersText?: string) {\n        if (!this.dispatch) return\n        let message = `Выбран профиль последней печати`\n        if (layersText) {\n            message += ` ${layersText}`\n        }\n        const alert: InfoAlertType = {\n            message: message,\n            type: 'green',\n            time: 2000\n        }\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n\n    profileSelectedAlert(profileName: string, layersText?: string) {\n        if (!this.dispatch) return\n        let message = `Выбран профиль: ${profileName}`\n        if (layersText) {\n            message += ` ${layersText}`\n        }\n        const alert: InfoAlertType = {\n            message: message,\n            type: 'green',\n            time: 2000\n        }\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n\n    showInfoAlert(alert: InfoAlertType) {\n        if (!this.dispatch) return\n        this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n    }\n}\n\nexport const Alerts = new AlertsProcessor()\n\n// export const Alerts = {\n//     get dispatch(): Function {\n//         return this.dispatch\n//     },\n\n//     set dispatch(dispatch: Function) {\n//         this.dispatch = dispatch\n//     },\n\n//     addDiapasonAlert(layersText: string) {\n//         const alert: InfoAlertType = {\n//             message: `Диапазон добавлен ${layersText}`,\n//             type: 'green',\n//             time: 1500\n//         }\n//         this.dispatch('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n//     },\n\n//     diapasonSelectedAlert(dispatchFunc: Function, layersText: string) {\n//         const alert: InfoAlertType = {\n//             message: `Выбран диапазон ${layersText}`,\n//             type: 'green',\n//             time: 1500\n//         }\n//         dispatchFunc('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n//     },\n\n//     deleteDiapasonAlert(dispatchFunc: Function, deletedDiapason: PrintingDiapason) {\n//         const alert: InfoAlertType = {\n//             message: `Удален диапазон (${deletedDiapason.firstLayer} - ${deletedDiapason.lastLayer})`,\n//             type: 'red',\n//             time: 1500\n//         }\n//         dispatchFunc('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n//     },\n\n//     deleteAllDiapasonesAlert(dispatchFunc: Function) {\n//         const alert: InfoAlertType = {\n//             message: `Удалены все диапазоны кроме первого`,\n//             type: 'red',\n//             time: 1500\n//         }\n//         dispatchFunc('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n//     },\n\n//     lastPrintingProfileSelectedAlert(dispatchFunc: Function, layersText?: string) {\n//         let message = `Выбран профиль последней печати`\n//         if (layersText) {\n//             message += ` ${layersText}`\n//         }\n//         const alert: InfoAlertType = {\n//             message: message,\n//             type: 'green',\n//             time: 2000\n//         }\n//         dispatchFunc('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n//     },\n\n//     profileSelectedAlert(dispatchFunc: Function, profileName: string, layersText?: string) {\n//         let message = `Выбран профиль: ${profileName}`\n//         if (layersText) {\n//             message += ` ${layersText}`\n//         }\n//         const alert: InfoAlertType = {\n//             message: message,\n//             type: 'green',\n//             time: 2000\n//         }\n//         dispatchFunc('ourExtension/layoutsData/alerts/showInfoAlert', alert, { root: true })\n//     }\n// }","import { mockHelper } from '@/helpers/mockHelper'\nimport { FileData, GcodePrintingProfiles } from '@/store/ourExtension/files/types'\nimport { Alerts } from '@/store/ourExtension/layoutsData/alerts/helpers'\nimport { AlertType, InfoAlertType } from '@/store/ourExtension/layoutsData/alerts/types'\nimport { InitInputWindowData, InputWindowData } from '@/store/ourExtension/layoutsData/inputWindow/types'\nimport { SelectListInitData } from '@/store/ourExtension/layoutsData/selectListWindow/types'\nimport { PrintingDiapasonForMoonraker } from '@/store/ourExtension/profiles/types'\nimport Vue from 'vue'\nimport { Component } from 'vue-property-decorator'\n\n@Component\nexport default class WindowsMixin extends Vue {\n    openInputWindow(defaultImplementation: boolean, coordName: string, initValue: number, valcoderStep: number, dispachAfterConfirm?: string, callbackAfterConfirm?: Function,\n        maxValue?: number, minValue?: number, rejectPointClick?: boolean, coordUnits?: string, isItTime?: boolean) {\n        if (!dispachAfterConfirm) {\n            dispachAfterConfirm = 'void'\n        }\n\n        const inputWindowData: InputWindowData = {\n            coordName: coordName,\n            initValue: initValue,\n            dispachAfterConfirm: dispachAfterConfirm,\n            callbackAfterConfirm: callbackAfterConfirm,\n            maxValue: maxValue,\n            minValue: minValue,\n            rejectPointClick: rejectPointClick,\n            coordUnits: coordUnits,\n            isItTime: isItTime\n        }\n        const initInfo: InitInputWindowData = {\n            inputWindowData: inputWindowData,\n            valcoderStep: valcoderStep,\n        }\n        if (defaultImplementation) {\n            this.$store.dispatch('ourExtension/layoutsData/inputWindow/initInputWindow', initInfo);\n        } else {\n            this.$store.dispatch('ourExtension/layoutsData/inputWindow/initNotDefaultInputWindow', initInfo);\n        }\n        this.$store.dispatch('ourExtension/windowFlags/openInputWindow');\n    }\n\n    openSelectWindowWithoutIcon(callback: Function, initList: string[], z_index?: number) {\n        const initData: SelectListInitData = {\n            callbackAfterConfirm: callback,\n            initList: initList,\n            zIndex: z_index\n        }\n\n\n        this.$store.dispatch('ourExtension/layoutsData/selectListWindow/reset')\n        this.$store.dispatch('ourExtension/layoutsData/selectListWindow/initWithoutIcons', initData)\n        this.$store.dispatch('ourExtension/windowFlags/openSelectListWindow')\n    }\n\n    openSelectWindowWithIcon(callback: Function, initMap: Map<string, string>) {  // Текст иконки, текст элемента\n        const initData: SelectListInitData = {\n            callbackAfterConfirm: callback,\n            initMap: initMap\n        }\n\n\n        this.$store.dispatch('ourExtension/layoutsData/selectListWindow/reset')\n        this.$store.dispatch('ourExtension/layoutsData/selectListWindow/initWithIcons', initData)\n        this.$store.dispatch('ourExtension/windowFlags/openSelectListWindow')\n    }\n\n    initExisitingPrintingWindow(needAlert = false) {\n        let hasFile = this.$store.getters['ourExtension/layoutsData/printingWindow/hasFile']()\n        const hasPrintingDiapason = this.$store.getters['ourExtension/layoutsData/printingWindow/hasPrintingDiapason']()\n        const printerFile = this.$store.state.printer.printer.current_file\n        const fileInWindow = this.$store.getters['ourExtension/layoutsData/printingWindow/getFile']() as FileData\n        if (hasFile && printerFile.filename && printerFile.filename !== fileInWindow.name) {  // Если вдруг случилась подмена файлов\n            hasFile = false\n        }\n\n        if (!hasFile || !hasPrintingDiapason) {\n            this.$store.dispatch('ourExtension/layoutsData/printingWindow/reset')\n            const file = this.resolveFileForExistingPrintingWindow()\n            this.$store.dispatch('ourExtension/layoutsData/printingWindow/setFile', file)\n\n            const diapasonForMoonraker: PrintingDiapasonForMoonraker = this.resolveDiapasonForExistingPrintingWindow(file)\n            const diapasonCopy = JSON.parse(JSON.stringify(diapasonForMoonraker))\n            this.$store.dispatch('ourExtension/layoutsData/printingWindow/setPrintingDiapason', diapasonCopy)\n        }\n\n        this.$store.dispatch('ourExtension/windowFlags/openPrintingWindow')\n\n\n        const alert: AlertType = {\n            message: 'Печать невозможна. Принтер уже печатает',\n            type: 'ok'\n        }\n        if (needAlert) {\n            this.$store.dispatch('ourExtension/layoutsData/alerts/addToAlertQueue', alert)\n        }\n\n    }\n\n    resolveDiapasonForExistingPrintingWindow(file: FileData): PrintingDiapasonForMoonraker {\n        let lastPrintingProfile = file.profiles?.selectedDiapason?.profile  // Тут как правило getLastPrintingProfile()\n        if (!lastPrintingProfile) {\n            lastPrintingProfile = this.$store.getters['ourExtension/profiles/getLastPrintingProfile']()\n            if (!lastPrintingProfile) {\n                lastPrintingProfile = mockHelper.getProfileMock()\n            }\n        }\n        return {\n            allLayersFlag: true,\n            firstLayer: null,\n            lastLayer: null,\n            profile: lastPrintingProfile,\n        }\n    }\n\n    resolveFileForExistingPrintingWindow(): FileData {\n        let file: FileData = this.$store.getters['ourExtension/files/getLastPrintingFile']()  // TODO убрать\n        if (!file) {\n            file = this.getFileMock()\n        }\n        const printerFile = this.$store.state.printer.printer.current_file\n        if (printerFile.filename) {\n            file.name = printerFile.filename\n            file.pathForMoonraker = printerFile.filename\n        }\n        return file\n    }\n\n    getFileMock(): FileData {\n        const fileData = mockHelper.getFileDataMock()\n        let lastPrintingFile = this.$store.getters['ourExtension/profiles/getLastPrintingProfile']()\n        if (!lastPrintingFile) {\n            lastPrintingFile = mockHelper.getProfileMock()\n        }\n        let profilesMap = this.$store.getters['ourExtension/profiles/getDefaultProfilesMap']\n        if (!profilesMap) {\n            profilesMap = mockHelper.getProfilesMapMock()\n        }\n        const profiles: GcodePrintingProfiles = {\n            profiles: profilesMap,\n            selectedDiapason: {\n                isRootDiapason: true,\n                profile: lastPrintingFile,\n            }\n        }\n        fileData.profiles = profiles\n        return fileData\n    }\n\n    initNewPrintingWindow(diapasonForMoonraker: PrintingDiapasonForMoonraker, file: FileData) {\n        this.$store.commit('ourExtension/profiles/setLastPrintingProfile', diapasonForMoonraker.profile)\n        this.$store.dispatch('ourExtension/layoutsData/printingWindow/reset')\n        const diapasonCopy = JSON.parse(JSON.stringify(diapasonForMoonraker))\n        this.$store.dispatch('ourExtension/layoutsData/printingWindow/setPrintingDiapason', diapasonCopy)\n        this.$store.dispatch('ourExtension/layoutsData/printingWindow/setFile', file)\n    }\n\n    screenIsBlockingAlert() {\n        const alert: InfoAlertType = {\n            message: `<span>Экран заблокирован. Для разблокировки удерживайте кнопку настроек в течение 1 секунды</span>\n                <style>\n                .info-alert span {\n                    text-align: center;\n                }\n                </style>`,\n            type: 'red',\n        }\n        Alerts.showInfoAlert(alert)\n    }\n}","\nimport FatalSelectList from './FatalSelectList.vue'\nimport ServicesMixin from '@/mixins/services';\nimport StateMixin from '@/mixins/state';\nimport WindowsMixin from '@/mixins/windows';\nimport { Alerts } from '@/store/ourExtension/layoutsData/alerts/helpers';\nimport { AlertType, InfoAlertType } from '@/store/ourExtension/layoutsData/alerts/types';\nimport { Prop, Component, Vue, Mixins } from 'vue-property-decorator';\n\n@Component({\n    components: {\n        FatalSelectList\n    },\n})\nexport default class FatalErrorAlert extends Mixins(StateMixin, ServicesMixin, WindowsMixin) {\n\n    items = ['Klipper', 'Прошивка', 'Moonraker', 'Интерфейс']\n    listFlag = false\n\n    get message(): string {\n        // return(`Internal error during connect: Unknown error: HTTPConnectionPool(host='192.168.1.108', port=80): Max retries exceeded with url: /onvif/device_service (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f128dda1320>: Failed to establish a new connection: [Errno 101] Network is unreachable'))<br /><br />Once the underlying issue is corrected, use the \"RESTART\"<br />command to reload the config and restart the host software.<br />Printer is halted`)\n        // console.log('MESSAGE')\n        // console.log(this.klippyStateMessage)\n        return this.klippyStateMessage\n    }\n\n    beforeDestroy() {\n        this.closeList()\n    }\n\n    restartKlipper() {\n        this.restartKlippy()\n        const alert: InfoAlertType = {\n            message: 'Отправлен запрос на перезагрузку Klipper',\n            type: 'green'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    restartFirmware() {\n        this.firmwareRestartKlippy()\n        const alert: InfoAlertType = {\n            message: 'Отправлен запрос на перезагрузку прошивки',\n            type: 'green'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    restartMoonraker() {\n        this.serviceRestartMoonraker()\n        const alert: InfoAlertType = {\n            message: 'Отправлен запрос на перезагрузку Moonraker',\n            type: 'green'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    restartInterface() {\n        location.reload()\n    }\n\n    restart() {\n        this.listFlag = true\n    }\n\n    closeList() {\n        this.listFlag = false\n\n    }\n\n    selectItem(selectedItem: string) {\n        switch (selectedItem) {\n            case 'Klipper':\n                this.restartKlipper()\n                break;\n            case 'Прошивка':\n                this.restartFirmware()\n                break;\n            case 'Moonraker':\n                this.restartMoonraker()\n                break;\n            case 'Интерфейс':\n                this.restartInterface()\n                break;\n        }\n        this.closeList()\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FatalErrorAlert.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FatalErrorAlert.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FatalErrorAlert.vue?vue&type=template&id=4604c570&\"\nimport script from \"./FatalErrorAlert.vue?vue&type=script&lang=ts&\"\nexport * from \"./FatalErrorAlert.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FatalErrorAlert.vue?vue&type=style&index=0&id=4604c570&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport { AxiosRequestConfig, AxiosResponse } from 'axios'\n\nexport const httpClientActions = {\n  get<T = any, R = AxiosResponse<T>, D = any> (url: string, options?: AxiosRequestConfig) {\n    return Vue.$httpClient.get<T, R, D>(url, options)\n  },\n\n  post<T = any, R = AxiosResponse<T>, D = any> (url: string, data: any, options?: AxiosRequestConfig) {\n    return Vue.$httpClient.post<T, R, D>(url, data, options)\n  },\n\n  delete<T = any, R = AxiosResponse<T>, D = any> (url: string, options?: AxiosRequestConfig) {\n    return Vue.$httpClient.delete<T, R, D>(url, options)\n  },\n\n  get defaults () {\n    return Vue.$httpClient.defaults\n  },\n\n  accessInfoGet (options?: AxiosRequestConfig) {\n    return this.get<{\n      result: {\n        default_source: string,\n        available_sources: string[]\n      }\n    }>('/access/info', options)\n  },\n\n  accessRefreshJwtPost (refresh_token: string, options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        username: string,\n        token: string,\n        action: string,\n        source: string\n      }\n    }>('/access/refresh_jwt', { refresh_token }, options)\n  },\n\n  accessLoginPost (username: string, password: string, source = 'moonraker', options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        username: string,\n        token: string,\n        refresh_token: string,\n        action: string,\n        source: string\n      }\n    }>('/access/login', {\n      username,\n      password,\n      source\n    }, options)\n  },\n\n  accessLogoutPost (options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        username: string,\n        action: string\n      }\n    }>('access/logout', undefined, options)\n  },\n\n  accessOneshotTokenGet (options?: AxiosRequestConfig) {\n    return this.get<{\n      result: string\n    }>('/access/oneshot_token', options)\n  },\n\n  accessCurrentUserGet (options?: AxiosRequestConfig) {\n    return this.get<{\n      result: {\n        username: string,\n        source: string,\n        created_on: number\n      }\n    }>('/access/user', options)\n  },\n\n  accessUsersListGet (options?: AxiosRequestConfig) {\n    return this.get<{\n      result: {\n        users: Array<{\n          username: string,\n          source: string,\n          created_on: number\n        }>\n      }\n    }>('/access/users/list', options)\n  },\n\n  accessUserPost (username: string, password: string, options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        username: string,\n        token: string,\n        refresh_token: string,\n        action: string,\n        source: string\n      }\n    }>('/access/user', {\n      username,\n      password\n    }, options)\n  },\n\n  accessUserDelete (username: string, options?: AxiosRequestConfig) {\n    return this.delete<{\n      result: {\n        username: string,\n        action: string\n      }\n    }>('/access/user', {\n      ...options,\n      params: { username }\n    })\n  },\n\n  accessUserPasswordPost (password: string, new_password: string, options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        username: string,\n        action: string\n      }\n    }>('/access/user/password', {\n      password,\n      new_password\n    }, options)\n  },\n\n  accessApiKeyGet (options?: AxiosRequestConfig) {\n    return this.get<{\n      result: string\n    }>('/access/api_key', options)\n  },\n\n  accessApiKeyPost (options?: AxiosRequestConfig) {\n    return this.post<{\n      result: string\n    }>('/access/api_key', undefined, options)\n  },\n\n  serverDatabaseItemGet<T = any> (namespace: string, options?: AxiosRequestConfig) {\n    return this.get<{\n      result: {\n        namespace: string,\n        key: string,\n        value: T\n      }\n    }>(`/server/database/item?namespace=${namespace}`, options)\n  },\n\n  serverDatabaseItemPost<T = any> (namespace: string, key: string, value: T, options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        namespace: string,\n        key: string,\n        value: T\n      }\n    }>('/server/database/item', {\n      namespace,\n      key,\n      value\n    }, options)\n  },\n\n  serverFilesUploadPost (data: FormData, options?: AxiosRequestConfig) {\n    return this.post<{\n      result: {\n        item: {\n          path: string,\n          root: string\n        }\n        print_started?: boolean,\n        action: string\n      }\n    }>('/server/files/upload', data, options)\n  },\n\n  serverFilesGet<T = any> (filepath: string, options?: AxiosRequestConfig) {\n    return this.get<T>(`/server/files/${encodeURI(filepath)}?date=${Date.now()}`, options)\n  }\n}\n","import { AppFile, FilesUpload, Thumbnail } from '@/store/files/types'\nimport Vue from 'vue'\nimport { Component } from 'vue-property-decorator'\nimport { AxiosRequestConfig } from 'axios'\nimport { httpClientActions } from '@/api/httpClientActions'\nimport { FileWithPath } from '@/util/file-system-entry'\nimport { FileData } from '@/store/ourExtension/files/types'\nimport { PrintingDiapasonForMoonraker } from '@/store/ourExtension/profiles/types'\n\n@Component\nexport default class FilesMixin extends Vue {\n    get cancelTokenSource() {\n        return this.$store.state.files.fileTransferCancelTokenSource\n    }\n\n    get apiUrl() {\n        return this.$store.state.config.apiUrl\n    }\n\n    get isTrustedUser() {\n        const forceLogins = this.$store.getters['server/getConfig'].authorization.force_logins\n\n        return forceLogins === false || this.$store.getters['auth/getCurrentUser']?.username === '_TRUSTED_USER_'\n    }\n\n    getThumbUrl(thumbnails: Thumbnail[], path: string, large: boolean, date?: number) {\n        if (thumbnails.length) {\n            const thumb = this.getThumb(thumbnails, path, large, date)\n\n            if (thumb) {\n                return thumb.absolute_path || thumb.data || ''\n            }\n        }\n        return ''\n    }\n\n    getThumb(thumbnails: Thumbnail[], path: string, large = true, date?: number) {\n        if (thumbnails.length) {\n            let thumb: Thumbnail | undefined\n            if (thumbnails) {\n                if (large) {\n                    thumb = thumbnails.reduce((a, c) => (a.size && c.size && (a.size > c.size)) ? a : c)\n                } else {\n                    thumb = thumbnails.reduce((a, c) => (a.size && c.size && (a.size < c.size)) ? a : c)\n                }\n                if (thumb) {\n                    if (thumb.relative_path && thumb.relative_path.length > 0) {\n                        const filepath = path ? `gcodes/${path}` : 'gcodes'\n\n                        return {\n                            ...thumb,\n                            absolute_path: this.createFileUrl(thumb.relative_path, filepath, date)\n                        }\n                    }\n                    if (thumb.data) {\n                        return {\n                            ...thumb,\n                            data: 'data:image/gif;base64,' + thumb.data\n                        }\n                    }\n                    if (thumb.absolute_path) {\n                        return thumb\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Loads a gcode file and parses for the gcode-viewer.\n     */\n    // async getGcode(file: AppFile) {\n    //     const sizeInMB = file.size / 1024 / 1024\n    //     let res: boolean | undefined = true\n\n    //     if (sizeInMB >= 100) {\n    //         console.log(`res = await this.$confirm(\n    //             this.$t('app.gcode.msg.confirm', {\n    //                 filename: file.filename,\n    //                 size: this.$filters.getReadableFileSizeString(file.size)\n    //             }).toString(), {\n    //             title: this.$tc('app.general.title.gcode_preview'),\n    //             color: 'card-heading',\n    //             icon: '$error'\n    //         })`)\n    //     }\n\n    //     if (res) {\n    //         this.$store.dispatch('files/createFileTransferCancelTokenSource')\n\n    //         const path = file.path ? `gcodes/${file.path}` : 'gcodes'\n    //         return await this.getFile(file.filename, path, file.size, {\n    //             responseType: 'text',\n    //             transformResponse: [v => v],\n    //             cancelToken: this.cancelTokenSource.token\n    //         })\n    //     }\n    // }\n\n    async getGcode(file: FileData) {\n        const sizeInMB = file.size / 1024 / 1024\n        let res: boolean | undefined = true\n\n        if (sizeInMB >= 100) {\n            console.log(`res = await this.$confirm(\n                this.$t('app.gcode.msg.confirm', {\n                    filename: file.filename,\n                    size: this.$filters.getReadableFileSizeString(file.size)\n                }).toString(), {\n                title: this.$tc('app.general.title.gcode_preview'),\n                color: 'card-heading',\n                icon: '$error'\n            })`)\n        }\n\n        if (res) {\n            this.$store.dispatch('files/createFileTransferCancelTokenSource')\n            const path = file.dirnameForMoonraker ? `gcodes/${file.dirnameForMoonraker}` : 'gcodes'\n            return await this.getFile(file.name, path, file.size, {\n                responseType: 'text',\n                transformResponse: [v => v],\n                cancelToken: this.cancelTokenSource.token\n            })\n        }\n    }\n\n    /**\n     * Will retrieve a file blob for independent processing.\n     * @param filename The filename to retrieve\n     * @param path The path to the file\n     */\n    async getFile(filename: string, path: string, size = 0, options?: AxiosRequestConfig) {\n        // Sort out the filepath\n        const filepath = path ? `${path}/${filename}` : filename\n\n        // Add an entry to vuex indicating we're downloading a file.\n        const startTime = performance.now()\n        this.$store.dispatch('files/updateFileDownload', {\n            // starttime: performance.now(),\n            filepath,\n            size,\n            loaded: 0,\n            percent: 0,\n            speed: 0,\n            unit: 'kB'\n        })\n\n        // Append any additional options.\n        const o = {\n            ...options,\n            onDownloadProgress: (progressEvent: ProgressEvent) => {\n                const units = ['kB', 'MB', 'GB']\n                let speed = 0\n                let i = 0\n                const delta = performance.now() - startTime\n                if (delta > 0) {\n                    speed = progressEvent.loaded / delta\n                    while (speed > 1024) {\n                        speed /= 1024\n                        i = Math.min(2, i + 1)\n                    }\n                }\n\n                const payload: any = {\n                    filepath,\n                    loaded: progressEvent.loaded,\n                    percent: Math.round(progressEvent.loaded / size * 100),\n                    speed,\n                    unit: units[i]\n                }\n\n                if (progressEvent.lengthComputable) {\n                    size = payload.size = progressEvent.total\n                }\n\n                this.$store.dispatch('files/updateFileDownload', payload)\n            }\n        }\n\n        return await httpClientActions.serverFilesGet(filepath, o)\n    }\n\n    /**\n     * Will download a file by filepath via a standard browser link.\n     * @param filename The filename to retrieve.\n     * @param path The path to the file.\n     */\n    async downloadFile(filename: string, path: string) {\n        // Grab a oneshot.\n        try {\n            const url = await this.createFileUrlWithToken(filename, path)\n\n            // Create a link, handle its click - and finally remove it again.\n            const link = document.createElement('a')\n            link.href = url\n            link.setAttribute('download', filename)\n            link.setAttribute('target', '_blank')\n            document.body.appendChild(link)\n            link.click()\n            document.body.removeChild(link)\n        } catch {\n            // Likely a 401.\n        }\n    }\n\n    /**\n     * Creates a url for a file by filepath.\n     * Implements a oneshot.\n     * @param filename The filename.\n     * @param path The path to the file.\n     * @returns The url for the requested file\n     */\n    createFileUrl(filename: string, path: string, date?: number) {\n        const filepath = (path) ? `${path}/${filename}` : `${filename}`\n\n        return `${this.apiUrl}/server/files/${encodeURI(filepath)}?date=${date || Date.now()}`\n    }\n\n    async createFileUrlWithToken(filename: string, path: string, date?: number) {\n        const url = this.createFileUrl(filename, path, date)\n\n        return this.isTrustedUser\n            ? url\n            : `${url}&token=${(await httpClientActions.accessOneshotTokenGet()).data.result}`\n    }\n\n    /**\n     * Uploads a single file via moonraker.\n     * @param file The file object. Contains the filename.\n     * @param path The path we're uploading to.\n     * @param root The root we're downloading from.\n     * @param andPrint If we should attempt to print this file or not.\n     * @param options Axios request options\n     */\n    async uploadFile(file: File, path: string, root: string, andPrint: boolean, options?: AxiosRequestConfig) {\n        const formData = new FormData()\n        // let filename = file.name.replace(' ', '_')\n        let filepath = `${path}${file.name}`\n        filepath = (filepath.startsWith('/'))\n            ? filepath\n            : '/' + filepath\n        formData.append('file', file, file.name)\n        formData.append('path', path)\n        formData.append('root', root)\n        if (andPrint) {\n            formData.append('print', 'true')\n        }\n\n        const startTime = performance.now()\n        this.$store.dispatch('files/updateFileUpload', {\n            filepath,\n            size: file.size,\n            loaded: 0,\n            percent: 0,\n            speed: 0,\n            unit: 'kB',\n            cancelled: false\n        })\n\n        return httpClientActions.serverFilesUploadPost(formData, {\n            ...options,\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            },\n            onUploadProgress: (progressEvent: ProgressEvent) => {\n                const units = ['kB', 'MB', 'GB']\n                let speed = 0\n                let i = 0\n                const delta = performance.now() - startTime\n                if (delta > 0) {\n                    speed = progressEvent.loaded / delta\n                    while (speed > 1024) {\n                        speed /= 1024\n                        i = Math.min(2, i + 1)\n                    }\n                }\n                this.$store.dispatch('files/updateFileUpload', {\n                    filepath,\n                    loaded: progressEvent.loaded,\n                    percent: Math.round(progressEvent.loaded / progressEvent.total * 100),\n                    speed,\n                    unit: units[i]\n                })\n            }\n        })\n            .then((response) => {\n                return response\n            })\n            .catch(e => {\n                return e\n            })\n            .finally(() => {\n                this.$store.dispatch('files/removeFileUpload', filepath)\n            })\n    }\n\n    getFullPathAndFile(rootPath: string, file: File | FileWithPath): [string, File] {\n        if ('path' in file) {\n            return [\n                `${rootPath}/${file.path}`,\n                file.file\n            ]\n        } else {\n            return [\n                rootPath,\n                file\n            ]\n        }\n    }\n\n    // Upload some files.\n    async uploadFiles(files: FileList | File[] | FileWithPath[], path: string, root: string, andPrint: boolean) {\n        // For each file, adds the associated state.\n        for (const file of files) {\n            const [fullPath, fileObject] = this.getFullPathAndFile(path, file)\n\n            let filepath = `${fullPath}${fileObject.name}`\n            filepath = (filepath.startsWith('/'))\n                ? filepath\n                : '/' + filepath\n            this.$store.dispatch('files/updateFileUpload', {\n                filepath,\n                size: fileObject.size,\n                loaded: 0,\n                percent: 0,\n                speed: 0,\n                unit: 'kB',\n                cancelled: false\n            })\n        }\n\n        // Async uploads cause issues in moonraker / klipper.\n        // So instead, upload sequentially waiting for moonraker to finish\n        // processing of each file.\n        if (files.length > 1) andPrint = false\n        for (const file of files) {\n            const [fullPath, fileObject] = this.getFullPathAndFile(path, file)\n\n            let filepath = `${fullPath}${fileObject.name}`\n            filepath = (filepath.startsWith('/'))\n                ? filepath\n                : '/' + filepath\n            const fileState = this.$store.state.files.uploads.find((u: FilesUpload) => u.filepath === filepath)\n            // consola.error('about to process...', fileState)\n            if (fileState && !fileState?.cancelled) {\n                try {\n                    this.$store.dispatch('files/createFileTransferCancelTokenSource')\n\n                    await this.uploadFile(fileObject, fullPath, root, andPrint, {\n                        cancelToken: this.cancelTokenSource.token\n                    })\n                } catch (e) {\n                    return e\n                }\n            } else {\n                this.$store.dispatch('files/removeFileUpload', filepath)\n            }\n        }\n    }\n\n    /// Дописано\n\n    async sendProfile(diapasonForMoonraker: PrintingDiapasonForMoonraker) {\n        return await this.sendDiapasonForServer(diapasonForMoonraker)\n    }\n\n    \n\n    async sendDiapasonForServer(diapasonForMoonraker: PrintingDiapasonForMoonraker) {\n        const diapasonStr = JSON.stringify(diapasonForMoonraker, null, 2)\n        const file = new File([diapasonStr], 'selected_diapason.json', { type: \"text/plain\" });\n        const response = await this.uploadFile(file, 'profiles', 'config', false)\n        return response\n    }\n}\n","export const parseGcode = (gcode: string) => {\n    let layerCounter = -1;\n    let stringLayerCounter = '?';\n    let buildTime = '?h ?m';\n    const lines = gcode.split('\\n')\n    for (const line of lines) {\n        if (line.includes('layer')) {\n            const layerNumber = getLayerNumber(line);\n            const intLayerNumber = parseInt(layerNumber);\n            if (!isNaN(intLayerNumber)) {\n                layerCounter = intLayerNumber;\n            }\n        }\n        if (line.includes('Build time:')) {\n            buildTime = resolveBuildTime(line)\n        }\n    }\n\n    if (layerCounter !== -1) {\n        stringLayerCounter = layerCounter + \"\"\n    }\n    return [stringLayerCounter, buildTime];\n}\n\nfunction getLayerNumber(layerString: string): string {\n    let layerNumber = ''\n    const layerNumberIndex = layerString.indexOf('layer') + 5 + 1;\n\n    if (layerString.length >= layerNumberIndex) {\n        let tempString = layerString.slice(layerNumberIndex)\n        for (const ch of tempString) {\n            const digit = parseInt(ch);\n            if (!isNaN(digit)) {\n                layerNumber += digit;\n            } else {\n                break;\n            }\n        }\n    }\n\n    return layerNumber;\n}\n\nfunction resolveBuildTime(line: string) {\n    let hours = '';\n    let minutes = '';\n    const dvoetochieIndex = line.indexOf(\":\");\n    const hoursIndex = dvoetochieIndex + 2;\n    if (line.length >= hoursIndex) {\n        hours = extractNextDigit(line, hoursIndex);\n    }\n\n    const minutesIndex = line.indexOf('hours') + 5 + 1;\n    if (line.length >= minutesIndex) {\n        minutes = extractNextDigit(line, minutesIndex);\n    }\n    return `${hours}h ${minutes}m`\n}\n\nfunction extractNextDigit(line: string, digitIndex: number): string {\n    let hours = ''\n    const tempLine = line.slice(digitIndex)\n    for (const ch of tempLine) {\n        const digit = parseInt(ch);\n        if (!isNaN(digit)) {\n            hours += digit;\n        } else {\n            break;\n        }\n    }\n\n    const intHours = parseInt(hours);\n    if (!isNaN(intHours)) {\n        hours = intHours + '';\n    } else {\n        hours = \"?\"\n    }\n\n    return hours;\n}","import { profiles } from \".\";\nimport { PrintingDiapason, PrintingDiapasonProcessor, Profile, ProfileAdditionalParameters, ProfileMainParameters, ProfileOscilationParameters, ProfilesMetadata, ProfileWeldParameters } from \"./types\";\n\nexport const isSatisfiesProfilesMetadataType = (data: any): Boolean => {\n    const mockProfilesMetadata: ProfilesMetadata = {\n        gas: [],\n        oscilationTypes: [],\n        weldTypes: [],\n        wireDiameters: [],\n        materials: []\n    }\n    const keys = Object.keys(mockProfilesMetadata)\n    for (const key in data) {\n        const index = keys.indexOf(key);\n        if (index != -1) {\n            keys.splice(index, 1)\n        }\n    }\n    return keys.length === 0\n}\n\nexport const isSatisfiesProfileType = (data: any): Boolean => {\n    const mockProfile: Profile = {\n        name: \"\",\n        profileAdditionalParameters: {} as ProfileAdditionalParameters,\n        profileMainParameters: {} as ProfileMainParameters,\n        profileOscilationParameters: {} as ProfileOscilationParameters,\n        profileWeldParameters: {} as ProfileWeldParameters\n    }\n    const keys = Object.keys(mockProfile)\n    for (const key in data) {\n        const index = keys.indexOf(key);\n        if (index != -1) {\n            keys.splice(index, 1)\n        }\n    }\n    return keys.length === 0\n}\n\nexport const getSortedMapKeys = (map: Map<string, any>) => {\n    return Array.from(map.keys()).sort()\n}\n\nexport const getRootDiapason = (diapasonList?: PrintingDiapason[]): PrintingDiapason | undefined => {\n    if (diapasonList) {\n        for (const diapason of diapasonList) {\n            if (diapason.isRootDiapason) {\n                return diapason;\n            }\n        }\n    }\n}\n\nexport const getProfilesNames = (profiles: Profile[]): string[] => {\n    const names = []\n    for (const profile of profiles) {\n        names.push(profile.name)\n    }\n    return names.sort()\n}\n\n\nexport const printingDiapasonProcessor: PrintingDiapasonProcessor = {\n    hasNext(printingDiapason: PrintingDiapason): boolean {\n        return Boolean(printingDiapason.nextDiapason)\n    },\n\n    hasPrev(printingDiapason: PrintingDiapason): boolean {\n        return Boolean(printingDiapason.prevDiapason)\n    },\n\n    next(printingDiapason: PrintingDiapason): PrintingDiapason | null {\n        if (printingDiapason.nextDiapason) {\n            return printingDiapason.nextDiapason\n        } else {\n            return null\n        }\n    },\n\n    prev(printingDiapason: PrintingDiapason): PrintingDiapason | null {\n        if (printingDiapason.prevDiapason) {\n            return printingDiapason.prevDiapason\n        } else {\n            return null\n        }\n    },\n\n    createNext(printingDiapason: PrintingDiapason) {\n        let newPrintingDiapason: PrintingDiapason = {\n            isRootDiapason: false,\n            profile: printingDiapason.profile\n        }\n\n        newPrintingDiapason = JSON.parse(JSON.stringify(newPrintingDiapason))\n\n        if (printingDiapason.nextDiapason) {\n            const nextDiapason = printingDiapason.nextDiapason;\n            printingDiapason.nextDiapason = newPrintingDiapason;\n            newPrintingDiapason.prevDiapason = printingDiapason;\n            newPrintingDiapason.nextDiapason = nextDiapason;\n            nextDiapason.prevDiapason = newPrintingDiapason;\n        } else {\n            printingDiapason.nextDiapason = newPrintingDiapason;\n            newPrintingDiapason.prevDiapason = printingDiapason;\n        }\n    },\n\n    deleteCurrent(printingDiapason: PrintingDiapason) {\n        if (!printingDiapason.isRootDiapason) {\n            if (printingDiapason.prevDiapason && printingDiapason.nextDiapason) {\n                printingDiapason.prevDiapason.nextDiapason = printingDiapason.nextDiapason;\n                printingDiapason.nextDiapason.prevDiapason = printingDiapason.prevDiapason;\n                return printingDiapason.nextDiapason\n            } else if (printingDiapason.prevDiapason) {\n                printingDiapason.prevDiapason.nextDiapason = null\n                return printingDiapason.prevDiapason\n            } else if (printingDiapason.nextDiapason) {\n                printingDiapason.nextDiapason.prevDiapason = null\n                return printingDiapason.nextDiapason\n            } else {\n                return printingDiapason\n            }\n        } else {\n            return printingDiapason\n        }\n    },\n\n    getRootDiapason(printingDiapason): PrintingDiapason {\n        if (printingDiapason.isRootDiapason) return printingDiapason\n        let rootDiapason = this.searchInNextDiapasones(printingDiapason)\n        if (rootDiapason) return rootDiapason\n        rootDiapason = this.searchInPrevDiapasones(printingDiapason)\n        if (rootDiapason) return rootDiapason;\n        return printingDiapason;\n    },\n\n    searchInPrevDiapasones(printingDiapason: PrintingDiapason): PrintingDiapason | null {\n        const prevDiapason = printingDiapason.prevDiapason\n        if (prevDiapason) {\n            if (prevDiapason.isRootDiapason) {\n                return prevDiapason\n            } else {\n                return this.searchInPrevDiapasones(prevDiapason)\n            }\n        } else {\n            return null;\n        }\n    },\n\n    searchInNextDiapasones(printingDiapason: PrintingDiapason): PrintingDiapason | null {\n        const nextDiapason = printingDiapason.nextDiapason\n        if (nextDiapason) {\n            if (nextDiapason.isRootDiapason) {\n                return nextDiapason\n            } else {\n                return this.searchInNextDiapasones(nextDiapason)\n            }\n        } else {\n            return null;\n        }\n    },\n\n    deleteAll(printingDiapason: PrintingDiapason): PrintingDiapason {\n        const rootDiapason = this.getRootDiapason(printingDiapason)\n        let nextDiapason = rootDiapason.nextDiapason;\n        rootDiapason.nextDiapason = null;\n        while(true) {\n            if (nextDiapason && !nextDiapason.isRootDiapason) {\n                nextDiapason.prevDiapason = null;\n                let nextNextDiapson = nextDiapason.nextDiapason\n                nextDiapason.nextDiapason = null;\n                nextDiapason = nextNextDiapson;\n            } else {\n                break;\n            }\n        }\n        let prevDiapason = rootDiapason.prevDiapason;\n        rootDiapason.prevDiapason = null;\n        while(true) {\n            if (prevDiapason && !prevDiapason.isRootDiapason) {\n                prevDiapason.nextDiapason = null;\n                let prevPrevDiapson = prevDiapason.prevDiapason\n                prevDiapason.prevDiapason = null;\n                prevDiapason = prevPrevDiapson;\n            } else {\n                break;\n            }\n        }\n\n        return rootDiapason\n    },\n}\n\nconst paramNameByPath = new Map([\n    ['profile.profileMainParameters.current', 'Ток, А'],\n    ['profile.profileMainParameters.voltage', 'Напряжение, В'],\n    ['profile.profileMainParameters.feedRate', 'V подачи, м/мин'],\n    ['profile.profileAdditionalParameters.arcLength', 'Длина дуги'],\n    ['profile.profileAdditionalParameters.dynamic', 'Динамика'],\n    ['profile.profileAdditionalParameters.weldingSpeed', 'V наплавки, м/мин'],\n    ['profile.profileOscilationParameters.width', 'Ширина, мм'],\n    ['profile.profileOscilationParameters.period', 'Период, мм']\n]) \n\nexport const resolveParamNameByPath = (path: string) => {\n    const name = paramNameByPath.get(path);\n    if (!name) {\n        return 'хз че за параметер'\n    }\n    return name\n}\n\nconst iconByProfileName = new Map([\n    ['Стали', 'Fe-C'],\n    ['Нержавеющие стали', 'Cr-Ni'],\n    ['Никелевые сплавы', 'Ni'],\n    ['Титановые сплавы', 'Ti'],\n    ['Алюминивые сплавы', 'Al'],\n    ['Медные сплавы', 'Cu']\n])\n\nexport const resolveIconByProfileName = (name: string) => {\n    let icon = iconByProfileName.get(name)\n    if (!icon) {\n        icon = ''\n    }\n    return icon\n}","import { EncoderState } from '@/store/ourExtension/gpio/types'\nimport Vue from 'vue'\nimport { Component } from 'vue-property-decorator'\n\n@Component\nexport default class GpioMixin extends Vue {\n    buttonsInterrups = {  // Если true - эта кнопка не будет вызвать resolveClick(). Только поменяет класс css. Нужно для разрешения конфликта сенсор - gpio. Сенсор в приоритете\n        firstButton: false,\n        secondButton: false,\n        thirdButton: false,\n        fourthButton: false,\n        fifthButton: false,\n        sixthButton: false\n    }\n\n    get gpioSocketConnected() {\n        return this.$store.getters['ourExtension/gpio/getSocketConnected']\n    }\n\n    get isFirstButtonPressed(): boolean {\n        return this.$store.getters['ourExtension/gpio/getFirstButton']\n    }\n\n    set isFirstButtonPressed(newValue: boolean) {\n        this.$store.commit('ourExtension/gpio/setFirstButton', newValue)\n    }\n\n    get isSecondButtonPressed(): boolean {\n        return this.$store.getters['ourExtension/gpio/getSecondButton']\n    }\n\n    set isSecondButtonPressed(newValue: boolean) {\n        this.$store.commit('ourExtension/gpio/setSecondButton', newValue)\n    }\n\n    get isThirdButtonPressed(): boolean {\n        return this.$store.getters['ourExtension/gpio/getThirdButton']\n    }\n\n    set isThirdButtonPressed(newValue: boolean) {\n        this.$store.commit('ourExtension/gpio/setThirdButton', newValue)\n    }\n\n    get isFourthButtonPressed(): boolean {\n        return this.$store.getters['ourExtension/gpio/getFourthButton']\n    }\n\n    set isFourthButtonPressed(newValue: boolean) {\n        this.$store.commit('ourExtension/gpio/setFourthButton', newValue)\n    }\n\n    get isFifthButtonPressed(): boolean {\n        return this.$store.getters['ourExtension/gpio/getFifthButton']\n    }\n\n    set isFifthButtonPressed(newValue: boolean) {\n        this.$store.commit('ourExtension/gpio/setFifthButton', newValue)\n    }\n\n    get isSixthButtonPressed(): boolean {\n        return this.$store.getters['ourExtension/gpio/getSixthButton']\n    }\n\n    set isSixthButtonPressed(newValue: boolean) {\n        this.$store.commit('ourExtension/gpio/setSixthButton', newValue)\n    }\n\n    setAllButtonsPressed(newValue: boolean) {\n        this.setAllButtonsInterrups(true)\n        this.isFirstButtonPressed = newValue\n        this.isSecondButtonPressed = newValue\n        this.isThirdButtonPressed = newValue\n        this.isFourthButtonPressed = newValue\n        this.isFifthButtonPressed = newValue\n        this.isSixthButtonPressed = newValue\n        setTimeout(() => {this.setAllButtonsInterrups(false)}, 100)\n    }\n\n    setAllButtonsInterrups(newValue: boolean) {\n        const interrups = this.buttonsInterrups as any\n        for (const button in interrups) {\n            interrups[button] = newValue\n        }\n    }\n\n    get encoder1State(): EncoderState {\n        return this.$store.getters['ourExtension/gpio/getEncoder1']\n    }\n\n    get encoder2State(): EncoderState {\n        return this.$store.getters['ourExtension/gpio/getEncoder2']\n    }\n}","\n// Подгрузка файлов и профилей:\n// 1. socket -> actions -> onSocketOpen() -> вызывается два dispatch('ourExtension/files/getAllFilesAndDirs') на gcodes и на config директории\n// 2. Далее в ourExtension/files/getAllFilesAndDirs выполняется SocketAction serverGetAllFilesAndDirs, по выполнению которого выполняется ourExtension/files/onGetAllFilesAndDirs\n// 3. По итогу п.2 формируется рекурсивный объект, соответствующий файловой системе сервера, но пока без слоев, времени печати, профилей (как отдельно в state, так и в объектах FileData).\n// Это объекты files и dirs в LightFilesState\n// 4. Далее формируется объект fileSystem в LightFilesState (Словари string-FileData для папок config и gcodes, string - pathForMoonraker)\n// Нужен для получения объектов из рекурсивного объекта, не прибегая к рекурсии\n// pathForMoonraker: string,  // Путь до файла, включая имя файла, но без рут-директории (gcodes, config и т.д.). Если файл в корне рут-директории, то просто filename\n// 5. Далее рекурсивно считается размер директорий по размеру файлов, входящих в эти директории\n// 6. Далее флагами isLoadingFinish и isProfilesDownloadingFinished запускается логика в компоненте App (функции isFilesLoadingFinishedWather() и isProfilesDownloadingFinishedWather())\n// 7. Функция isFilesLoadingFinishedWather сетает в FileData файлов директории gcodes количество слоев и время печати\n// 8. Функция isProfilesDownloadingFinishedWather сетает получает с сервера содержимое файлов папки config/profiles,\n// формирует Profile[] и выполняет 'ourExtension/profiles/setProfiles' и 'ourExtension/profiles/setProfilesMetadata'\n// 9. В setProfiles() формуируется словарь профилей для файлов (<string, PrintingDiapason>) \n// и сетается lastPrintingProfile (Либо \"Нержавеющие стали\", либо первый по алфавиту)\n// Словарь сетается по 'ourExtension/files/setProfilesForAllGcodes'\n// setProfilesForAllGcodes сетает профили в FileData каждого gcode в состояние по умолчанию (lastSelectedDiapason = undefined, для каждого профиля только один диапазон)\n\n\nimport { Component, Mixins, Watch } from 'vue-property-decorator';\n\nimport DefaultAlert from './components/alerts/DefaultAluert.vue';\nimport InfoAlert from './components/alerts/InfoAlert.vue';\nimport FatalErrorAlert from '@/components/alerts/FatalErrorAlert.vue'\nimport { FileData, FileSystem, DirectoryData } from './store/ourExtension/files/types';\nimport FilesMixin from './mixins/files';\nimport { parseGcode } from './workers/xWeldParser';\nimport { Profile } from './store/ourExtension/profiles/types'\nimport { isSatisfiesProfilesMetadataType, isSatisfiesProfileType } from './store/ourExtension/profiles/helpers';\nimport { AxiosResponse } from 'axios';\nimport StateMixin from './mixins/state';\nimport { AlertType } from './store/ourExtension/layoutsData/alerts/types';\nimport WindowsMixin from './mixins/windows';\nimport GpioMixin from './mixins/gpio';\nimport { Alerts } from './store/ourExtension/layoutsData/alerts/helpers';\n\n@Component({\n    components: {\n        DefaultAlert, InfoAlert, FatalErrorAlert\n    },\n})\nexport default class App extends Mixins(FilesMixin, StateMixin, WindowsMixin, GpioMixin) {\n\n    buttonFlags = {\n        mainButton: false,\n        moveButton: false,\n        starButton: false,\n        settingsButton: false,\n        backButton: false\n    }\n\n    get fileSelect(): boolean {\n        return this.$store.getters['ourExtension/temp/fileSelectWindowFlag']\n    }\n\n    get osc(): boolean {\n        return this.$store.getters['ourExtension/temp/oscillationWindowFlag']\n    }\n\n    get actualTime(): string {\n        return this.$store.getters['ourExtension/layoutsData/baseLayout/getActualTime']();\n    }\n\n    get isFilesLoadingFinished(): boolean {\n        return this.$store.getters['ourExtension/files/getFilesLoadingFinishedFlag']\n    }\n\n    get alertFlag(): boolean {\n        return this.$store.getters['ourExtension/layoutsData/alerts/getAlertFlag']()\n    }\n\n    get infoAlertFlag(): boolean {\n        return this.$store.getters['ourExtension/layoutsData/alerts/getInfoAlertFlag']()\n    }\n\n    get warningFlag(): boolean {\n        return !this.klippyReady || !this.klippyConnected\n    }\n\n    get isProfilesDownloadingFinished(): Boolean {\n        return this.$store.getters['ourExtension/files/getProfilesDownloadingFinishedFlag']\n    }\n\n    get fatalErrorFlag(): Boolean {\n        return !this.klippyReady || !this.klippyConnected\n    }\n\n    @Watch('gpioSocketConnected')\n    gpioSocketConnectedWather() {\n        if (this.gpioSocketConnected) {\n            const alert: AlertType = {\n                message: \"GPIO сокет подключен!\",\n                type: 'green'\n            }\n            Alerts.showInfoAlert(alert)\n        } else {\n            const alert: AlertType = {\n                message: \"GPIO сокет умер!\",\n                type: 'red'\n            }\n            Alerts.showInfoAlert(alert)\n        }\n    }\n\n    mounted() {\n        setTimeout(() => {\n            console.log(this.$store.getters['ourExtension/files/getFilesMap'])\n        }, 5000)\n        this.$store.dispatch('ourExtension/layoutsData/baseLayout/startTimeRefreshing');\n        setTimeout(() => {\n            if (this.printerPrinting || this.printerPaused) {\n                const alert: AlertType = {\n                    message: 'Принтер уже печатает. Открыто окно текущей печати',\n                    type: 'ok'\n                }\n                this.$store.dispatch('ourExtension/layoutsData/alerts/addToAlertQueue', alert)\n                this.initExisitingPrintingWindow()\n            }\n        }, 1000)\n\n    }\n\n    @Watch(\"printerPrinting\")\n    printerPrintingWather() {\n        if (this.printerPrinting) {\n            setTimeout(() => {\n                if ((this.printerPrinting || this.printerPaused) && this.$route.path !== '/print') {\n                    this.initExisitingPrintingWindow()\n                    this.$router.push('/print')\n                }\n            }, 2000)\n        }\n    }\n\n    @Watch('isFilesLoadingFinished', { deep: true })\n    isFilesLoadingFinishedWather() {\n        if (this.isFilesLoadingFinished) {\n            const filesMap: FileSystem = this.$store.getters['ourExtension/files/getFilesMap']\n            if (filesMap) {\n                filesMap.gcodes.forEach((value) => {\n                    this.parseGcodes(value)\n                })\n                this.$store.dispatch('ourExtension/layoutsData/newFileBrowseWindow/setCurrentPath', 'gcodes')\n            }\n        }\n    }\n\n    @Watch('isProfilesDownloadingFinished', { deep: true })\n    isProfilesDownloadingFinishedWather() {\n        if (this.isProfilesDownloadingFinished) {\n            const directoryData: DirectoryData = this.$store.getters['ourExtension/files/getProfilesFiles']\n            if (directoryData) {\n                const profilesList: Profile[] = []\n                const promiseList = []\n                for (const file of directoryData.files) {\n                    const response = this.getFile(file.name, 'config' + '/' + file.dirnameForMoonraker);\n                    let promise = response.then((responseData) => { this.handleProfileResponse(responseData, profilesList) })\n                    promiseList.push(promise)\n                }\n                Promise.all(promiseList).then(() => { this.$store.dispatch('ourExtension/profiles/setProfiles', profilesList) })\n            }\n        }\n    }\n\n    handleProfileResponse(response: AxiosResponse<any, any>, profilesList: Profile[]) {\n        if (response.status === 200) {\n            const content = response.data;\n            if (isSatisfiesProfileType(content)) {\n                profilesList.push(content)\n            } else if (isSatisfiesProfilesMetadataType(content)) {\n                this.$store.commit('ourExtension/profiles/setProfilesMetadata', content)\n            }\n        }\n    }\n\n    async parseGcodes(file: FileData) {\n        this.getGcode(file)\n            .then(response => response?.data)\n            .then((gcode) => {\n                const [layers, buildTime] = parseGcode(gcode)\n                file.layers = layers;\n                file.printingTime = buildTime;\n            })\n            .catch(e => e)\n            .finally(() => {\n                this.$store.dispatch('files/removeFileDownload')\n            })\n    }\n\n    disableButton(name: string) {\n        if (name in this.buttonFlags) {\n            const costyl = this.buttonFlags as any\n            costyl[name] = false\n        }\n    }\n\n    warningClickHandler() {\n        const message = this.klippyStateMessage + '<style>.message-holder {text-align:start !important;}</style>'\n        const alert: AlertType = {\n            message: message,\n            type: 'ok',\n            header: 'ОШИБКА!'\n        }\n        this.$store.dispatch('ourExtension/layoutsData/alerts/addToAlertQueue', alert)\n    }\n\n}\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5eecc1d3&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=5eecc1d3&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { SocketState } from './types'\n\nexport const defaultState = (): SocketState => {\n  return {\n    apiConnected: true, //            api is connected, socket may not be.\n    open: false, //                   socket is open or closed.\n    connecting: false, //             socket is trying to connect.\n    disconnecting: false, //          indicates we know a disconnect is coming, and to retry.\n    ready: false, //                  indicates the socket is ready (and has first dump of data...)\n    acceptingNotifications: false, // indicates we're accepting notification data because we've finished subscribing to objects\n    error: null, //                    if the socket has an error or not\n    connectionId: null //             connection id assigned to the socket\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { SocketState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<SocketState, RootState> = {\n  /**\n   * Indicates if our socket is connected / open.\n   */\n  getConnectionState: (state): boolean => {\n    return state.open\n  },\n\n  /**\n   * Indicates if our socket is attempting to connect still..\n   */\n  getConnectingState: (state): boolean => {\n    return state.connecting\n  },\n\n  getApiConnected: (state) => {\n    return state.apiConnected\n  }\n}\n","import Vue from 'vue'\n\nexport const EventBus = {\n  bus: new Vue(),\n  $emit: (text?: string, options = {}): void => {\n    const opts: FlashMessage = {\n      open: true,\n      timeout: -1,\n      ...options\n    }\n    if (text) opts.text = text\n    // if (type) opts.type = type\n    // if (timeout) opts.timeout = timeout\n\n    EventBus.bus.$emit('flashMessage', opts) // custom message\n  }\n}\n\nexport interface FlashMessage {\n  type?: FlashMessageTypes;\n  open: boolean;\n  text?: string;\n  timeout?: number;\n}\n\nexport enum FlashMessageTypes {\n  success = 'success',\n  error = 'error',\n  warning = 'warning',\n  primary = 'primary',\n  secondary = 'secondary'\n}\n","const IsKeyOf = <T extends object>(key: string | number | symbol, parent: T): key is keyof T => {\n  return key in parent\n}\n\nexport default IsKeyOf\n","import Vue from 'vue'\nimport { ActionTree } from 'vuex'\nimport consola from 'consola'\nimport { SocketState } from './types'\nimport { RootState } from '../types'\nimport { Globals } from '@/globals'\nimport { SocketActions } from '@/api/socketActions'\nimport { EventBus, FlashMessageTypes } from '@/eventBus'\nimport { upperFirst, camelCase } from 'lodash-es'\nimport IsKeyOf from '@/util/is-key-of'\nimport { Alerts } from '../ourExtension/layoutsData/alerts/helpers'\n\nlet retryTimeout: number\n\nexport const actions: ActionTree<SocketState, RootState> = {\n    /**\n     * Reset our store\n     */\n    async reset({ commit }) {\n        commit('setReset')\n    },\n\n    /**\n     * ==========================================================================\n     * Actions called via the socket client\n     * ==========================================================================\n     */\n\n    /**\n      * Fired when the socket opens.\n      */\n    async onSocketOpen({ commit, rootState, dispatch }, payload) {\n        commit('setSocketOpen', payload)\n\n        if (payload === true) {\n            SocketActions.serverInfo()  // Получает файлы с сервера\n            SocketActions.identify({\n                client_name: Globals.APP_NAME,\n                version: `${rootState.version.fluidd.version || '0.0.0'}-${rootState.version.fluidd.hash || 'unknown'}`.trim(),\n                type: 'web',\n                url: Globals.GITHUB_REPO\n            })\n            SocketActions.serverFilesListRoot('config')\n            dispatch('ourExtension/files/getAllFilesAndDirs', 'gcodes', { root: true })\n            dispatch('ourExtension/files/getAllFilesAndDirs', 'config', { root: true })\n        }\n    },\n\n    /**\n     * Fired when the socket closes.\n     */\n    async onSocketClose({ dispatch, commit, state }, e: CloseEvent) {\n        const retry = state.disconnecting\n        const modules = ['server', 'power', 'webcams', 'jobQueue', 'charts', 'socket', 'wait', 'gcodePreview']\n\n        if (e.wasClean && retry) {\n            // This is most likely a moonraker restart, so only partially reset.\n            await dispatch('reset', modules, { root: true })\n            commit('setSocketConnecting', true)\n            Vue.$socket.connect()\n        }\n\n        if (e.wasClean && !retry) {\n            // Set the socket state to closed.\n            // If we swap printer endpoints, then the init will run\n            // which will reset the state if necessary.\n            commit('setSocketConnecting', false)\n            commit('setSocketOpen', false)\n        }\n\n        if (!e.wasClean) {\n            // Not a clean disconnect. Service went down?\n            // Socket should attempt to reconnect itself.\n            await dispatch('reset', modules, { root: true })\n            commit('setSocketConnecting', true)\n            commit('setSocketOpen', false)\n        }\n    },\n\n    /**\n     * Sets state based on if we're attempting to reconnect\n     * the socket or not. If we are not, then the user\n     * can invoke a forced refresh.\n     */\n    async onSocketConnecting({ commit }, payload) {\n        commit('setSocketConnecting', payload)\n    },\n\n    /**\n     * Fired when the socket encounters an error.\n     * We might see an error under code 400 for invalid circumstances, like\n     * trying to extrude under temp. Should present the user with an error\n     * for these cases.\n     * Another case might be during a klippy shutdown.\n     */\n    async onSocketError({ commit }, payload) {\n        if (payload.code >= 400 && payload.code < 500) {\n            // If our message contains json, we should try to parse it.\n            // This is pretty bad, should get moonraker to fix this response.\n            let message = ''\n            try {\n                message = JSON.parse(payload.message.replace(/'/g, '\"')).message\n            } catch (e) {\n                message = payload.message\n            }\n\n            EventBus.$emit(message, { type: FlashMessageTypes.error })\n        }\n        if (payload.code === 503) {\n            // This indicates klippy is non-responsive, or there's a configuration error\n            // in klipper. We should retry after the set delay.\n            // Restart our startup sequence.\n\n            // Forcefully set the printer in error\n            commit('printer/setPrinterInfo', { state: 'error', state_message: payload.message }, { root: true })\n            clearTimeout(retryTimeout)\n            retryTimeout = window.setTimeout(() => {\n                SocketActions.serverInfo()\n            }, Globals.KLIPPY_RETRY_DELAY)\n        }\n    },\n\n    /**\n     * Fired when the socket [identifies](https://moonraker.readthedocs.io/en/latest/web_api/#identify-connection).\n     * Required for [HTTP-based subscriptions](https://moonraker.readthedocs.io/en/latest/web_api/#subscribe-to-printer-object-status).\n     */\n    async onConnectionId({ commit }, { connection_id }) {\n        commit('setConnectionId', connection_id)\n    },\n\n    async onServerRead({ dispatch }, payload: { namespace: string, key?: string, value: any }) {\n        const { namespace, key, value } = payload\n\n        if (IsKeyOf(namespace, Globals.MOONRAKER_DB)) {\n            const roots = Globals.MOONRAKER_DB[namespace].ROOTS\n\n            const root = key && IsKeyOf(key, roots) ? roots[key] : Object.values(roots)[0]\n\n            dispatch(root.dispatch, value, { root: true })\n        }\n    },\n\n    /**\n     * ==========================================================================\n     * Automated notifications via socket\n     * Note that klipper will send an update every 250ms, if the data CHANGED.\n     * This applies per object subscribed - which can add up.\n     * ==========================================================================\n     */\n\n    async notifyStatusUpdate({ state, commit, dispatch }, payload) {\n        dispatch('printer/onNotifyStatusUpdate', payload, { root: true })\n            .then(() => {\n                if (!state.ready) commit('setSocketReadyState', true)\n            })\n    },\n\n    async notifyGcodeResponse({ dispatch }, payload) {\n        dispatch('console/onAddConsoleEntry', { message: `${Globals.CONSOLE_RECEIVE_PREFIX}${payload}` }, { root: true })\n    },\n\n    /**\n     * This is fired when, for example - the service is stopped.\n     */\n    async notifyKlippyDisconnected() {\n        SocketActions.serverInfo()\n    },\n\n    /**\n     * This is fired when, for example - an estop is emitted.\n     */\n    async notifyKlippyShutdown() {\n        SocketActions.serverInfo()\n    },\n\n    async notifyKlippyReady() {\n        consola.debug('Klippy Ready')\n    },\n\n    async notifyFilelistChanged({ dispatch }, payload) {\n        dispatch('files/notify' + upperFirst(camelCase(payload.action)), payload, { root: true })\n        if (payload.action) {\n            dispatch('ourExtension/files/onFileListChanged', payload, { root: true })\n        }\n    },\n\n    // Next release, remove.\n    async notifyMetadataUpdate({ dispatch }, payload) {\n        dispatch('files/onFileMetaData', payload, { root: true })\n    },\n\n    async notifyPowerChanged({ dispatch }, payload) {\n        dispatch('power/onStatus', { [payload.device]: payload.status }, { root: true })\n    },\n\n    async notifyUpdateResponse({ dispatch }, payload) {\n        dispatch('version/onUpdateResponse', payload, { root: true })\n    },\n\n    async notifyUpdateRefreshed({ dispatch }, payload) {\n        dispatch('version/onUpdateStatus', payload, { root: true })\n    },\n\n    async notifyHistoryChanged({ dispatch }, payload) {\n        dispatch('history/onHistoryChange', payload, { root: true })\n    },\n\n    async notifyCpuThrottled({ dispatch }, payload) {\n        dispatch('server/onMachineThrottledState', payload, { root: true })\n    },\n\n    async notifyProcStatUpdate({ dispatch }, payload) {\n        dispatch('server/onMachineProcStats', payload, { root: true })\n    },\n\n    async notifyUserCreated({ dispatch }, payload) {\n        dispatch('auth/onUserCreated', payload, { root: true })\n    },\n\n    async notifyUserDeleted({ dispatch }, payload) {\n        dispatch('auth/onUserDeleted', payload, { root: true })\n    },\n\n    async notifyServiceStateChanged({ dispatch }, payload) {\n        dispatch('server/onServiceStateChanged', payload, { root: true })\n    },\n\n    async notifyTimelapseEvent({ dispatch }, payload) {\n        dispatch('timelapse/onEvent', payload, { root: true })\n    },\n\n    async notifyAnnouncementUpdate({ dispatch }, payload) {\n        dispatch('announcements/onAnnouncementUpdate', payload, { root: true })\n    },\n\n    async notifyAnnouncementDismissed({ dispatch }, payload) {\n        dispatch('announcements/onAnnouncementDismissed', payload, { root: true })\n    },\n\n    async notifyAnnouncementWake({ dispatch }, payload) {\n        dispatch('announcements/onAnnouncementWake', payload, { root: true })\n    },\n\n    async notifyWebcamsChanged({ dispatch }, payload) {\n        dispatch('webcams/onWebcamsChanged', payload, { root: true })\n    },\n\n    async notifyJobQueueChanged({ dispatch }, payload) {\n        dispatch('jobQueue/onJobQueueChanged', payload, { root: true })\n    }\n}\n","import { MutationTree } from 'vuex'\nimport { SocketState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<SocketState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setSocketOpen (state, payload) {\n    if (state.open !== payload) state.open = payload\n    if (state.disconnecting) state.disconnecting = false\n  },\n\n  setSocketConnecting (state, payload) {\n    if (state.connecting !== payload) state.connecting = payload\n  },\n\n  setSocketReadyState (state, payload) {\n    state.ready = payload\n  },\n\n  setAcceptNotifications (state, payload) {\n    state.acceptingNotifications = payload\n  },\n\n  setSocketDisconnecting (state, payload) {\n    state.disconnecting = payload\n  },\n\n  setApiConnected (state, payload) {\n    state.apiConnected = payload\n  },\n\n  setConnectionId (state, payload) {\n    state.connectionId = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { SocketState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const socket: Module<SocketState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { AuthState } from './types'\n\nexport const defaultState = (): AuthState => {\n  return {\n    authenticated: false,\n    token: null,\n    refresh_token: null,\n    currentUser: null,\n    users: [],\n    apiKey: ''\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { AuthState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<AuthState, RootState> = {\n  getAuthenticated: (state): boolean => {\n    return state.authenticated\n  },\n\n  getCurrentUser: (state) => {\n    return state.currentUser\n  },\n\n  getUsers: (state) => {\n    return state.users\n  },\n\n  getToken: (state) => {\n    return state.token\n  },\n\n  getRefreshToken: (state) => {\n    return state.refresh_token\n  },\n\n  getApiKey: (state) => {\n    return state.apiKey\n  }\n}\n","import Vue from 'vue'\nimport { ActionTree } from 'vuex'\nimport { AuthState } from './types'\nimport { RootState } from '../types'\nimport { httpClientActions } from '@/api/httpClientActions'\nimport consola from 'consola'\n\nexport const actions: ActionTree<AuthState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Inits moonraker component\n   */\n  async init ({ commit }) {\n    // Load current user.\n    await httpClientActions.accessCurrentUserGet()\n      .then((response: { data: { result: any } }) => response.data.result)\n      .then((user: any) => commit('setCurrentUser', user))\n\n    // Load user list.\n    await httpClientActions.accessUsersListGet()\n      .then((response: { data: { result: { users: any } } }) => response.data.result.users)\n      .then((users: any) => commit('setUsers', users))\n\n    // Load our current API key.\n    await httpClientActions.accessApiKeyGet()\n      .then((response: { data: { result: any } }) => response.data.result)\n      .then((key: any) => commit('setApiKey', key))\n  },\n\n  /**\n   * Init auth status / tokens.\n   */\n  async initAuth ({ commit, rootState, rootGetters }) {\n    // No known API?\n    // This is likely a new setup with no known instances yet. Set auth to true\n    // and move on until we know more.\n    if (rootState.config.apiUrl === '') {\n      commit('setAuthenticated', true)\n      return\n    }\n\n    // Load our tokens and apply them if found.\n    const keys = rootGetters['config/getTokenKeys']\n    const refreshToken = localStorage.getItem(keys['refresh-token'])\n    const token = localStorage.getItem(keys['user-token'])\n    if (token && refreshToken) {\n      // We have tokens, commit to them to memory and setup the axios auth\n      // header.\n      commit('setToken', token)\n      commit('setRefreshToken', refreshToken)\n      httpClientActions.defaults.headers.common.Authorization = `Bearer ${token}`\n    } else {\n      // No tokens, delete auth header.\n      delete httpClientActions.defaults.headers.common.Authorization\n    }\n  },\n\n  /**\n   * Inspects the auth token to determine its validity.\n   */\n  async checkToken ({ state }) {\n    if (state.token?.exp) {\n      const exp = state.token.exp\n      const now = Date.now() / 1000 // now in unixtime.\n      const isExpiring = (exp - now) < 300 // refresh within 5 minutes / 5 * 60\n      if (isExpiring) {\n        consola.debug('checkToken - isExpiring', new Date(now * 1000), new Date(exp * 1000))\n        return true\n      } else {\n        // console.debug('checkToken - not isExpiring', new Date(now * 1000), new Date(exp * 1000))\n        return false\n      }\n    }\n    return false\n  },\n\n  /**\n   * Refresh the auth tokens.\n   */\n  async refreshTokens ({ commit, rootGetters }) {\n    const keys = rootGetters['config/getTokenKeys']\n    const refresh_token = localStorage.getItem(keys['refresh-token'])\n    return httpClientActions.accessRefreshJwtPost(refresh_token || '', {\n      withAuth: false\n    })\n      .then((response: { data: { result: any } }) => response.data.result)\n      .then((response: { token: string }) => {\n        // We've successfully retrieved a token. Set the new header and\n        // store data, and move on.\n        localStorage.setItem(keys['user-token'], response.token)\n        commit('setToken', response.token)\n        httpClientActions.defaults.headers.common.Authorization = `Bearer ${response.token}`\n        return Promise.resolve(response.token)\n      })\n      .catch(() => {\n        // Error on refresh, we resolve and move on because our request will\n        // invoke a 401, which will then send the user to the login page.\n        return Promise.resolve()\n      })\n  },\n\n  async getAuthInfo () {\n    return httpClientActions.accessInfoGet({ withAuth: false })\n      .then((r: { data: { result: { default_source: any; available_sources: any } } }) => {\n        return {\n          defaultSource: r.data.result.default_source,\n          availableSources: r.data.result.available_sources\n        }\n      }).catch(() => {\n        // external authentication sources not supported\n        return {}\n      })\n  },\n\n  async login ({ commit, rootGetters }, { username, password, source }) {\n    const keys = rootGetters['config/getTokenKeys']\n    return httpClientActions.accessLoginPost(username, password, source)\n      .then((response: { data: { result: any } }) => response.data.result)\n      .then((user: { token: string; refresh_token: string; username: any; source: any }) => {\n        // Successful login. Set the tokens and auth status and move on.\n        localStorage.setItem(keys['user-token'], user.token)\n        localStorage.setItem(keys['refresh-token'], user.refresh_token)\n        httpClientActions.defaults.headers.common.Authorization = `Bearer ${user.token}`\n        commit('setAuthenticated', true)\n        commit('setCurrentUser', {\n          username: user.username,\n          source: user.source\n        })\n        commit('setToken', user.token)\n        commit('setRefreshToken', user.refresh_token)\n        return Promise.resolve(user)\n      })\n      .catch((err: any) => {\n        // Unsuccessful login. Remove any existing keys, set auth and move on.\n        localStorage.removeItem(keys['user-token'])\n        localStorage.removeItem(keys['refresh-token'])\n        delete httpClientActions.defaults.headers.common.Authorization\n        return Promise.reject(err)\n      })\n  },\n\n  /**\n   * Logout the user. This should remove their token from local storage,\n   * shut down the socket and send them back to the login page.\n   */\n  async logout ({ commit, rootGetters }, options?: { invalidate: boolean; partial: boolean }) {\n    const opts = {\n      ...{\n        invalidate: false,\n        partial: false\n      },\n      ...options\n    }\n\n    const keys = rootGetters['config/getTokenKeys']\n\n    // Do we want to invalidate all sessions?\n    if (opts.invalidate) await httpClientActions.accessLogoutPost()\n\n    // Remove the tokens from local storage..\n    localStorage.removeItem(keys['user-token'])\n    localStorage.removeItem(keys['refresh-token'])\n\n    // Remove the authentication header.\n    delete httpClientActions.defaults.headers.common.Authorization\n\n    // Clear the in memory store.\n    commit('setCurrentUser', null)\n    commit('setToken', null)\n    commit('setRefreshToken', null)\n\n    // If not a partial logout, then close the socket and set unauthenticated.\n    // Partial logouts are used for trusted clients, in that they remain\n    // authenticated (and socket remains open) when logging out.\n    if (!opts.partial) {\n      if (Vue.$socket) Vue.$socket.close()\n      commit('setAuthenticated', false)\n      console.log(\"if (router.currentRoute.path !== '/login') router.push('/login')\")\n    }\n  },\n\n  /**\n   * Checks the current users trust, with no token. This acts as a logout\n   * and / or trust check, in that if the user is not trusted - then we log\n   * them out which bumps them to the login page.\n   */\n  async checkTrust ({ dispatch, commit, rootGetters }) {\n    const keys = rootGetters['config/getTokenKeys']\n    const token = localStorage.getItem(keys['user-token'])\n\n    // Clear the token.\n    delete httpClientActions.defaults.headers.common.Authorization\n\n    // Make the request.\n    await httpClientActions.accessCurrentUserGet({ withAuth: false })\n      .then((response: { data: { result: any } }) => response.data.result)\n      .then((user: any) => {\n        // Re-apply the token.\n        httpClientActions.defaults.headers.common.Authorization = `Bearer ${token}`\n\n        // no error, so must be trusted. partial logout.\n        dispatch('logout', { partial: true })\n        commit('setCurrentUser', user)\n      })\n      .catch(() => {\n        // error. not trusted. log'em out.\n        dispatch('logout')\n      })\n  },\n\n  async addUser (_, user) {\n    return httpClientActions.accessUserPost(user.username, user.password)\n      .then(() => {\n        return Promise.resolve(user)\n      })\n  },\n\n  async removeUser (_, user) {\n    return httpClientActions.accessUserDelete(user.username)\n      .then(() => {\n        return Promise.resolve(user)\n      })\n  },\n\n  async onUserCreated ({ commit }, user) {\n    commit('setAddUser', user)\n  },\n\n  async onUserDeleted ({ commit }, user) {\n    commit('setRemoveUser', user)\n  },\n\n  async refreshApiKey ({ commit }) {\n    return httpClientActions.accessApiKeyPost()\n      .then((response: { data: { result: any } }) => response.data.result)\n      .then((key: any) => commit('setApiKey', key))\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { AuthState } from './types'\nimport jwtDecode from 'jwt-decode'\n\nexport const mutations: MutationTree<AuthState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setCurrentUser (state, user) {\n    state.currentUser = user\n  },\n\n  setToken (state, token) {\n    state.token = (token) ? jwtDecode(token) : null\n  },\n\n  setRefreshToken (state, token) {\n    state.refresh_token = (token) ? jwtDecode(token) : null\n  },\n\n  setAuthenticated (state, authenticated) {\n    state.authenticated = authenticated\n  },\n\n  setUsers (state, users) {\n    state.users = users\n  },\n\n  setAddUser (state, user) {\n    state.users.push({ source: 'moonraker', ...user })\n  },\n\n  setRemoveUser (state, user) {\n    const i = state.users.findIndex(u => u.username === user.username)\n    if (i >= 0) state.users.splice(i, 1)\n  },\n\n  setApiKey (state, key) {\n    state.apiKey = key\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { AuthState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const auth: Module<AuthState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { ServerState } from './types'\n\nexport const defaultState = (): ServerState => {\n  return {\n    klippy_retries: 0, // how many times have we attempted to reconnect to klippy.\n    info: {\n      failed_components: [],\n      klippy_connected: false, // indicates if klippy is disconnected vs shutdown.\n      klippy_state: '',\n      components: [],\n      registered_directories: [],\n      warnings: []\n    },\n    system_info: null,\n    config: {\n      authorization: {\n        enabled: true\n      },\n      server: {}\n    },\n    moonraker_stats: [],\n    throttled_state: {\n      bits: 0,\n      flags: []\n    },\n    cpu_temp: null\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { ServerInfo, ServerConfig, ServerState, SystemInfo, ServerSystemStat, ServiceInfo, ServiceState } from './types'\nimport { RootState } from '../types'\nimport { Globals } from '@/globals'\nimport { gte, valid } from 'semver'\n\nexport const getters: GetterTree<ServerState, RootState> = {\n  /**\n   * Get's the current server info\n   */\n  getInfo: (state): ServerInfo => {\n    return state.info\n  },\n\n  getIsMinApiVersion: (state) => (minVersion: string) => {\n    const apiVersion = state.info.api_version_string\n    return apiVersion && valid(apiVersion) && valid(minVersion) && gte(apiVersion, minVersion)\n  },\n\n  /**\n   * Gets the current system info\n   */\n  getSystemInfo: (state): SystemInfo | null => {\n    return state.system_info\n  },\n\n  /**\n   * Return server config\n   */\n  getConfig: (state): ServerConfig => {\n    return state.config\n  },\n\n  /**\n   * Return server process stats\n   */\n  getProcessStats: (state): ServerSystemStat[] => {\n    return state.moonraker_stats\n  },\n\n  /**\n   * Indicates if a component is enabled\n   */\n  componentSupport: (state) => (component: string) => {\n    return (state.info.components.includes(component))\n  },\n\n  /**\n   * Return a list of services.\n   * (will come from state.system_info with a moonraker update..)\n   */\n  getServices: (state): ServiceInfo[] => {\n    const available_services: string[] = state.system_info?.available_services || []\n    const service_states: ServiceState = state.system_info?.service_state || {}\n\n    const services: ServiceInfo[] = [...available_services].sort().map((name: string) => {\n      return name in service_states\n        ? { name, ...service_states[name] }\n        : { name }\n    })\n\n    return services\n  },\n\n  /**\n   * Maps configuration files to an object representing a config doc link,\n   * along with a service name.\n   */\n  getConfigMapByFilename: (state, getters, rootState) => (filename: string) => {\n    const configMap = Globals.CONFIG_SERVICE_MAP\n\n    // First, see if can find an exact match.\n    let item = configMap.find(o => o.filename?.toLowerCase() === filename.toLowerCase())\n\n    // ...now, try prefixes.\n    if (!item) {\n      item = configMap.find(o => o.prefix && filename.toLowerCase().startsWith(o.prefix.toLowerCase()))\n    }\n\n    // Finally, try suffixes.\n    if (!item) {\n      item = configMap.find(o => o.suffix && filename.endsWith(o.suffix.toLowerCase()))\n    }\n\n    if (item) {\n      const itemService = item?.service\n      const instanceIds = rootState.server.system_info?.instance_ids\n\n      return {\n        serviceSupported: (instanceIds && itemService in instanceIds) || getters.getServices.some((i: ServiceInfo) => i.name === itemService),\n        ...item\n      }\n    }\n\n    return {}\n  }\n}\n","const getBrowserLocale = (options = {}) => {\n  const defaultOptions = { countryCodeOnly: false }\n\n  const opt = { ...defaultOptions, ...options }\n\n  const navigatorLocale =\n    navigator.languages !== undefined\n      ? navigator.languages[0]\n      : navigator.language\n\n  if (!navigatorLocale) {\n    return undefined\n  }\n\n  const trimmedLocale = opt.countryCodeOnly\n    ? navigatorLocale.trim().split(/-|_/)[0]\n    : navigatorLocale.trim()\n  return trimmedLocale\n}\n\nexport default getBrowserLocale\n","import Vue from 'vue'\nimport VueI18n, { Locale } from 'vue-i18n'\nimport { SupportedLocales } from '@/globals'\nimport getBrowserLocale from '@/util/get-browser-locale'\n// import messages from '@/locales/en.yaml'\n// import { I18nLocales } from '@/dynamicImports'\nimport { Globals } from '@/globals'\n\nVue.use(VueI18n)\n\n/**\n * Loads the starting locale for the user.\n */\nexport const getStartingLocale = () => {\n  const browserLocale = getBrowserLocale({ countryCodeOnly: true })\n  if (\n    browserLocale &&\n    SupportedLocales.findIndex(locale => locale.code === browserLocale) >= 0) {\n    return browserLocale\n  } else {\n    return Globals.VUE_APP_I18N_LOCALE || 'en'\n  }\n}\n\nconst startingLocale = getStartingLocale()\n\nconst i18n = new VueI18n({\n  locale: startingLocale,\n  fallbackLocale: Globals.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n  messages: {}\n})\n\n// Pre apply the en language for fallback.\n// i18n.setLocaleMessage('en', messages)\n\nconst loadedLanguages: Locale[] = []\n\nexport const loadLocaleMessagesAsync = async (locale: Locale) => {\n  // If already loaded, and currently selected.\n  if (loadedLanguages.length > 0 && i18n.locale === locale) {\n    return locale\n  }\n\n  // If already loaded, but not the currently selected.\n  if (loadedLanguages.includes(locale)) {\n    i18n.locale = locale\n    return locale\n  }\n\n  // Not loaded\n  try {\n    // const messages = await I18nLocales[locale]()\n\n    // i18n.setLocaleMessage(locale, messages)\n    loadedLanguages.push(locale)\n    i18n.locale = locale\n    return locale\n  } catch {\n    return i18n.locale\n  }\n}\n\nloadLocaleMessagesAsync(startingLocale)\n\nexport default i18n\n","import Vue from 'vue'\nimport { ActionTree } from 'vuex'\nimport { ServerState, ServerThrottledState, ServiceState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\nimport { AppPushNotification } from '../notifications/types'\nimport { EventBus, FlashMessageTypes } from '@/eventBus'\nimport i18n from '@/plugins/i18n'\n\nlet retryTimeout: number\n\nexport const actions: ActionTree<ServerState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async resetKlippy ({ commit }) {\n    commit('setResetKlippy')\n  },\n\n  /**\n   * Init moonraker components.\n   * During app init, we want to initially init these once, irrelevant\n   * of klippy's state. After that, we'd only ever init once more if\n   * klippy is connected.\n   */\n  async initComponents ({ dispatch }, payload) {  // Получает файлы с сервера\n    if (\n      payload.components &&\n      payload.components.length > 0\n    ) {\n      const componentsToInit: { [index: string]: { name: string; dispatch: string } } = Globals.MOONRAKER_COMPONENTS\n      for (const key in componentsToInit) {\n        const component = componentsToInit[key]\n        if (payload.components.includes(component.name)) {\n          dispatch(component.dispatch, undefined, { root: true })\n        }\n      }\n    }\n  },\n\n  /**\n   * On server info\n   */\n  async onServerInfo ({ commit, dispatch, state }, payload) {\n    // This payload should return a list of enabled components\n    // and root directories that are available.\n    SocketActions.printerInfo()\n    SocketActions.serverConfig()\n    SocketActions.machineProcStats()\n    SocketActions.machineSystemInfo()\n\n    commit('setServerInfo', payload)\n    if (payload.klippy_state !== 'ready') {\n      // If klippy is not connected, we'll continue to\n      // retry the init process.\n      if (state.klippy_retries === 0) dispatch('initComponents', payload)\n      commit('setKlippyRetries', state.klippy_retries + 1)\n      clearTimeout(retryTimeout)\n      retryTimeout = window.setTimeout(() => {\n        SocketActions.serverInfo()\n      }, Globals.KLIPPY_RETRY_DELAY)\n    } else {\n      // If klippy is connected, move on.\n      commit('setKlippyRetries', 0)\n      dispatch('initComponents', payload)  // Получает файлы с сервера\n      SocketActions.printerObjectsList()\n    }\n  },\n\n  /**\n   * Gives us moonrakers configuration./\n   */\n  async onServerConfig ({ commit }, payload) {\n    if (payload.config) {\n      commit('setServerConfig', payload.config)\n    }\n  },\n\n  async onLogsRollOver (_, payload?: { rolled_over?: string[], failed?: Record<string, string> }) {\n    if (payload?.failed && Object.keys(payload.failed).length > 0) {\n      const message = Object.values(payload.failed)\n        .join('\\n')\n\n      EventBus.$emit(message, { type: FlashMessageTypes.error })\n    } else if (payload?.rolled_over && payload.rolled_over.length) {\n      const applications = payload.rolled_over\n        .map(Vue.$filters.startCase)\n        .join(', ')\n      const message = i18n.tc('app.general.msg.rolledover_logs', 0, { applications })\n\n      EventBus.$emit(message, { type: FlashMessageTypes.success })\n    }\n  },\n\n  async onMachineProcStats ({ commit, dispatch }, payload) {\n    if (payload && payload.throttled_state) {\n      await dispatch('onMachineThrottledState', payload.throttled_state)\n    }\n    commit('setMoonrakerStats', payload)\n\n    // Add a chart entry\n    if (\n      payload.moonraker_stats &&\n      'cpu_usage' in payload.moonraker_stats &&\n      !Array.isArray(payload.moonraker_stats)\n    ) {\n      const d = payload.moonraker_stats\n      if (d.cpu_usage <= 100) {\n        commit('charts/setChartEntry', {\n          type: 'moonraker',\n          retention: 600,\n          data: {\n            date: new Date(d.time * 1000),\n            load: d.cpu_usage.toFixed(2)\n          }\n        }, { root: true })\n      }\n    }\n  },\n\n  async onMachineSystemInfo ({ commit }, payload) {\n    commit('setSystemInfo', payload)\n  },\n\n  async onServiceStateChanged ({ commit }, payload: ServiceState) {\n    commit('setServiceState', payload)\n  },\n\n  async onMachineThrottledState ({ commit, dispatch, state }, payload: ServerThrottledState) {\n    if (payload) {\n      // If we have a throttled condition.\n      if (payload && payload.flags.length > 0) {\n        // Fire notifications.\n        payload.flags.forEach((flag) => {\n          // Only apply a notification if the flag changed state.\n          if (state.throttled_state && !state.throttled_state.flags.includes(flag)) {\n            const previousEvent = flag.toLowerCase().startsWith('previously')\n            let n: AppPushNotification = {\n              id: flag,\n              title: flag,\n              description: 'This may lead to a throttle condition and result in a failed print',\n              to: 'https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#frequency-management-and-thermal-control',\n              type: (previousEvent) ? 'info' : 'error',\n              snackbar: !previousEvent, // Snackbar only if not a previously encountered event.\n              merge: true, // Merge if it was a previously encountered event.\n              clear: !previousEvent, // Dont allow the user to clear if it was a previously encountered event.\n              noCount: previousEvent // Dont add to the counter if it was a previously encountered event.\n            }\n\n            // Add the temperature icon.\n            if (\n              (flag === 'Temperature Limit Active' || flag === 'Frequency Capped') &&\n              state.cpu_temp\n            ) {\n              n = {\n                ...n,\n                suffix: `${state.cpu_temp.toFixed(0)}<small>°C</small>`,\n                suffixIcon: '$tempError'\n              }\n            }\n\n            // Not a previous event, adjust the description.\n            if (!previousEvent) {\n              n = {\n                ...n,\n                description: 'This may lead to a failed print'\n              }\n            }\n\n            dispatch('notifications/pushNotification', n, { root: true })\n          }\n        })\n      }\n\n      commit('setMoonrakerStats', { throttled_state: payload })\n    }\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { ServerState, ServiceState } from './types'\n\nexport const mutations: MutationTree<ServerState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setResetKlippy (state) {\n    const { klippy_retries, info } = defaultState()\n\n    Object.assign(state, {\n      klippy_retries,\n      info\n    })\n  },\n\n  setServerInfo (state, payload) {\n    Vue.set(state, 'info', payload)\n  },\n\n  setSystemInfo (state, payload) {\n    if (payload.system_info) {\n      Vue.set(state, 'system_info', payload.system_info)\n    }\n  },\n\n  setServiceState (state, payload: ServiceState) {\n    if (payload && state.system_info?.service_state) {\n      Object.assign(state.system_info.service_state, payload)\n    }\n  },\n\n  /**\n   * On initial init we get the server (moonraker) configuration.\n   */\n  setServerConfig (state, payload) {\n    state.config = { ...state.config, ...payload }\n  },\n\n  /**\n   * On initial init, we get the server (moonraker) process stats and any throttled state flags.\n   */\n  setMoonrakerStats (state, payload) {\n    if (payload.cpu_temp) Vue.set(state, 'cpu_temp', payload.cpu_temp)\n    if (payload.throttled_state) state.throttled_state = { ...state.throttled_state, ...payload.throttled_state }\n    if (\n      payload.moonraker_stats &&\n      Array.isArray(payload.moonraker_stats)\n    ) {\n      // Update with array.\n      Vue.set(state, 'moonraker_stats', payload.moonraker_stats)\n    } else {\n      // Append to array.\n      if (state.moonraker_stats) {\n        state.moonraker_stats.push(payload.moonraker_stats)\n        while (state.moonraker_stats.length > 30) {\n          state.moonraker_stats.splice(0, 1)\n        }\n      }\n    }\n  },\n\n  /**\n   * Sets how many times we've retried connecting to klippy.\n   */\n  setKlippyRetries (state, payload: number) {\n    state.klippy_retries = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { ServerState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const server: Module<ServerState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { PrinterState } from './types'\n\n/**\n * Maintains the state of the printer, by way of moonraker notifications.\n * We should never directly modify data here.\n */\nexport const defaultState = (): PrinterState => {\n  return {\n    printer: {\n      endstops: {},\n      bed_mesh: {\n        profile_name: ''\n      },\n      heaters: {\n        available_heaters: [],\n        available_sensors: []\n      },\n      info: {\n        state: '',\n        state_message: ''\n      },\n      configfile: {\n        warnings: [],\n        save_config_pending: false,\n        save_config_pending_items: {},\n        config: {\n          virtual_sdcard: {},\n          pause_resume: {},\n          display_status: {},\n          'gcode_macro CANCEL_PRINT': {}\n        },\n        settings: {\n          bed_mesh: {},\n          fan: {},\n          printer: {\n            max_accel_to_decel: 500,\n            max_accel: 1000,\n            max_velocity: 100,\n            square_corner_velocity: 3,\n            kinematics: 'none'\n          },\n          virtual_sdcard: {},\n          pause_resume: {},\n          display_status: {},\n          'gcode_macro cancel_print': {},\n          extruder: {\n            max_extrude_only_velocity: 100,\n            max_extrude_only_distance: 100\n          }\n        }\n      },\n      objects: [],\n      idle_timeout: {\n        state: ''\n      },\n      print_stats: {\n        state: '',\n        print_duration: 0,\n        total_duration: 0,\n        filament_used: 0,\n        filename: ''\n      },\n      display_status: {\n        progress: 0,\n        message: ''\n      },\n      virtual_sdcard: {\n        file_position: 0,\n        is_active: false,\n        progress: 0\n      },\n      toolhead: {\n        estimated_print_time: 0,\n        homed_axes: '',\n        max_accel: 0,\n        max_accel_to_decel: 0,\n        max_velocity: 0,\n        position: [0, 0, 0, 0],\n        print_time: 0,\n        square_corner_velocity: 0,\n        extruder: ''\n      },\n      motion_report: {\n        live_position: [0, 0, 0, 0],\n        live_velocity: 0,\n        live_extruder_velocity: 0\n      },\n      firmware_retraction: {\n        retract_length: 0,\n        unretract_extra_length: 0,\n        unretract_speed: 0,\n        retract_speed: 0\n      },\n      current_file: {\n        estimated_time: 0,\n        filament_total: 0,\n        thumbnails: []\n      },\n      gcode_move: {\n        gcode_position: [0, 0, 0, 0],\n        homing_origin: [],\n        speed: 0\n      },\n      manual_probe: {\n        is_active: false,\n        z_position: null,\n        z_position_lower: null,\n        z_position_upper: null\n      },\n      bed_screws: {\n        is_active: false,\n        state: null,\n        current_screw: 0,\n        accepted_screws: 0\n      },\n      fan: {\n        speed: 0\n      },\n      webhooks: {\n        state: '',\n        state_message: ''\n      }\n    }\n  }\n}\n\nexport const state = defaultState()\n","/**\n * Map object prefixes and names to their generic types.\n * I.e., temperature_fans and heater_fans are both fans.\n */\nexport default (name: string) => {\n  const fans = [\n    'temperature_fan',\n    'controller_fan',\n    'heater_fan',\n    'fan_generic',\n    'fan'\n  ]\n\n  const sensors = [\n    'temperature_sensor',\n    'temperature_probe',\n    'z_thermal_adjust'\n  ]\n\n  const heaters = [\n    'heater_generic',\n    'extruder'\n  ]\n\n  const beds = [\n    'heater_bed'\n  ]\n\n  if (fans.some(s => name.startsWith(s))) return 'fan'\n  if (sensors.some(s => name.startsWith(s))) return 'sensor'\n  if (heaters.some(s => name.startsWith(s))) return 'heater'\n  if (beds.some(s => name.startsWith(s))) return 'bed'\n  return ''\n}\n","import Vue from 'vue'\nimport { GetterTree } from 'vuex'\nimport { RootState } from '../types'\nimport { PrinterState, Heater, Fan, Led, OutputPin, Sensor, RunoutSensor, KnownExtruder, MCU, Endstop, Probe, ExtruderStepper, Extruder, ExtruderConfig, ProbeName } from './types'\nimport { get } from 'lodash-es'\nimport getKlipperType from '@/util/get-klipper-type'\n\nexport const getters: GetterTree<PrinterState, RootState> = {\n\n  /**\n   * Indicates if klippy is connected or not.\n   */\n  getklippyReady: (state, getters, rootState, rootGetters): boolean => {\n    // Valid states are;\n    // ready, startup, shutdown, error\n    const serverInfo = rootGetters['server/getInfo']\n    const server_klippy_state = serverInfo.klippy_state || ''\n    const connected = serverInfo.klippy_connected || false\n    if (\n      server_klippy_state !== 'ready' ||\n      !connected\n    ) {\n      return false\n    }\n    return true\n  },\n\n  getKlippyState: (state, getters, rootState, rootGetters): string => {\n    const serverInfo = rootGetters['server/getInfo']\n    const server_klippy_state = serverInfo.klippy_state || ''\n    return Vue.$filters.capitalize(server_klippy_state)\n    // if (state1 === state2) {\n    //   return Vue.$filters.capitalize(state1)\n    // }\n    // if (state1 !== 'ready' && state1 !== '') {\n    //   return Vue.$filters.capitalize(state1)\n    // }\n    // if (state2 !== 'ready' && state1 !== '') {\n    //   return Vue.$filters.capitalize(state2)\n    // }\n    // return state1\n  },\n\n  getKlippyStateMessage: (state, getters, rootState, rootGetters): string => {\n    const regex = /(?:\\r\\n|\\r|\\n)/g\n    // If there's absolutely no connection to klipper, then\n    // say so.\n    const serverInfo = rootGetters['server/getInfo']\n    if (serverInfo.klippy_connected === false) {\n      return 'Klippy not connected.'\n    }\n\n    // If an external source fires an estop, or the client\n    // is refreshed while klipper is down - the webhook data maybe invalid\n    // but the printer info should be good.\n    if (\n      state.printer.info.state_message &&\n      state.printer.info.state_message !== ''\n    ) {\n      return state.printer.info.state_message.trim().replace(regex, '<br />')\n    }\n    if (\n      state.printer.webhooks.state_message &&\n      state.printer.webhooks.state_message !== ''\n    ) {\n      return state.printer.webhooks.state_message.trim().replace(regex, '<br />')\n    }\n    return 'Unknown'\n  },\n\n  /**\n   * Returns a string value indicating the state of the printer.\n   */\n  getPrinterState: (state): string => {\n    const state1 = state.printer.idle_timeout.state // printing, ready, idle\n    const state2 = state.printer.print_stats.state // printing, paused, standby, complete, cancelled, error\n    // If the idle state says we're printing, but the print_stats say otherwise - then\n    // we're probably busy moving the toolhead or doing some other process.\n    // Possible values are;\n    // printing, busy, paused, ready, idle, standby\n    if (state1 && state2) {\n      if (\n        state2.toLowerCase() === 'paused' ||\n        state2.toLowerCase() === 'cancelled'\n      ) {\n        return state2.toLowerCase()\n      }\n      if (\n        state1.toLowerCase() === 'printing' &&\n        state2.toLowerCase() !== 'printing'\n      ) {\n        // The printers idle_timeout changes to printing when it's busy applying\n        // some change - but not necessarily printing anything. This state hopefully\n        // helps aleviate that confusion.\n        return 'busy'\n      }\n      return state1.toLowerCase()\n    } else {\n      return 'loading'\n    }\n  },\n\n  getPrintProgress: (state) => {\n    const { gcode_start_byte, gcode_end_byte, filename } = state.printer.current_file ?? {}\n    const { file_position } = state.printer.virtual_sdcard ?? {}\n\n    if (gcode_start_byte && gcode_end_byte && file_position && filename === state.printer.print_stats.filename) {\n      if (file_position <= gcode_start_byte) return 0\n      if (file_position >= gcode_end_byte) return 1\n\n      const currentPosition = file_position - gcode_start_byte\n      const endPosition = gcode_end_byte - gcode_start_byte\n\n      if (currentPosition > 0 && endPosition > 0) return currentPosition / endPosition\n    }\n\n    return state.printer.display_status.progress || 0\n  },\n\n  getPrintLayers: (state) => {\n    const layersFromPrintStats = state.printer.print_stats.info?.total_layer\n    if (typeof layersFromPrintStats === 'number') {\n      return layersFromPrintStats\n    }\n    const current_file = state.printer.current_file\n    if ('layer_count' in current_file) {\n      return current_file.layer_count\n    } else if (\n      'first_layer_height' in current_file &&\n      'layer_height' in current_file &&\n      'object_height' in current_file\n    ) {\n      const lc = Math.ceil((current_file.object_height - current_file.first_layer_height) / current_file.layer_height + 1)\n      if (lc > 0) return lc\n    }\n    return 0\n  },\n\n  getPrintLayer: (state) => {\n    const layerFromPrintStats = state.printer.print_stats.info?.current_layer\n    if (typeof layerFromPrintStats === 'number') {\n      return layerFromPrintStats\n    }\n    const current_file = state.printer.current_file\n    const duration = state.printer.print_stats.print_duration || 0\n    const pos = state.printer.gcode_move.gcode_position\n    if (\n      current_file &&\n      duration > 0 &&\n      'first_layer_height' in current_file &&\n      'layer_height' in current_file &&\n      pos &&\n      pos.length >= 3\n    ) {\n      const z = state.printer.gcode_move.gcode_position[2]\n      const l = Math.ceil((z - current_file.first_layer_height) / current_file.layer_height + 1)\n      if (l > 0) return l\n    }\n    return 0\n  },\n\n  getTimeEstimates: (state, getters) => {\n    const progress = getters.getPrintProgress\n    const endTime = Math.floor(Date.now() / 1000)\n\n    const duration = (\n      'print_stats' in state.printer &&\n      'print_duration' in state.printer.print_stats\n    )\n      ? state.printer.print_stats.print_duration\n      : 0\n\n    const multiplier = state.printer.gcode_move.speed_factor || 1\n\n    let file = 0\n    let fileLeft = 0\n    let fileEndTime = 0\n    if (progress > 0 && duration > 0) {\n      file = duration / progress\n      fileLeft = (file - duration) / multiplier\n      fileEndTime = endTime + fileLeft\n    }\n\n    let actualTotal = 0\n    let actualLeft = 0\n    let actualEndTime = 0\n    if (\n      'current_file' in state.printer &&\n      'history' in state.printer.current_file &&\n      state.printer.current_file.history.status === 'completed'\n    ) {\n      actualTotal = state.printer.current_file.history.total_duration\n      actualLeft = (actualTotal - duration) / multiplier\n      actualEndTime = endTime + actualLeft\n    }\n\n    let slicer = 0\n    let slicerLeft = 0\n    let slicerEndTime = 0\n    if (\n      'current_file' in state.printer &&\n      'estimated_time' in state.printer.current_file\n    ) {\n      slicer = state.printer.current_file.estimated_time\n      slicerLeft = (slicer - duration) / multiplier\n      slicerEndTime = endTime + slicerLeft\n    }\n\n    let eta = fileEndTime\n    if (slicerEndTime > 0) eta = slicerEndTime\n    if (actualEndTime > 0) eta = actualEndTime\n\n    return {\n      progress: (progress * 100).toFixed(),\n      duration,\n      slicer: slicerLeft,\n      file: fileLeft,\n      actual: actualLeft,\n      eta\n    }\n  },\n\n  /**\n   * Return system stats\n   */\n  getSystemStats: (state) => {\n    return state.printer.system_stats\n  },\n\n  /**\n   * Return MCU's and their state\n   */\n  getMcus: (state) => {\n    const mcus: MCU[] = []\n    Object.keys(state.printer)\n      .filter(key => key.startsWith('mcu'))\n      .sort()\n      .forEach(key => {\n        mcus.push({\n          name: key,\n          ...state.printer[key]\n        })\n      })\n    return mcus\n  },\n\n  /**\n * Return known extruders, giving them a friendly name.\n */\n  getExtruders: (state) => {\n    const extruderCount = Object.keys(state.printer)\n      .filter(key => /^extruder\\d{0,2}$/.exec(key))\n      .length\n\n    return [...Array(extruderCount).keys()]\n      .map((index): KnownExtruder => ({\n        key: `extruder${index === 0 ? '' : index}`,\n        name: extruderCount === 1 ? 'Extruder' : `Extruder ${index}`\n      }))\n  },\n\n  // Return the current extruder along with its configuration.\n  getActiveExtruder: (state, getters) => {\n    const name = state.printer.toolhead.extruder || 'extruder'\n    return getters.getExtruderByName(name) as Extruder | undefined\n  },\n\n  // Returns an extruder by name.\n  getExtruderByName: (state, getters) => (name: string) => {\n    const e = state.printer[name] || undefined\n    const c = getters.getPrinterSettings(name) as ExtruderConfig\n\n    // If we can't find what we need..\n    if (!e || !c) return undefined\n\n    // If we have other extruders, they may inherit some properties\n    // from the first depending how they're defined.\n    const { min_extrude_temp } = name === 'extruder'\n      ? c\n      : getters.getPrinterSettings('extruder') as ExtruderConfig\n\n    const extruder: Extruder = {\n      min_extrude_temp,\n      config: { ...c },\n      ...e\n    }\n\n    return extruder\n  },\n\n  getExtruderSteppers: (state, getters) => {\n    const extruderSteppers: ExtruderStepper[] = []\n    for (const item in state.printer) {\n      const [type, name] = item.split(' ', 2)\n\n      if (type === 'extruder_stepper') {\n        const e = state.printer[item]\n        const c = getters.getPrinterSettings(item)\n\n        extruderSteppers.push({\n          name,\n          prettyName: Vue.$filters.startCase(name),\n          key: item,\n          enabled: state.printer.stepper_enable?.steppers[item],\n          ...e,\n          config: { ...c }\n        })\n      }\n    }\n    return extruderSteppers.sort((a, b) => a.name.localeCompare(b.name))\n  },\n\n  /**\n   * Given axes, returns a boolean indicating if the axes are homed.\n   */\n  getHomedAxes: (state) => (axes?: string): boolean => {\n    if (axes && axes.length > 0) {\n      let r = false\n      const a = axes.split('')\n      a.forEach((char) => {\n        r = state.printer.toolhead.homed_axes.includes(char)\n      })\n      return r\n    }\n    return false\n  },\n\n  getRunoutSensors: (state): RunoutSensor[] => {\n    const supportedSensors = ['filament_switch_sensor', 'filament_motion_sensor']\n    const sensors: RunoutSensor[] = []\n    for (const item in state.printer) {\n      const [type, nameFromSplit] = item.split(' ', 2)\n\n      if (supportedSensors.includes(type)) {\n        const name = nameFromSplit ?? item\n        const sensor = get(state.printer, item, undefined)\n        sensors.push({\n          name,\n          ...sensor\n        })\n      }\n    }\n    return sensors\n  },\n\n  getEndstops: (state) => {\n    const endstops: Endstop[] = []\n    Object.keys(state.printer.endstops)\n      .sort()\n      .forEach(key => {\n        endstops.push({\n          name: key,\n          state: state.printer.endstops[key]\n        })\n      })\n    return endstops\n  },\n\n  getProbe: (state, getters): Probe | undefined => {\n    const probe = state.printer.probe as Probe | undefined\n\n    if (probe && !probe.name) {\n      const probeNames = [\n        'bltouch',\n        'smart_effector',\n        'probe'\n      ] as ProbeName[]\n\n      for (const name of probeNames) {\n        const probeSettings = getters.getPrinterSettings(name)\n\n        if (probeSettings?.z_offset !== undefined) {\n          const probeWithName: Probe = {\n            ...probe,\n            name\n          }\n\n          return probeWithName\n        }\n      }\n    }\n\n    return probe\n  },\n\n  /**\n   * Return available heaters\n   */\n  getHeaters: (state, getters): Heater[] => {\n    const heaters = state.printer.heaters.available_heaters || []\n    if (\n      heaters.length\n    ) {\n      const r: Heater[] = []\n      heaters.forEach((e: string) => {\n        const heater = state.printer[e]\n        if (heater && Object.keys(heater).length > 0) {\n          const config = getters.getPrinterSettings(e)\n          // Some heater items may have a prefix determining type.\n          // Check for these and split as necessary.\n          const keys = [\n            'heater_generic'\n          ]\n\n          const [type, nameFromSplit] = e.split(' ', 2)\n          const name = nameFromSplit && keys.includes(type)\n            ? nameFromSplit\n            : e\n\n          const color = Vue.$colorset.next(getKlipperType(e), e)\n          const prettyName = Vue.$filters.startCase(name)\n\n          r.push({\n            ...heater,\n            name,\n            color,\n            prettyName,\n            key: e,\n            minTemp: config?.min_temp,\n            maxTemp: config?.max_temp\n          })\n        }\n      })\n\n      return r.sort((a, b) => a.name.localeCompare(b.name))\n    }\n    return []\n  },\n\n  getAllLeds: (_, getters) => {\n    return getters.getOutputs([\n      'led',\n      'neopixel',\n      'dotstar'\n    ])\n  },\n\n  getAllFans: (_, getters) => {\n    return getters.getOutputs([\n      'temperature_fan',\n      'controller_fan',\n      'heater_fan',\n      'fan_generic',\n      'fan'\n    ])\n  },\n\n  /**\n   * Return toolhead fans\n   */\n  getToolHeadFans: (_, getters) => {\n    return getters.getOutputs([\n      // 'temperature_fan',\n      // 'controller_fan',\n      'heater_fan',\n      // 'fan_generic',\n      'fan'\n    ])\n  },\n\n  getOtherFans: (_, getters) => {\n    return getters.getOutputs([\n      'temperature_fan',\n      'controller_fan',\n      // 'heater_fan',\n      'fan_generic'\n      // 'fan'\n    ])\n  },\n\n  /**\n   * Return output pins\n   */\n  getPins: (_, getters) => {\n    const outputs = getters.getOutputs([\n      'output_pin'\n    ])\n    return outputs.sort((output: OutputPin) => output.pwm ? 1 : -1)\n  },\n\n  getPinByName: (state, getters) => (name: string) => {\n    const pins = getters.getPins as OutputPin[]\n\n    return pins.find(pin => pin.name === name)\n  },\n\n  /**\n  * Return available fans and output pins\n  */\n  getOutputs: (state, getters) => (filter?: string[]): Array<Fan | Led | OutputPin> => {\n    // Fans..\n    const fans = [\n      'temperature_fan',\n      'controller_fan',\n      'heater_fan',\n      'fan_generic',\n      'fan'\n    ]\n\n    // Generic pins...\n    const outputPins = [\n      'output_pin'\n    ]\n\n    // LEDs...\n    const leds = [\n      'led',\n      'neopixel',\n      'dotstar'\n    ]\n\n    // Are they controllable?\n    const controllable = [\n      'fan',\n      'fan_generic',\n      'output_pin',\n      'led',\n      'neopixel',\n      'dotstar'\n    ]\n\n    // Should we apply a color?\n    const applyColor = [\n      'temperature_fan'\n    ]\n\n    // Should we filter visiblity based on the _ prefix?\n    const filterByPrefix = [\n      'output_pin',\n      'temperature_fan',\n      'controller_fan',\n      'heater_fan',\n      'fan_generic',\n      'led',\n      'neopixel',\n      'dotstar'\n    ]\n\n    const supportedTypes = (filter && filter.length)\n      ? filter\n      : [...fans, ...outputPins, ...leds]\n\n    const pins: Array<Fan | Led | OutputPin> = []\n\n    for (const pin in state.printer) {\n      const [type, nameFromSplit] = pin.split(' ', 2)\n      const name = nameFromSplit ?? pin\n\n      if (\n        supportedTypes.includes(type) &&\n        (!filterByPrefix.includes(type) || !name.startsWith('_'))\n      ) {\n        const prettyName = name === 'fan'\n          ? 'Part Fan' // If we know its the part fan.\n          : Vue.$filters.startCase(name)\n\n        const color = (applyColor.includes(type))\n          ? Vue.$colorset.next(getKlipperType(pin), pin)\n          : undefined\n\n        const config = getters.getPrinterSettings(pin)\n\n        let output: Fan | Led | OutputPin = {\n          ...state.printer[pin],\n          ...getters.getExtraSensorData(config?.sensor_type?.toLowerCase(), name),\n          config: { ...config },\n          name,\n          prettyName,\n          key: pin,\n          color,\n          type,\n          controllable: (controllable.includes(type))\n        }\n\n        if (fans.includes(type)) {\n          output = {\n            ...output,\n            minTemp: config?.min_temp,\n            maxTemp: config?.max_temp\n          }\n        }\n\n        if (outputPins.includes(type)) {\n          output = {\n            ...output,\n            pwm: (config && config.pwm) ? config.pwm : false,\n            scale: (config && config.scale) ? config.scale : 1,\n            controllable: (config && config.static_value) ? false : (controllable.includes(type))\n          }\n        }\n\n        pins.push(output)\n      }\n    }\n    return pins\n      .sort((a, b) => a.type.localeCompare(b.type) || a.name.localeCompare(b.name))\n  },\n\n  /**\n   * Return available temperature probes / sensors.\n   */\n  getSensors: (state, getters): Sensor[] => {\n    const supportedSensors = [\n      'temperature_sensor',\n      'temperature_probe',\n      'z_thermal_adjust'\n    ]\n\n    const sensors = Object.keys(state.printer)\n      .reduce((groups, item) => {\n        const [type, nameFromSplit] = item.split(' ', 2)\n\n        if (supportedSensors.includes(type)) {\n          const name = nameFromSplit ?? item\n          const prettyName = Vue.$filters.startCase(name)\n          const color = Vue.$colorset.next(getKlipperType(item), item)\n          const config = getters.getPrinterSettings(item)\n\n          groups[name] = {\n            ...state.printer[item],\n            ...getters.getExtraSensorData(config?.sensor_type?.toLowerCase(), name),\n            config: { ...config },\n            minTemp: config?.min_temp ?? null,\n            maxTemp: config?.max_temp ?? null,\n            name,\n            key: item,\n            prettyName,\n            color,\n            type\n          }\n        }\n\n        return groups\n      }, {} as Record<string, Sensor>)\n\n    return Object.values(sensors)\n      .sort((a, b) => a.type.localeCompare(b.type) || a.name.localeCompare(b.name))\n  },\n\n  getExtraSensorData: (state) => (sensorType: string, name: string) => {\n    const supportedSensors = [\n      'bme280',\n      'htu21d'\n    ]\n\n    if (supportedSensors.includes(sensorType)) {\n      const sensor = state.printer[`${sensorType} ${name}`]\n\n      if (sensor) {\n        const { pressure, humidity, gas } = sensor\n\n        return {\n          pressure,\n          humidity,\n          gas\n        }\n      }\n    }\n  },\n\n  /**\n   * Return a list of keys that represent something we may want\n   * to chart.\n   */\n  getChartableSensors: (state) => {\n    const keyGroups = [\n      [\n        'temperature_fan'\n      ],\n      [\n        'temperature_probe',\n        'z_thermal_adjust',\n        'temperature_sensor'\n      ]\n    ]\n\n    const filterByPrefix = [\n      'temperature_fan'\n    ]\n\n    const printerKeys = Object.keys(state.printer)\n\n    const sensors = keyGroups.flatMap(keyGroup => {\n      const keyGroupRegExpArray = keyGroup\n        .map(x => new RegExp(\n          filterByPrefix.includes(x)\n            ? `^${x}(?! _)`\n            : `^${x}`)\n        )\n\n      return printerKeys\n        .filter(key => keyGroupRegExpArray.some(x => x.test(key)))\n        .sort((a, b) => a.localeCompare(b))\n    })\n\n    const heaters = [...state.printer.heaters.available_heaters as string[]]\n      .sort((a, b) => a.localeCompare(b))\n\n    return [\n      ...heaters,\n      ...sensors\n    ]\n  },\n\n  getBedScrews: (_, getters) => {\n    const config = getters.getPrinterSettings('bed_screws')\n    const screws = []\n\n    for (let index = 1; index <= 99; index++) {\n      const adjust = config[`screw${index}`]\n\n      if (!adjust) {\n        break\n      }\n\n      screws.push({\n        adjust,\n        fine: config[`screw${index}_fine_adjust`],\n        name: config[`screw${index}_name`]\n      })\n    }\n\n    return screws\n  },\n\n  /**\n   * Return a required setting from the printer.config object.\n   */\n  getPrinterSettings: (state) => (setting: string) => {\n    if (\n      state.printer &&\n      state.printer.configfile &&\n      state.printer.configfile.settings\n    ) {\n      if (setting) return get(state.printer.configfile.settings, setting.toLowerCase(), undefined)\n      return state.printer.configfile.settings\n    }\n    return undefined\n  },\n\n  getPrinterConfig: (state) => (config: string) => {\n    if (\n      state.printer &&\n      state.printer.configfile &&\n      state.printer.configfile.config\n    ) {\n      if (config) return get(state.printer.configfile.config, config, undefined)\n      return state.printer.configfile.config\n    }\n    return undefined\n  },\n\n  getHasWarnings: (state, getters, rootState) => {\n    if (\n      (rootState.socket && rootState.socket.open && rootState.socket.ready) &&\n      (getters.getPrinterWarnings.length > 0 || getters.getKlipperWarnings.length > 0 ||\n        getters.getMoonrakerFailedComponents.length > 0 || getters.getMoonrakerWarnings.length > 0)\n    ) {\n      return true\n    } else {\n      return false\n    }\n  },\n\n  getPrinterWarnings: (state, getters) => {\n    const config = getters.getPrinterConfig()\n    const warnings = []\n\n    if (config && !('virtual_sdcard' in config)) {\n      warnings.push({ message: '[virtual_sdcard] not found in printer configuration.' })\n    }\n\n    if (config && !('pause_resume' in config)) {\n      warnings.push({ message: '[pause_resume] not found in printer configuration.' })\n    }\n\n    if (\n      config &&\n      !('display' in config) && !('display_status' in config)\n    ) {\n      warnings.push({ message: '[display_status] is required if you do not have a [display] defined.' })\n    }\n\n    if (config && !('gcode_macro CANCEL_PRINT' in config)) {\n      warnings.push({ message: 'CANCEL_PRINT macro not found in configuration.' })\n    }\n    return warnings\n  },\n\n  getKlipperWarnings: (state) => {\n    return state.printer.configfile?.warnings || []\n  },\n\n  getMoonrakerFailedComponents: (state, getters, rootState, rootGetters) => {\n    return rootGetters['server/getInfo'].failed_components || []\n  },\n\n  getMoonrakerWarnings: (state, getters, rootState, rootGetters) => {\n    return rootGetters['server/getInfo'].warnings || []\n  },\n\n  getSaveConfigPending: (state) => {\n    return state.printer.configfile?.save_config_pending || false\n  },\n\n  getSaveConfigPendingItems: (state) => {\n    return state.printer.configfile?.save_config_pending_items\n  },\n\n  getHasHomingOverride: (state, getters) => {\n    const config = getters.getPrinterConfig()\n    if (config && ('homing_override' in config)) {\n      return true\n    } else {\n      return false\n    }\n  },\n\n  getIsManualProbeActive: (state) => {\n    return state.printer.manual_probe?.is_active || false\n  },\n\n  getIsBedScrewsAdjustActive: (state) => {\n    return state.printer.bed_screws?.is_active || false\n  }\n}\n","import { Commit, Dispatch } from 'vuex'\nimport { RootState } from './types'\nimport { SocketActions } from '@/api/socketActions'\n\nexport const isOfType = <T> (\n  varToBeChecked: any,\n  propertyToCheckFor: keyof T\n): varToBeChecked is T => (varToBeChecked as T)[propertyToCheckFor] !== undefined\n\nexport const handleExcludeObjectChange = (payload: any, state: RootState, dispatch: Dispatch) => {\n  // For every notify - if print_stats.state changes from standby -> printing,\n  // then record an entry in our print history.\n  // If the state changes from printing -> complete, then record the finish time.\n  if ('exclude_object' in payload) {\n    dispatch('parts/onPartUpdate', payload.exclude_object, { root: true })\n  }\n\n  if (\n    'print_stats' in payload &&\n    ('state' in payload.print_stats || 'filename' in payload.print_stats)\n  ) {\n    dispatch('parts/onPrintStatsUpdate', payload.print_stats, { root: true })\n  }\n}\n\nexport const handlePrintStateChange = (payload: any, state: RootState, dispatch: Dispatch) => {\n  // For every notify - if print_stats.state changes from standby -> printing,\n  // then record an entry in our print history.\n  // If the state changes from printing -> complete, then record the finish time.\n  if (\n    'print_stats' in payload &&\n    'state' in payload.print_stats\n  ) {\n    if (\n      state.printer.printer.print_stats.state !== 'printing' &&\n      payload.print_stats.state === 'printing'\n    ) {\n      // This is a new print starting...\n      dispatch('printer/onPrintStart', payload, { root: true })\n    } else if (\n      state.printer.printer.print_stats.state === 'printing' &&\n      payload.print_stats.state === 'complete'\n    ) {\n      // This is a completed print...\n      dispatch('printer/onPrintEnd', payload, { root: true })\n    } else if (\n      state.printer.printer.print_stats.state === 'printing' &&\n      payload.print_stats.state === 'standby'\n    ) {\n      // This is a cancelled print...\n      dispatch('printer/onPrintEnd', payload, { root: true })\n    }\n  }\n}\n\nexport const handleCurrentFileChange = (payload: any, state: RootState, commit: Commit) => {\n  if (\n    'print_stats' in payload &&\n    'filename' in payload.print_stats &&\n    payload.print_stats.filename !== state.printer.printer.print_stats.filename\n  ) {\n    commit('printer/setResetCurrentFile', undefined, { root: true })\n    if (\n      payload.print_stats.filename !== '' &&\n      payload.print_stats.filename !== null\n    ) {\n      // This refreshes the metadata for the current file, which also\n      // ensures we update the current_file with the latest data via\n      // the files/onFileUpdate action.\n      SocketActions.serverFilesMetaData(payload.print_stats.filename)\n    }\n  }\n}\n","import { Commit } from 'vuex'\nimport { RootState } from './types'\nimport { ChartData } from './charts/types'\n\nexport const handleMcuStatsChange = (payload: any, state: RootState, commit: Commit) => {\n  const keys = Object.keys(payload).filter(key => key.startsWith('mcu'))\n  if (keys.length > 0) {\n    keys.forEach(key => {\n      // swap underscores for spaces.\n      // const name = key.replace(' ', '_')\n\n      // Combine existing with the update.\n      const stats = {\n        ...state.printer.printer[key],\n        ...payload[key]\n      }\n\n      if (stats.last_stats) {\n        // Datestamp for this chart entry.\n        const date = new Date()\n\n        // The last entry in our chart data.\n        let lastEntry: any\n        if (state.charts[key]) {\n          lastEntry = state.charts[key][state.charts[key].length - 1]\n        }\n\n        // Load & Awake times\n        const task_max = 0.0025\n        const stats_interval = 5\n        const load = 100 * (stats.last_stats.mcu_task_avg + (3 * stats.last_stats.mcu_task_stddev)) / task_max\n        const awake = 100 * (stats.last_stats.mcu_awake / stats_interval)\n\n        // Bandwidth\n        // We really need the time passed on from klipper, and the a known\n        // max for serial, usb or can to accurately chart this.\n        // 25000 === 250,0000 bps is a guess and not accurate.\n        // The time delta below is innacurate since its not reflective of when\n        // klipper recorded the data.\n        const maxbw = 25000\n\n        // The time delta between the last and this entry.\n        const timedelta = (lastEntry) ? date.getTime() - lastEntry.date.getTime() : 1000\n\n        let bw = stats.last_stats.bytes_write + stats.last_stats.bytes_retransmit\n        let lastbw = (lastEntry) ? parseFloat(lastEntry.bw) : bw\n        if (bw < lastbw) lastbw = bw\n        bw = 100 * (bw - lastbw) / (maxbw * timedelta)\n\n        // Commit the formatted result to our chart data.\n        commit('charts/setChartEntry', {\n          type: key,\n          retention: 600,\n          data: {\n            date,\n            load: load.toFixed(2),\n            awake: awake.toFixed(2),\n            bw: bw.toFixed(2)\n          }\n        }, { root: true })\n      }\n    })\n  }\n}\n\nexport const handleSystemStatsChange = (payload: any, state: RootState, commit: Commit) => {\n  if (\n    'system_stats' in payload\n  ) {\n    // Combine existing with the update.\n    const stats = {\n      ...state.printer.printer.system_stats,\n      ...payload.system_stats\n    }\n\n    // Datestamp for this chart entry.\n    const date = new Date()\n\n    // Add an entry for the memory graph.\n    if (\n      'memavail' in stats &&\n      state.server.system_info?.cpu_info?.total_memory\n    ) {\n      const total_memory = state.server.system_info?.cpu_info?.total_memory || 0\n      const mem_used = total_memory - stats.memavail\n      const percent_mem_used = Math.ceil(mem_used / total_memory * 100)\n\n      // Commit the formatted result to our chart data.\n      commit('charts/setChartEntry', {\n        type: 'memory',\n        retention: 600,\n        data: {\n          date,\n          memused: percent_mem_used.toFixed(2)\n        }\n      }, { root: true })\n    }\n\n    // Add an entry for the cpu time and sysload.\n    if (\n      'cputime' in stats &&\n      'sysload' in stats\n    ) {\n      const cputime = stats.cputime\n      const last_cputime = state.printer.printer.system_stats?.cputime || stats.cputime || 0\n\n      // Commit the formatted result to our chart data.\n      commit('charts/setChartEntry', {\n        type: 'klipper',\n        retention: 600,\n        data: {\n          date,\n          load: stats.sysload.toFixed(2),\n          cputime_change: ((cputime - last_cputime) * 100).toFixed(2)\n        }\n      }, { root: true })\n    }\n  }\n}\n\n/**\n * Prepare packet data for a chart entry.\n * Every packet should contain an entry for all known sensors we want to track.\n */\nexport const handleAddChartEntry = (retention: number, state: RootState, commit: Commit, getters: any) => {\n  const configureChartEntry = () => {\n    const date = new Date()\n    const r: ChartData = {\n      date\n    }\n\n    const keys: string[] = getters.getChartableSensors\n\n    keys.forEach((key) => {\n      const label = key.split(' ', 2).pop() || ''\n      const temp = state.printer.printer[key].temperature\n      const target = state.printer.printer[key].target\n      const power = state.printer.printer[key].power\n      const speed = state.printer.printer[key].speed\n      r[label] = temp\n      if (target !== undefined) r[`${label}Target`] = target\n      if (power !== undefined) r[`${label}Power`] = power\n      if (speed !== undefined) r[`${label}Speed`] = speed\n    })\n\n    return r\n  }\n\n  if (state.charts.ready) {\n    const data = configureChartEntry()\n    commit('charts/setChartEntry', {\n      type: 'chart',\n      data,\n      retention\n    }, { root: true })\n  }\n}\n","const frames: {[feature: string]: any} = {}\n\nexport default function (code: string, feature?: string): any {\n  let frame\n  if (feature) {\n    if (frames[feature]) frame = frames[feature]\n    else if (!frames[feature]) frames[feature] = frame = createFrame()\n  } else frame = createFrame()\n\n  const result = (new (frame.contentWindow as any).Function(code))()\n\n  if (!feature) frame.remove()\n  return result\n}\n\nexport function createFrame () {\n  const frame = document.createElement('iframe')\n\n  frame.style.display = 'none'\n  document.body.appendChild(frame) // needed for contentWindow\n\n  return frame\n}\n","import { ActionTree } from 'vuex'\nimport { PrinterState } from './types'\nimport { RootState } from '../types'\nimport { handlePrintStateChange, handleCurrentFileChange, handleExcludeObjectChange } from '../helpers'\nimport { handleAddChartEntry, handleSystemStatsChange, handleMcuStatsChange } from '../chart_helpers'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\nimport consola from 'consola'\nimport { DiagnosticsCardContainer } from '@/store/diagnostics/types'\nimport sandboxedEval from '@/plugins/sandboxedEval'\n\n// let retryTimeout: number\n\nexport const actions: ActionTree<PrinterState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Printer Info\n   */\n  async onPrinterInfo ({ commit }, payload) {\n    commit('setPrinterInfo', payload)\n  },\n\n  /**\n   * Query endstops\n   */\n  async onQueryEndstops ({ commit }, payload) {\n    commit('setQueryEndstops', payload)\n  },\n\n  /**\n   * Print cancelled confirmation.\n   * Fires as a part of a socket action.\n   */\n  async onPrintCancel () {\n    consola.debug('Print Cancelled')\n  },\n\n  /**\n   * Print paused confirmation.\n   * Fires as a part of a socket action.\n   */\n  async onPrintPause () {\n    consola.debug('Print Paused')\n  },\n\n  /**\n   * Print resumed confirmation.\n   * Fires as a part of a socket action.\n   */\n  async onPrintResume () {\n    consola.debug('Print Resumed')\n  },\n\n  /**\n   * Print start confirmation.\n   * Fires as a watch on a printer state change.\n   */\n  async onPrintStart (_, payload) {\n    consola.debug('Print start detected', payload)\n  },\n\n  /**\n   * Print end confirmation.\n   * Fires as a watch on a printer state change.\n   */\n  async onPrintEnd (_, payload) {\n    consola.debug('Print end detected', payload)\n  },\n\n  /**\n   * ==========================================================================\n   *  Non specific socket requests\n   * ==========================================================================\n   */\n\n  /**\n   * Stores the printers object list.\n   */\n  async onPrinterObjectsList ({ commit }, payload) {\n    // Given our object list, subscribe to any data we'd want constant updates for\n    // and prepopulate our store.\n    let intendedSubscriptions = {}\n    payload.objects.forEach((k: string) => {\n      if (!k.includes('menu')) {\n        intendedSubscriptions = { ...intendedSubscriptions, [k]: null }\n      }\n      let key = k\n      if (k.includes(' ')) key = key.replace(' ', '.')\n      commit('printer/setPrinterObjectList', key, { root: true })\n    })\n\n    SocketActions.printerObjectsSubscribe(intendedSubscriptions)\n  },\n\n  async onPrinterObjectsSubscribe ({ commit, dispatch }, payload) {\n    // Accept notifications, and commit the first subscribe.\n    commit('socket/setAcceptNotifications', true, { root: true })\n    await dispatch('onNotifyStatusUpdate', payload.status)\n\n    SocketActions.serverGcodeStore()\n    SocketActions.printerGcodeHelp()\n    SocketActions.serverTemperatureStore()\n  },\n\n  /**\n   * ==========================================================================\n   * Automated notifications via socket\n   * Note that klipper will send an update every 250ms, if the data CHANGED.\n   * This applies per object subscribed - which can add up.\n   * ==========================================================================\n   */\n\n  /** Automated notify events via socket */\n  async onNotifyStatusUpdate ({ rootState, commit, getters, dispatch }, payload) {\n    // TODO: We potentially get many updates here.\n    // Consider caching the updates and sending them every <interval>.\n    // We don't want to miss an update - but also don't need all of them\n    // so quickly.\n\n    // Do NOT accept notification updates until our subscribe comes back.\n    // This is because moonraker currently sends notification updates\n    // prior to subscribing on browser refresh.\n    if (payload && rootState.socket.acceptingNotifications) {\n      // Detect a printing state change.\n      // We do this prior to commiting the notify so we can\n      // compare the before and after.\n      handleCurrentFileChange(payload, rootState, commit)\n      handlePrintStateChange(payload, rootState, dispatch)\n      handleExcludeObjectChange(payload, rootState, dispatch)\n      handleSystemStatsChange(payload, rootState, commit)\n      handleMcuStatsChange(payload, rootState, commit)\n\n      for (const key in payload) {\n        const val = payload[key]\n        // Commit the value.\n        commit('printer/setSocketNotify', { key, payload: val }, { root: true })\n      }\n\n      // Add a temp chart entry\n      const rootStateServerConfig = rootState.server.config\n      const retention =\n        rootStateServerConfig?.data_store?.temperature_store_size ??\n        rootStateServerConfig?.server?.temperature_store_size ??\n        Globals.CHART_HISTORY_RETENTION\n      handleAddChartEntry(retention, rootState, commit, getters)\n      dispatch('onDiagnosticsMetricsUpdate')\n    }\n  },\n\n  async onFastNotifyStatusUpdate ({ rootState, commit, dispatch }, payload) {\n    // Do NOT accept updates until our subscribe comes back.\n    // This is because moonraker currently sends notification updates\n    // prior to subscribing on browser refresh.\n    if (payload && rootState.socket.acceptingNotifications) {\n      commit('printer/setSocketNotify', payload, { root: true })\n      dispatch('onDiagnosticsMetricsUpdate')\n    }\n  },\n\n  async onDiagnosticsMetricsUpdate ({ rootState, commit, rootGetters }) {\n    if (!rootState.config.uiSettings.general.enableDiagnostics) return\n    const layout = rootState.layout.layouts.diagnostics as DiagnosticsCardContainer\n    const metrics = Object.values(layout)\n      .flat()\n      .map(card => card.axes)\n      .flat()\n      .filter(axis => axis.enabled)\n      .map(axis => axis.metrics)\n      .flat()\n\n    const collectors = Array.from(new Set(metrics.map(metric => metric.collector)))\n    let data\n\n    try {\n      data = sandboxedEval(`\n      const printer = ${JSON.stringify(rootState.printer.printer)}\n      const collectors = ${JSON.stringify(collectors)}\n      const result = { }\n\n      for (const collector of collectors) {\n        try {\n          result[collector] = eval(collector)\n        } catch (err) {\n          result[collector] = err.message\n        }\n      }\n\n      return JSON.stringify(result) // in order to only return serializable data\n    `, 'metrics')\n\n      if (typeof data !== 'string') throw new Error('Metrics collector returned invalid data')\n      data = JSON.parse(data)\n    } catch (err: any) {\n      data = Object.fromEntries(collectors.map(collector => [collector, err?.message ?? 'Unknown Error']))\n    }\n\n    data.date = new Date()\n\n    commit('charts/setChartEntry', {\n      type: 'diagnostics',\n      retention: rootGetters['charts/getChartRetention'],\n      data\n    }, { root: true })\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { PrinterState } from './types'\nimport { defaultState } from './state'\nimport consola from 'consola'\nimport { get } from 'lodash-es'\n\nexport const mutations: MutationTree<PrinterState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setPrinterInfo (state, payload) {\n    Vue.set(state.printer, 'info', payload)\n  },\n\n  setQueryEndstops (state, payload) {\n    state.printer.endstops = payload\n  },\n\n  setPrinterBusy (state, payload: boolean) {\n    state.printer.busy = payload\n  },\n\n  setPrinterObjectList (state, payload) {\n    if (!state.printer.objects.includes(payload)) {\n      state.printer.objects.push(payload)\n    }\n  },\n\n  setClearEndStops (state) {\n    state.printer.endstops = {}\n  },\n\n  setResetCurrentFile (state) {\n    const newState = defaultState().printer.current_file\n    consola.debug('resetting current file', newState)\n    Vue.set(state.printer, 'current_file', newState)\n  },\n\n  setSocketNotify (state, payload) {\n    if (typeof payload.payload === 'object') {\n      const o = get(state.printer, payload.key)\n      if (o === undefined) {\n        // Object is not set yet, so create it.\n        Vue.set(state.printer, payload.key, payload.payload)\n      } else {\n        Object.keys(payload.payload).forEach((p) => {\n          // Leaving the if here, although it should\n          // always evaluate true since we never\n          // get an update unless something has changed.\n          if (\n            o[p] !== payload.payload[p]\n          ) {\n            Vue.set(state.printer[payload.key], p, payload.payload[p])\n          }\n        })\n      }\n    } else {\n      // I don't think this'd get called.\n      if (get(state.printer, payload.key) !== payload.payload) {\n        Vue.set(state.printer, payload.key, payload.payload)\n      }\n    }\n  }\n\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { PrinterState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const printer: Module<PrinterState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { ConfigState } from './types'\nimport { Globals } from '@/globals'\n\nexport const defaultState = (): ConfigState => {\n  return {\n    apiUrl: '',\n    socketUrl: '',\n    layoutMode: false,\n    containerColumnCount: 2,\n    hostConfig: {\n      endpoints: [],\n      blacklist: [],\n      hosted: false,\n      themePresets: []\n    },\n    instances: [],\n    uiSettings: {\n      general: {\n        instanceName: Globals.APP_NAME,\n        locale: 'en',\n        chartVisible: true,\n        hideTempWaits: true,\n        axis: {\n          x: { inverted: false },\n          y: { inverted: false },\n          z: { inverted: false }\n        },\n        defaultExtrudeLength: 10,\n        defaultExtrudeSpeed: 5,\n        defaultToolheadMoveLength: 1.0,\n        defaultToolheadXYSpeed: 130,\n        defaultToolheadZSpeed: 10,\n        toolheadMoveDistances: [0.1, 1, 10, 25, 50, 100],\n        useGcodeCoords: false,\n        zAdjustDistances: [0.005, 0.01, 0.025, 0.050],\n        enableVersionNotifications: true,\n        confirmOnEstop: false,\n        confirmOnPowerDeviceChange: false,\n        confirmOnSaveConfigAndRestart: true,\n        dateFormat: 'iso',\n        timeFormat: 'iso',\n        textSortOrder: 'default',\n        showRateOfChange: false,\n        showRelativeHumidity: true,\n        showBarometricPressure: true,\n        showGasResistance: true,\n        showSaveConfigAndRestart: true,\n        showUploadAndPrint: true,\n        flipConsoleLayout: false,\n        cameraFullscreenAction: 'embed',\n        topNavPowerToggle: null,\n        showManualProbeDialogAutomatically: true,\n        showBedScrewsAdjustDialogAutomatically: true,\n        forceMoveToggleWarning: true,\n        enableDiagnostics: false,\n        thumbnailSize: 32\n      },\n      theme: {\n        isDark: true,\n        logo: {\n          src: '/logo_fluidd.svg',\n          dynamic: true\n        },\n        currentTheme: {\n          primary: '#2196F3'\n        }\n      },\n      editor: {\n        confirmDirtyEditorClose: true,\n        autoEditExtensions: ['.cfg', '.conf', '.ini', '.log', '.md', '.sh', '.txt'],\n        codeLens: true\n      },\n      dashboard: {\n        tempPresets: []\n      },\n      tableHeaders: {\n        gcodes_dashboard: [\n          { value: 'first_layer_extr_temp', visible: false },\n          { value: 'first_layer_bed_temp', visible: false },\n          { value: 'chamber_temp', visible: false },\n          { value: 'history.total_duration', visible: false },\n          { value: 'history.print_duration', visible: false },\n          { value: 'estimated_time', visible: false },\n          { value: 'nozzle_diameter', visible: false },\n          { value: 'slicer_version', visible: false },\n          { value: 'slicer', visible: false },\n          { value: 'history.filament_used', visible: false },\n          { value: 'filament_name', visible: false },\n          { value: 'filament_type', visible: false },\n          { value: 'filament_total', visible: false },\n          { value: 'filament_weight_total', visible: false },\n          { value: 'object_height', visible: false },\n          { value: 'first_layer_height', visible: false },\n          { value: 'layer_height', visible: false }\n        ],\n        gcodes_jobs: [\n          { value: 'first_layer_height', visible: false },\n          { value: 'history.filament_used', visible: false },\n          { value: 'slicer_version', visible: false },\n          { value: 'history.print_duration', visible: false },\n          { value: 'chamber_temp', visible: false },\n          { value: 'first_layer_extr_temp', visible: false },\n          { value: 'first_layer_bed_temp', visible: false }\n        ],\n        history: [\n          { value: 'print_duration', visible: false },\n          { value: 'filament_used', visible: false }\n        ],\n        job_queue: [\n          { value: 'time_added', visible: true },\n          { value: 'time_in_queue', visible: false }\n        ]\n      },\n      gcodePreview: {\n        extrusionLineWidth: 0.3,\n        moveLineWidth: 0.1,\n        retractionIconSize: 0.6,\n        drawBackground: true,\n        showAnimations: true,\n        minLayerHeight: 0.1,\n        autoLoadOnPrintStart: false,\n        autoLoadMobileOnPrintStart: false,\n        autoFollowOnFileLoad: true,\n        autoZoom: false,\n        flip: {\n          horizontal: false,\n          vertical: true\n        }\n      },\n      fileSystem: {\n        activeFilters: {\n          gcodes: [],\n          config: []\n        }\n      },\n      toolhead: {\n        forceMove: false,\n        extrudeSpeed: -1,\n        extrudeLength: -1\n      }\n    }\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\n// import vuetify from '@/plugins/vuetify'\nimport { ConfigState, SupportedTheme, TemperaturePreset, ThemeConfig } from './types'\nimport { RootState } from '../types'\nimport { Heater, Fan } from '../printer/types'\nimport tinycolor from '@ctrl/tinycolor'\nimport { AppTableHeader } from '@/types'\nimport { AppTablePartialHeader } from '@/types/tableheaders'\nimport { RootFile } from '../files/types'\nimport md5 from 'md5'\n\nexport const getters: GetterTree<ConfigState, RootState> = {\n  getCurrentInstance: (state) => {\n    return state.instances.find(instance => instance.active)\n  },\n\n  getInstances: (state) => {\n    const instances = [\n      ...state.instances\n    ].sort((a, b) =>\n      a.active\n        ? -1\n        : (b.active ? 1 : a.name.localeCompare(b.name))\n    )\n    return instances\n  },\n\n  getHostConfig: (state) => {\n    return state.hostConfig\n  },\n\n  /**\n   * Return temp presets. Ensure we only return a preset\n   * for a known heater or fan, incase things change\n   * after a preset has been saved.\n   */\n  getTempPresets: (state, getters, rootState, rootGetters) => {\n    const originalPresets: TemperaturePreset[] = state.uiSettings.dashboard.tempPresets\n    const presets: TemperaturePreset[] = []\n    const heaters = rootGetters['printer/getHeaters']\n    const fans = rootGetters['printer/getOutputs'](['temperature_fan'])\n\n    originalPresets.forEach((originalPreset: TemperaturePreset) => {\n      const preset: TemperaturePreset = {\n        ...originalPreset,\n        values: {}\n      }\n      // Loop through the preset and ensure that;\n      // a) a given heater and fan exists and;\n      // b) unknown heaters and fans are removed.\n      // For items added to an existing preset, default them to disabled.\n      heaters.forEach((heater: Heater) => {\n        if (originalPreset.values[heater.name]) {\n          preset.values[heater.name] = { ...originalPreset.values[heater.name] }\n        } else {\n          preset.values[heater.name] = { value: 0, type: 'heater', active: false }\n        }\n      })\n      fans.forEach((fan: Fan) => {\n        if (originalPreset.values[fan.name]) {\n          preset.values[fan.name] = { ...originalPreset.values[fan.name] }\n        } else {\n          preset.values[fan.name] = { value: 0, type: 'fan', active: false }\n        }\n      })\n\n      presets.push(preset)\n    })\n\n    return presets.sort((a, b) => {\n      return a.name.localeCompare(b.name)\n    })\n  },\n\n  /**\n   * Returns our current theme data.\n   * Should augment vuetifies default.\n   */\n  getTheme: (state) => {\n    // const v = vuetify.framework.theme\n    const v = state.uiSettings.theme;\n    const o = state.uiSettings.theme\n\n    const r: ThemeConfig = {\n      ...state.uiSettings.theme,\n      currentTheme: {\n        ...v.currentTheme,\n        ...o.currentTheme\n      }\n    }\n\n    for (const key in r.currentTheme) {\n      // Currently used for the offset in the logo.\n      r.currentTheme[key + 'Offset'] = tinycolor(o.currentTheme.primary as string)\n        .desaturate(5)\n        .darken(10)\n        .toHexString()\n    }\n    return r\n  },\n\n  getCustomThemeFile: (state, getters, rootState, rootGetters) => (filename: string, extensions: string[]) => {\n    const files = rootGetters['files/getRootFiles']('config') as RootFile[]\n\n    if (files) {\n      for (const extension of extensions) {\n        const path = `.fluidd-theme/${filename}${extension}`\n\n        if (files.some(f => f.path === path)) {\n          return path\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns a default theme preset for first init / when reset\n   */\n  getDefaultThemePreset: (state) => {\n    if (state.hostConfig.themePresets.length > 0) {\n      return state.hostConfig.themePresets[0] // First entry represents default\n    }\n    return {\n      name: 'Fluidd',\n      logo: {\n        src: '/logo_fluidd.svg',\n        changeWithTheme: true\n      },\n      color: '#2196F3'\n    }\n  },\n\n  getCurrentThemePreset: (state, getters) => {\n    const presets = state.hostConfig.themePresets\n    const theme = getters.getTheme\n    return presets.find((preset: SupportedTheme) => preset.logo.src === theme.logo.src)\n  },\n\n  getMergedTableHeaders: (state, getters) => (headers: AppTableHeader[], key: string) => {\n    const configured: AppTablePartialHeader[] = getters.getConfiguredTableHeaders(key)\n    if (!configured) {\n      return headers\n    }\n    const merged: AppTableHeader[] = []\n    headers.forEach(header => {\n      const keyBy = (header.key)\n        ? 'key'\n        : 'value'\n\n      const o = {\n        visible: true,\n        configurable: false,\n        ...header,\n        ...configured.find(p => p[keyBy] === header[keyBy])\n      }\n\n      merged.push(o)\n    })\n    return merged\n  },\n\n  getConfiguredTableHeaders: (state) => (key: string) => {\n    return state.uiSettings.tableHeaders[key]\n  },\n\n  getTokenKeys: (state) => {\n    const url = state.apiUrl\n    const hash = (url) ? md5(url) : ''\n    return {\n      'user-token': `user-token-${hash}`,\n      'refresh-token': `refresh-token-${hash}`\n    }\n  }\n}\n","// import vuetify from '@/plugins/vuetify'\nimport { ActionTree } from 'vuex'\nimport { ConfigState, SaveByPath, InitConfig, InstanceConfig, UiSettings } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport { loadLocaleMessagesAsync, getStartingLocale } from '@/plugins/i18n'\nimport { Waits } from '@/globals'\nimport { AppTableHeader } from '@/types'\n\nexport const actions: ActionTree<ConfigState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Init any file configs we may have.\n   */\n  async initUiSettings ({ commit, dispatch, state }, payload: UiSettings) {\n    commit('setInitUiSettings', payload)\n\n    // Set vuetify to the correct initial theme.\n    if (state.uiSettings.theme) {\n    //   vuetify.framework.theme.dark = state.uiSettings.theme.isDark\n    //   vuetify.framework.theme.currentTheme.primary = state.uiSettings.theme.currentTheme.primary\n        console.log(`vuetify.framework.theme.dark = state.uiSettings.theme.isDark\\nvuetify.framework.theme.currentTheme.primary = state.uiSettings.theme.currentTheme.primary`)\n    }\n\n    // Set the correct language.\n    if (\n      payload.general &&\n      payload.general.locale\n    ) {\n      dispatch('onLocaleChange', payload.general.locale)\n    }\n  },\n\n  /**\n   * Sets, and saves a locale change.\n   */\n  async onLocaleChange ({ dispatch, state }, payload: string) {\n    // Set the correct language.\n    // vuetify.framework.lang.current = state.uiSettings.general.locale\n\n    // Add the wait.\n    dispatch('wait/addWait', Waits.onLoadLanguage, { root: true })\n\n    // Grab the browsers starting locale.\n    const startingLocale = getStartingLocale()\n\n    // Set the locale. If its set as default, use the starting locale.\n    const locale = (payload !== 'default')\n      ? await loadLocaleMessagesAsync(payload)\n      : await loadLocaleMessagesAsync(startingLocale)\n\n    // If the locale doesn't match what we have in settings, update it.\n    if (\n      state.uiSettings.general.locale !== payload\n    ) {\n      dispatch('saveByPath', {\n        path: 'uiSettings.general.locale',\n        value: (payload !== 'default') ? locale : payload,\n        server: true\n      })\n    }\n    dispatch('wait/removeWait', Waits.onLoadLanguage, { root: true })\n  },\n\n  /**\n   * Inits the host configuration.\n   */\n  async initHost ({ commit }, payload: InitConfig) {\n    commit('setInitHostConfig', payload.hostConfig)\n  },\n\n  /**\n   * Inits any local storage state we may have.\n   */\n  async initLocal ({ commit }, payload: InitConfig) {\n    commit('setInitInstances', payload) // Loads instances from local storage, and also inits the current instance.\n  },\n\n  /**\n   * Ensure our instance is recorded, and set the current instance.\n   */\n  async onInitApiConfig ({ commit }, payload) {\n    commit('setInitApiConfig', payload)\n  },\n\n  /**\n   * Removes a known instance\n   */\n  async removeInstance ({ commit }, payload: InstanceConfig) {\n    commit('setRemoveInstance', payload)\n  },\n\n  /**\n   * Updates a known instance\n   */\n  async updateInstance ({ commit, dispatch, state, getters }, value: InstanceConfig) {\n    // First, update the name in ui settings.\n    dispatch('saveByPath', {\n      path: 'uiSettings.general.instanceName',\n      value,\n      server: true\n    })\n\n    // Now, find the instance in our instance list and update there.\n    let instance = getters.getCurrentInstance\n    if (instance) {\n      instance = { ...instance, ...{ name: state.uiSettings.general.instanceName } }\n      // update the instance item...\n      commit('setUpdateInstanceName', instance)\n    }\n  },\n\n  /**\n   * Saves keys to config. Assumes a root[key] structure\n   * under state.config.\n   */\n  async saveByPath ({ commit }, config: SaveByPath) {\n    commit('setSaveByPath', config)\n    if (config.server) {\n      SocketActions.serverWrite(config.path, config.value)\n    }\n  },\n\n  /**\n   * Add or update a given temp preset\n   */\n  async updatePreset ({ commit, state }, payload) {\n    commit('setPreset', payload)\n    SocketActions.serverWrite('uiSettings.dashboard.tempPresets', state.uiSettings.dashboard.tempPresets)\n  },\n\n  /**\n   * Remove a temp preset\n   */\n  async removePreset ({ commit, state }, payload) {\n    commit('setRemovePreset', payload)\n    SocketActions.serverWrite('uiSettings.dashboard.tempPresets', state.uiSettings.dashboard.tempPresets)\n  },\n\n  /**\n   * Toggle a tables header state based on its name and key.\n   */\n  async updateHeader ({ commit, state }, payload: { name: string; header: AppTableHeader }) {\n    commit('setUpdateHeader', payload)\n    if (state.uiSettings.tableHeaders[payload.name]) {\n      SocketActions.serverWrite(`uiSettings.tableHeaders.${payload.name}`, state.uiSettings.tableHeaders[payload.name])\n    }\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { ConfigState, UiSettings, SaveByPath, InstanceConfig, InitConfig } from './types'\nimport { defaultState } from './state'\nimport { Globals } from '@/globals'\nimport { merge, set } from 'lodash-es'\nimport { v4 as uuidv4 } from 'uuid'\nimport { AppTableHeader } from '@/types'\nimport { AppTablePartialHeader } from '@/types/tableheaders'\n\nexport const mutations: MutationTree<ConfigState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  /**\n   * Inits UI settings from the db\n   */\n  setInitUiSettings (state, payload: UiSettings) {\n    if (payload) {\n      // Most settings should be merged, so start there.\n      const processed = merge(state.uiSettings, payload)\n\n      // Apply overrides.\n      if (payload.general && payload.general.zAdjustDistances) {\n        Vue.set(processed.general, 'zAdjustDistances', payload.general.zAdjustDistances)\n      }\n\n      if (payload.general && payload.general.toolheadMoveDistances) {\n        Vue.set(processed.general, 'toolheadMoveDistances', payload.general.toolheadMoveDistances)\n      }\n\n      if (payload.editor && payload.editor.autoEditExtensions) {\n        Vue.set(processed.editor, 'autoEditExtensions', payload.editor.autoEditExtensions)\n      }\n\n      Vue.set(state, 'uiSettings', processed)\n    }\n  },\n\n  /**\n   * Sets the API and Socket URLS on first load and\n   * ensure the instance is configured in local storage\n   */\n  setInitApiConfig (state, payload) {\n    state.apiUrl = payload.apiUrl\n    state.socketUrl = payload.socketUrl\n    if (payload.name && payload.name !== '') state.uiSettings.general.instanceName = payload.name\n  },\n\n  setInitHostConfig (state, payload) {\n    state.hostConfig.blacklist = payload.blacklist\n    state.hostConfig.endpoints = payload.endpoints\n    state.hostConfig.hosted = payload.hosted\n    state.hostConfig.themePresets = payload.themePresets\n\n    // Ensure the default (first item..) is applied for fresh setups.\n    if (payload.themePresets && payload.themePresets.length >= 1) {\n      const d = payload.themePresets[0]\n      Vue.set(state.uiSettings, 'theme', {\n        ...{\n          isDark: d.isDark,\n          logo: d.logo,\n          currentTheme: {\n            primary: d.color\n          }\n        },\n        ...state.uiSettings.theme\n      })\n    }\n  },\n\n  setInitInstances (state, payload: InitConfig) {\n    let instances: InstanceConfig[] = []\n    const apiConfig = payload.apiConfig\n    // const uiSettings = payload.uiSettings\n    const uiSettings = state.uiSettings\n    if (Globals.LOCAL_INSTANCES_STORAGE_KEY in localStorage) {\n      instances = JSON.parse(localStorage[Globals.LOCAL_INSTANCES_STORAGE_KEY])\n    }\n\n    const i = instances.findIndex((instance: InstanceConfig) => instance.apiUrl === payload.apiConfig.apiUrl)\n    if (i === -1) {\n      if (\n        (uiSettings || uiSettings === null) &&\n        (apiConfig && apiConfig.apiUrl !== '' && apiConfig.socketUrl !== '')\n      ) {\n        // Ensures we only add instances we've had a successful connection to.\n        instances.forEach(instance => { instance.active = false })\n        instances.push({ ...apiConfig, active: true, name: state.uiSettings.general.instanceName })\n      }\n    } else {\n      instances.forEach((instance, index) => {\n        instance.active = (index === i)\n        if (index === i && instance.name !== '') {\n          instance.name = state.uiSettings.general.instanceName\n        }\n      })\n    }\n    localStorage.setItem(Globals.LOCAL_INSTANCES_STORAGE_KEY, JSON.stringify(instances))\n    Vue.set(state, 'instances', instances)\n  },\n\n  setUpdateInstanceName (state, payload) {\n    const index = state.instances.findIndex(instance => instance.apiUrl === payload.apiUrl)\n    if (index > -1) {\n      const instance = state.instances[index]\n      Vue.set(state.instances, index, { ...instance, ...payload })\n    }\n    localStorage.setItem(Globals.LOCAL_INSTANCES_STORAGE_KEY, JSON.stringify(state.instances))\n  },\n\n  setRemoveInstance (state, payload) {\n    const instances = state.instances\n    const i = instances.findIndex((instance: InstanceConfig) => instance.apiUrl === payload.apiUrl)\n    if (i >= 0) {\n      instances.splice(i, 1)\n      Vue.set(state, 'instances', instances)\n      localStorage.setItem(Globals.LOCAL_INSTANCES_STORAGE_KEY, JSON.stringify(instances))\n    }\n  },\n\n  /**\n   * This should only be used on properties that have a default state in the store\n   * otherwise they will not be reactive.\n   */\n  setSaveByPath (state, payload: SaveByPath) {\n    set(state, payload.path, payload.value)\n  },\n\n  /**\n   * Update / Add a temperature preset\n   */\n  setPreset (state, payload) {\n    if (payload.id === -1) {\n      payload.id = uuidv4()\n      state.uiSettings.dashboard.tempPresets.push(payload)\n    } else {\n      const i = state.uiSettings.dashboard.tempPresets.findIndex(preset => preset.id === payload.id)\n      if (i >= 0) {\n        Vue.set(state.uiSettings.dashboard.tempPresets, i, payload)\n      }\n    }\n  },\n\n  /**\n   * Remove a preset\n   */\n  setRemovePreset (state, payload) {\n    const i = state.uiSettings.dashboard.tempPresets.findIndex(preset => preset.id === payload.id)\n    state.uiSettings.dashboard.tempPresets.splice(i, 1)\n  },\n\n  /**\n   * Puts us into layout mode\n   */\n  setLayoutMode (state, payload) {\n    state.layoutMode = payload\n  },\n\n  setContainerColumnCount (state, payload: number) {\n    state.containerColumnCount = payload\n  },\n\n  /**\n   * Toggle a tables header state based on its name and key.\n   */\n  setUpdateHeader (state, payload: { name: string; header: AppTableHeader }) {\n    const header = payload.header\n    const keyBy = (header.key)\n      ? 'key'\n      : 'value'\n\n    const key = header[keyBy]\n    const headers: AppTablePartialHeader[] = state.uiSettings.tableHeaders[payload.name]\n\n    if (headers) {\n      const i = headers.findIndex(item => {\n        return item[keyBy] === key\n      })\n      if (i >= 0) {\n        Vue.set(headers, i, {\n          ...headers[i],\n          visible: header.visible\n        })\n      } else {\n        const o: AppTablePartialHeader = {\n          value: header.value,\n          visible: header.visible\n        }\n        if (keyBy === 'key') o.key = header.key\n        headers.push(o)\n      }\n    }\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { ConfigState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const config: Module<ConfigState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { FilesState } from './types'\n\nexport const defaultState = (): FilesState => {\n  return {\n    uploads: [],\n    download: null,\n    fileTransferCancelTokenSource: null,\n    currentPaths: {},\n    disk_usage: {\n      total: 0,\n      used: 0,\n      free: 0\n    },\n    rootFiles: {\n      gcodes: [],\n      config: [],\n      config_examples: [],\n      docs: [],\n      logs: [],\n      timelapse: []\n    },\n    gcodes: [],\n    config: [],\n    config_examples: [],\n    docs: [],\n    logs: [],\n    timelapse: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { AppFile, AppFileWithMeta, FileRoot, Files, FilesState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<FilesState, RootState> = {\n  /**\n   * Returns a directory of files and sub-directories.\n   */\n  getDirectory: (state) => (root: FileRoot, path: string) => {\n    const dir = state[root]?.find(o => o.path === path)\n\n    return dir\n  },\n\n  getRootFiles: (state) => (root: FileRoot) => {\n    return state.rootFiles[root]\n  },\n\n  /**\n   * Indicates if a root is available.\n   */\n  isRootAvailable: (state, getters, rootState) => (r: string) => {\n    return rootState.server.info.registered_directories.includes(r)\n  },\n\n  /**\n   * Returns the properties of a root.\n   */\n  getRootProperties: () => (root: FileRoot) => {\n    switch (root) {\n      case 'gcodes':\n        return {\n          readonly: false,\n          accepts: ['.gcode', '.g', '.gc', '.gco', '.ufp', '.nc'],\n          canEdit: true,\n          canView: false,\n          canPrint: true,\n          canConfigure: true,\n          filterTypes: ['hidden_files', 'print_start_time']\n        }\n      case 'config':\n        return {\n          readonly: false,\n          accepts: ['.conf', '.cfg', '.md', '.css', '.jpg', '.jpeg', '.png', '.gif'],\n          canEdit: true,\n          canView: false,\n          canPrint: false,\n          canConfigure: false,\n          filterTypes: ['hidden_files', 'klipper_backup_files']\n        }\n      case 'config_examples':\n        return {\n          readonly: true,\n          accepts: [],\n          canEdit: false,\n          canView: true,\n          canPrint: false,\n          canConfigure: false,\n          filterTypes: []\n        }\n      case 'docs':\n        return {\n          readonly: true,\n          accepts: [],\n          canEdit: false,\n          canView: true,\n          canPrint: false,\n          canConfigure: false,\n          filterTypes: []\n        }\n      case 'logs':\n        return {\n          readonly: true,\n          accepts: [],\n          canEdit: false,\n          canView: true,\n          canPrint: false,\n          canConfigure: false,\n          filterTypes: []\n        }\n      case 'timelapse':\n        return {\n          readonly: true,\n          accepts: [],\n          canEdit: false,\n          canView: true,\n          canPrint: false,\n          canConfigure: false,\n          canDelete: true,\n          canCreateDirectory: true,\n          filterTypes: ['hidden_files']\n        }\n      default:\n        return {\n          readonly: true,\n          accepts: [],\n          canEdit: false,\n          canView: true,\n          canPrint: false,\n          canConfigure: false,\n          filterTypes: []\n        }\n    }\n  },\n\n  /**\n   * Returns a specific file.\n   */\n  getFile: (state, getters) => (root: FileRoot, path: string, filename: string) => {\n    const dir = getters.getDirectory(root, path) as Files | undefined\n\n    const file = dir?.items?.find((item): item is AppFile | AppFileWithMeta => item.type === 'file' && item.filename === filename)\n\n    return file\n  },\n\n  /**\n   * Gets the currently stored path for any given root.\n   */\n  getCurrentPathByRoot: (state) => (r: string) => {\n    return state.currentPaths[r] || ''\n  },\n\n  /**\n   * Returns a boolean indicating if we're low on disk space.\n   */\n  getLowOnSpace: (state) => {\n    // 1073741824 = 1gb\n    return state.disk_usage.free < 1073741824\n  },\n\n  /**\n   * Returns curent file system usage.\n   */\n  getUsage: (state) => {\n    return state.disk_usage\n  },\n\n  // Дописано:\n  getFilesList: (state) => {\n    return state.gcodes[0].items\n  }\n}\n","import {\n  FilePaths\n} from '@/store/files/types'\n\n/**\n * Takes a filename and root and provides;\n * - the filename, with no path.\n * - the path, with no root or filename.\n * - the path, including root.\n */\nexport default (filePath: string, root: string): FilePaths => {\n  let path = filePath.substr(0, filePath.lastIndexOf('/'))\n  path = (path && path.startsWith(root))\n    ? path.substring(root.length)\n    : path\n  return {\n    filename: filePath.split('/').pop() || '',\n    path,\n    rootPath: (path.length === 0) ? root : root + '/' + path\n  }\n}\n","import getFilePaths from './get-file-paths'\nimport { FileChangeItem, KlipperFile, KlipperFileWithMeta, AppFile, AppFileWithMeta } from '@/store/files/types'\n\n/**\n * Takes file change item and formats to represent an app file.\n */\nexport default (root: string, file: FileChangeItem | KlipperFile | KlipperFileWithMeta): AppFile | AppFileWithMeta => {\n  // A FileChangeItem\n  if ('path' in file) {\n    const paths = getFilePaths(file.path, root)\n    return {\n      type: 'file',\n      filename: paths.filename,\n      extension: paths.filename.split('.').pop() || '',\n      name: paths.filename,\n      path: paths.path,\n      size: file.size,\n      modified: file.modified\n    }\n  }\n\n  const paths = getFilePaths(file.filename, root)\n  return {\n    ...file,\n    type: 'file',\n    filename: paths.filename,\n    extension: paths.filename.split('.').pop() || '',\n    name: paths.filename,\n    path: paths.path,\n    modified: new Date(file.modified).getTime()\n  }\n}\n","import { ActionTree } from 'vuex'\nimport axios from 'axios'\nimport { FilesState, KlipperFile, AppDirectory, FileChangeSocketResponse, FileUpdate, AppFileWithMeta, KlipperFileWithMeta, DiskUsage, FileBrowserEntry, KlipperDir } from './types'\nimport { RootState } from '../types'\nimport formatAsFile from '@/util/format-as-file'\nimport getFilePaths from '@/util/get-file-paths'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\nimport { HistoryItem } from '../history/types'\n\nexport const actions: ActionTree<FilesState, RootState> = {\n    /**\n     * Reset our store\n     */\n    async reset({ commit }) {\n        commit('setReset')\n    },\n\n    async onServerFilesGetDirectory({ commit, rootState }, payload: { disk_usage: DiskUsage; files: (KlipperFile | KlipperFileWithMeta)[]; dirs: KlipperDir[]; __request__: any }) {\n        const path = payload.__request__.params.path\n        const root = payload.__request__.params.root\n        const pathNoRoot = path.length > root.length\n            ? path.substring(root.length + 1)\n            : path.substring(root.length)\n\n        const items: FileBrowserEntry[] = []\n\n        if (path && path.indexOf('/') >= 0) {\n            items.push({\n                type: 'directory',\n                dirname: '..',\n                name: '..',\n                size: 0,\n                modified: 0,\n            })\n        }\n\n        if (payload.dirs) {\n            payload.dirs.forEach((dir) => {\n                if (\n                    !Globals.FILTERED_FILES_PREFIX.some(e => dir.dirname.startsWith(e)) &&\n                    !Globals.FILTERED_FILES_EXTENSION.some(e => dir.dirname.endsWith(e))\n                ) {\n                    items.push({\n                        ...dir,\n                        type: 'directory',\n                        name: dir.dirname,\n                        modified: new Date(dir.modified).getTime()\n                    })\n                }\n            })\n        }\n\n        if (payload.files) {\n            payload.files.forEach((file) => {\n                if (\n                    !Globals.FILTERED_FILES_PREFIX.some(e => file.filename.startsWith(e)) &&\n                    !Globals.FILTERED_FILES_EXTENSION.some(e => file.filename.endsWith(e))\n                ) {\n                    let history = {} as HistoryItem\n                    if (file.job_id) {\n                        const h = rootState.history.jobs.find(job => job.job_id === file.job_id)\n                        if (h) history = h\n                    }\n                    items.push({\n                        ...file,\n                        type: 'file',\n                        name: file.filename,\n                        extension: file.filename.split('.').pop() || '',\n                        modified: new Date(file.modified).getTime(),\n                        path: (pathNoRoot === '/') ? '' : pathNoRoot,\n                        history\n                    })\n                }\n            })\n        }\n        commit('setDiskUsage', payload.disk_usage)\n        commit('setServerFilesGetDirectory', { root, directory: { path, items } })\n        if (path.startsWith('gcodes')) {\n            commit('ourExtension/layoutsData/fileBrowseWindow/setFiles', { items, path }, {root: true})\n        }\n    },\n\n    async onServerFilesListRoot({ commit }, payload) {\n        const root = payload.__request__.params.root\n        commit('setServerFilesListRoot', { root, files: payload })\n    },\n\n    /**\n     * If we request the metadata (a file..) then we load and update here.\n     */\n    async onFileMetaData({ commit, rootState, rootGetters }, payload: KlipperFile | KlipperFileWithMeta) {\n        const root = 'gcodes' // We'd only ever load metadata for gcode files.\n        const paths = getFilePaths(payload.filename, root)\n        let file = formatAsFile(root, payload)\n        const filepath = (file.path) ? `${file.path}/${file.filename}` : `${file.filename}`\n\n        // If this is an update to the currently printing file, then push it to\n        // current_file.\n        if (filepath === rootState.printer.printer.print_stats.filename) {\n            // Find an completed history item for this file, if it exists.\n            const history = rootGetters['history/getHistoryByFilename'](filepath)\n            if (history) {\n                file = {\n                    ...file,\n                    history\n                }\n            }\n            commit('printer/setSocketNotify', { key: 'current_file', payload: file }, { root: true })\n        }\n\n        // Apply the metadata to our specific file.\n        const update: FileUpdate = {\n            paths,\n            root,\n            file\n        }\n        commit('setFileUpdate', update)\n    },\n\n    /**\n     * Automated notifications from moonraker.\n     */\n\n    // Old notifications for backwards compat\n    async notifyCopyItem({ dispatch }, payload) { dispatch('notifyModifyFile', payload) },\n    async notifyMoveItem({ dispatch }, payload) { dispatch('notifyMoveFile', payload) },\n    async notifyUploadFile({ dispatch }, payload) { dispatch('notifyCreateFile', payload) },\n\n    // New notifications\n    async notifyRootUpdate({ commit }, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        commit('setResetRoot', root)\n        SocketActions.serverFilesGetDirectory(root, root)\n    },\n\n    async notifyModifyFile(_, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const itemPaths = getFilePaths(payload.item.path, root)\n\n        SocketActions.serverFilesGetDirectory(root, itemPaths.rootPath)\n        if (payload.source_item) {\n            const sourcePaths = getFilePaths(payload.source_item.path, root)\n            if (itemPaths.rootPath !== sourcePaths.rootPath) {\n                SocketActions.serverFilesGetDirectory(root, sourcePaths.rootPath)\n            }\n        }\n    },\n\n    async notifyCreateFile({ commit, dispatch, rootState }, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const file = formatAsFile(root, payload.item)\n        if (file.extension === 'gcode') {\n            // If the file in the gcode preview is the same as the one being updated, then reset gcode preview\n            const gcodePreviewFile = rootState.gcodePreview.file\n            if (gcodePreviewFile && gcodePreviewFile.path === file.path && gcodePreviewFile.filename === file.filename) {\n                dispatch('gcodePreview/reset', undefined, { root: true })\n            }\n\n            // For gcode files, get the metadata and the meta update will take care of the rest.\n            SocketActions.serverFilesMetaData(payload.item.path)\n        } else {\n            const paths = getFilePaths(payload.item.path, root)\n            const update: FileUpdate = {\n                paths,\n                root,\n                file\n            }\n            commit('setFileUpdate', update)\n        }\n    },\n\n    async notifyCreateDir(_, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const paths = getFilePaths(payload.item.path, root)\n        SocketActions.serverFilesGetDirectory(root, paths.rootPath)\n    },\n\n    async notifyMoveFile(_, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const itemPaths = getFilePaths(payload.item.path, root)\n\n        SocketActions.serverFilesGetDirectory(root, itemPaths.rootPath)\n        if (payload.source_item) {\n            const sourcePaths = getFilePaths(payload.source_item.path, root)\n            if (itemPaths.rootPath !== sourcePaths.rootPath) {\n                SocketActions.serverFilesGetDirectory(root, sourcePaths.rootPath)\n            }\n        }\n    },\n\n    async notifyMoveDir(_, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const itemPaths = getFilePaths(payload.item.path, root)\n\n        SocketActions.serverFilesGetDirectory(root, itemPaths.rootPath)\n        if (payload.source_item) {\n            const sourcePaths = getFilePaths(payload.source_item.path, root)\n            if (itemPaths.rootPath !== sourcePaths.rootPath) {\n                SocketActions.serverFilesGetDirectory(root, sourcePaths.rootPath)\n            }\n        }\n    },\n\n    async notifyDeleteFile({ commit }, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const paths = getFilePaths(payload.item.path, root)\n        const file = formatAsFile(root, payload.item)\n        const update: FileUpdate = {\n            paths,\n            root,\n            file\n        }\n        commit('setItemDelete', update)\n    },\n\n    async notifyDeleteDir({ commit }, payload: FileChangeSocketResponse) {\n        const root = payload.item.root\n        const paths = getFilePaths(payload.item.path, root)\n        const dir = formatAsFile(root, payload.item)\n        const update: FileUpdate = {\n            paths,\n            root,\n            file: dir\n        }\n        commit('setItemDelete', update)\n        commit('setPathDelete', { path: `${paths.rootPath}/${paths.filename}`, root })\n    },\n\n    /**\n     * Handles the state of current uploads and downloads.\n     */\n    async updateFileUpload({ commit }, payload) {\n        commit('setUpdateFileUpload', payload)\n    },\n\n    async removeFileUpload({ commit }, payload) {\n        commit('setRemoveFileUpload', payload)\n    },\n\n    async updateFileDownload({ commit }, payload) {\n        commit('setUpdateFileDownload', payload)\n    },\n\n    async removeFileDownload({ commit }, payload) {\n        commit('setRemoveFileDownload', payload)\n    },\n\n    async createFileTransferCancelTokenSource({ commit }) {\n        const cancelTokenSource = axios.CancelToken.source()\n\n        commit('setFileTransferCancelTokenSource', cancelTokenSource)\n    },\n\n    async cancelFileTransferWithTokenSource({ commit, state }, cancellationMessage) {\n        if (state.fileTransferCancelTokenSource) {\n            state.fileTransferCancelTokenSource.cancel(cancellationMessage)\n        }\n\n        commit('setFileTransferCancelTokenSource', null)\n    },\n\n    async updateCurrentPathByRoot({ commit }, payload) {\n        commit('setCurrentPath', payload)\n    },\n}\n","import getFilePaths from './get-file-paths'\nimport { AppFile } from '@/store/files/types'\n\n/**\n * File Updates come in with the filename representing the filepath,\n * so we need to strip the path to reflect what we store.\n */\nconst mergeFileUpdate = <T extends AppFile>(root: string, existing: T, updates: Partial<T> & { filename: string; }): T => {\n  const paths = getFilePaths(updates.filename, root)\n  updates.filename = paths.filename\n  return { ...existing, ...updates }\n}\n\nexport default mergeFileUpdate\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport mergeFileUpdate from '@/util/merge-file-update'\nimport { Files, FilesState, FileUpdate, AppFile, FileRoot } from './types'\nimport { defaultState } from './state'\nimport { Globals } from '@/globals'\n\nexport const mutations: MutationTree<FilesState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setResetRoot (state, root) {\n    Vue.set(state, root, [])\n    if (state.currentPaths[root]) {\n      Vue.set(state.currentPaths, root, undefined)\n    }\n  },\n\n  setServerFilesGetDirectory (state, payload) {\n    const path = payload.directory.path\n    const root = payload.root as FileRoot\n    const i = state[root].findIndex(o => o.path === path)\n    if (i >= 0) {\n      state[root].splice(i, 1, payload.directory)\n    } else {\n      state[root].push(payload.directory)\n    }\n  },\n\n  setServerFilesListRoot (state, payload) {\n    const root = payload.root as FileRoot\n\n    state.rootFiles[root] = payload.files\n  },\n\n  setFileUpdate (state, payload: FileUpdate) {\n    const root = payload.root as FileRoot\n    const paths = payload.paths\n\n    // Find relevant directory.\n    const directory = state[root].find((f: Files) => (f.path === paths.rootPath))\n\n    if (directory) {\n      const fileIndex = directory.items.findIndex(file => file.type === 'file' && file.filename === paths.filename)\n      const file = directory.items[fileIndex] as AppFile\n\n      const isFiltered = (\n        Globals.FILTERED_FILES_PREFIX.some(e => payload.paths.filename.startsWith(e)) ||\n        Globals.FILTERED_FILES_EXTENSION.some(e => payload.paths.filename.endsWith(e))\n      )\n\n      if (!isFiltered) {\n        if (fileIndex >= 0) {\n          Vue.set(directory.items, fileIndex, mergeFileUpdate(root, file, payload.file))\n        } else {\n          directory.items.push(mergeFileUpdate(root, {} as AppFile, payload.file))\n        }\n      }\n    }\n  },\n\n  setItemDelete (state, payload: FileUpdate) {\n    const root = payload.root as FileRoot\n    const paths = payload.paths\n\n    // Find relevant directory.\n    const directory = state[root].find((f: Files) => (f.path === paths.rootPath))\n    if (directory) {\n      const itemIndex = directory.items.findIndex(item => item.name === paths.filename)\n\n      if (itemIndex >= 0) {\n        directory.items.splice(itemIndex, 1)\n      }\n    }\n  },\n\n  setPathDelete (state, payload: { root: string; path: string }) {\n    const root = payload.root as 'gcodes' | 'config' | 'config_examples' | 'docs'\n    const path = payload.path\n\n    // Find relevant directories.\n    const folders = state[root].filter(f => (f.path.startsWith(path)))\n    folders.forEach((folder) => {\n      const i = state[root].findIndex((f: Files) => (folder === f))\n      if (i >= 0) {\n        state[root].splice(i, 1)\n      }\n    })\n  },\n\n  setUpdateFileUpload (state, payload) {\n    const i = state.uploads.findIndex((u) => u.filepath === payload.filepath)\n    if (i >= 0) {\n      Vue.set(state.uploads, i, { ...state.uploads[i], ...payload })\n    } else {\n      state.uploads.push(payload)\n    }\n  },\n\n  setRemoveFileUpload (state, payload) {\n    const i = state.uploads.findIndex((u) => u.filepath === payload)\n    if (i >= 0) {\n      state.uploads.splice(i, 1)\n    }\n  },\n\n  setUpdateFileDownload (state, payload) {\n    if (\n      !state.download ||\n      state.download === null\n    ) {\n      state.download = payload\n    } else {\n      state.download = {\n        ...state.download,\n        ...payload\n      }\n    }\n  },\n\n  setRemoveFileDownload (state) {\n    state.download = null\n  },\n\n  setFileTransferCancelTokenSource (state, payload) {\n    state.fileTransferCancelTokenSource = payload\n  },\n\n  setCurrentPath (state, payload) {\n    Vue.set(state.currentPaths, payload.root, payload.path)\n  },\n\n  setDiskUsage (state, payload) {\n    Vue.set(state, 'disk_usage', payload)\n  }\n\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { FilesState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const files: Module<FilesState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { LayoutState } from './types'\nimport { v4 as uuidv4 } from 'uuid'\nimport { DiagnosticsCardContainer } from '@/store/diagnostics/types'\n\n/**\n * Maintains the state of our page layouts.\n * Maintains;\n * - Position of card.\n * - If card is collapsed or not.\n * - If card is enabled or not.\n */\nexport const defaultState = (): LayoutState => {\n  return {\n    layouts: {\n      dashboard: {\n        container1: [\n          { id: 'printer-status-card', enabled: true, collapsed: false },\n          { id: 'camera-card', enabled: true, collapsed: false },\n          { id: 'toolhead-card', enabled: true, collapsed: false },\n          { id: 'macros-card', enabled: true, collapsed: false },\n          { id: 'outputs-card', enabled: true, collapsed: false },\n          { id: 'printer-limits-card', enabled: true, collapsed: false },\n          { id: 'retract-card', enabled: true, collapsed: false }\n        ],\n        container2: [\n          { id: 'temperature-card', enabled: true, collapsed: false },\n          { id: 'console-card', enabled: true, collapsed: false },\n          { id: 'jobs-card', enabled: true, collapsed: false },\n          { id: 'job-queue-card', enabled: false, collapsed: false },\n          { id: 'gcode-preview-card', enabled: true, collapsed: false },\n          { id: 'bed-mesh-card', enabled: false, collapsed: false }\n        ]\n      },\n      diagnostics: {\n        container1: [{\n          id: uuidv4(),\n          enabled: true,\n          title: 'Speeds',\n          collapsed: false,\n          height: 300,\n          icon: 'motion',\n          axes: [{\n            enabled: true,\n            unit: 'mm/s',\n            showLegend: true,\n            metrics: [{\n              collector: 'printer.motion_report.live_velocity',\n              name: 'Velocity',\n              style: { lineStyle: 'solid', lineColor: '#2196f3', fillOpacity: 0, displayLegend: true }\n            }, {\n              collector: 'printer.toolhead.max_velocity',\n              name: 'Max Velocity',\n              style: { lineStyle: 'dotted', lineColor: '#0075d2', fillOpacity: 0, displayLegend: false }\n            }]\n          }, {\n            enabled: true,\n            unit: 'mm³/s',\n            showLegend: true,\n            max: 20,\n            metrics: [{\n              collector: 'printer.motion_report.live_extruder_velocity * Math.PI * ' +\n                '(printer.configfile.settings.extruder.filament_diameter / 2) ** 2',\n              name: 'Flow',\n              style: { lineStyle: 'solid', lineColor: '#b12f36', fillOpacity: 5, displayLegend: true }\n            }, {\n              collector: '12',\n              name: 'Max Flow',\n              style: { lineStyle: 'dashed', lineColor: '#820007', fillOpacity: 0, displayLegend: false }\n            }]\n          }]\n        }]\n      } as DiagnosticsCardContainer\n    }\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { LayoutState, LayoutContainer, LayoutConfig } from './types'\nimport { RootState } from '../types'\nimport { cloneDeep } from 'lodash-es'\n// import vuetify from '@/plugins/vuetify'\n\nexport const getters: GetterTree<LayoutState, RootState> = {\n  /**\n   * Return the state / config of a layout item given its page and id.\n   */\n  getLayoutConfigById: (state) => (name: string, id: string): LayoutConfig | undefined => {\n    let config\n    for (const key in state.layouts[name]) {\n      if (config) break\n      const layout = state.layouts[name][key]\n      config = layout.find(o => o.id === id)\n    }\n    return config\n  },\n\n  /**\n   * Return a layout (all containers) given a layout name.\n   */\n  getLayout: (state) => (name: string): LayoutContainer | undefined => {\n    if (state.layouts[name]) {\n      return cloneDeep(state.layouts[name])\n      // return { ...state.layouts[name] }\n    } else if (name.startsWith('dashboard')) {\n      return cloneDeep(state.layouts.dashboard)\n    }\n  },\n\n  isEnabledInLayout: (state, getters) => (layout: string, id: string) => {\n    const configs = Object.values(getters.getLayout(layout) ?? {}).flat() as LayoutConfig[]\n\n    return configs.find(configs => configs.id === id)?.enabled ?? false\n  },\n\n  isEnabledInCurrentLayout: (state, getters) => (id: string) => {\n    const layout = getters.getSpecificLayoutName\n\n    return getters.isEnabledInLayout(layout, id)\n  },\n\n  /**\n   * Return a layout's container given a layout name and container name.\n   */\n  getContainer: (state) => (name: string, container: string): LayoutConfig[] | undefined => {\n    if (state.layouts[name][container]) {\n      return [...state.layouts[name][container]]\n    }\n  },\n\n  /**\n   * Return a specific layout config given the layout and id.\n   */\n  getConfig: (state, getters) => (name: string, id: string): LayoutConfig | undefined => {\n    const containers: LayoutContainer = getters.getLayout(name)\n    if (containers) {\n      for (const l in containers) {\n        const config = containers[l].find(layout => layout.id === id)\n        if (config) return { ...config }\n      }\n    }\n  },\n\n  getSpecificLayoutName: (state, getters, rootState, rootGetters): string => {\n    const user = rootGetters['auth/getCurrentUser']\n    if (!user) return 'dashboard'\n\n    // const size = vuetify.framework.breakpoint.name\n    const size = -1\n    return `dashboard-${size}-${user.username}`\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { LayoutConfig, LayoutState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\n\nexport const actions: ActionTree<LayoutState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async initLayout ({ commit }, payload) {\n    commit('setInitLayout', payload)\n  },\n\n  async onLayoutChange ({ commit, state }, payload: { name: string; value: LayoutConfig }) {\n    const layout = state.layouts[payload.name]\n    if (layout || payload.name.startsWith('dashboard')) {\n      commit('setLayoutChange', payload)\n      await SocketActions.serverWrite(\n        Globals.MOONRAKER_DB.fluidd.ROOTS.layout.name + '.layouts',\n        state.layouts\n      )\n    }\n  },\n\n  async onUpdateConfig ({ commit, state, dispatch }, payload: { name: string; value: LayoutConfig }) {\n    let containers = state.layouts[payload.name]\n    if (!containers) {\n      // user/device specific layout doesn't exist yet, so we create it\n      dispatch('onLayoutChange', { name: payload.name, value: state.layouts.dashboard })\n      containers = state.layouts[payload.name]\n    }\n\n    if (containers) {\n      for (const container in containers) {\n        const i = containers[container].findIndex(layout => layout.id === payload.value.id)\n        if (i >= 0) {\n          commit('setUpdateConfig', { name: payload.name, container, i, value: payload.value })\n          await SocketActions.serverWrite(\n            Globals.MOONRAKER_DB.fluidd.ROOTS.layout.name + `.layouts.${payload.name}.${container}`,\n            state.layouts[payload.name][container]\n          )\n        }\n      }\n    }\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { defaultState as getDefaultState } from './state'\nimport { LayoutConfig, LayoutState, Layouts } from './types'\n\nexport const mutations: MutationTree<LayoutState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, getDefaultState())\n  },\n\n  /**\n   * Inits the layout from moonraker.\n   * This merge strategy should account for supported components\n   * being the default state, and newly added components users may not\n   * have in their moonraker db.\n   */\n  setInitLayout (state, payload: LayoutState) {\n    if (payload && Object.keys(payload).length > 0) {\n      const defaultState = getDefaultState()\n      const migratableLayouts = ['dashboard']\n\n      for (const [layout, defaultComponents] of Object.entries(defaultState.layouts)) {\n        if (!payload.layouts[layout]) {\n          payload.layouts[layout] = defaultComponents\n        } else if (migratableLayouts.includes(layout)) {\n          const defaultComponentIds = Object.values(defaultComponents).flat().map(card => card.id)\n          const currentComponentIds = Object.values(payload.layouts[layout]).flat().map(card => card.id)\n\n          for (const [container, defaultContainerComponents] of Object.entries(defaultComponents)) {\n            const currentContainerComponents = payload.layouts[layout][container] || []\n\n            payload.layouts[layout][container] = [\n              ...currentContainerComponents.filter(component => defaultComponentIds.includes(component.id)),\n              ...defaultContainerComponents.filter(component => !currentComponentIds.includes(component.id))\n            ]\n          }\n        }\n      }\n\n      Object.assign(state, payload)\n    }\n  },\n\n  setLayoutChange (state, payload: { name: string; value: Layouts }) {\n    Vue.set(state.layouts, payload.name, payload.value)\n  },\n\n  /**\n   * Updates a layout config item.\n   */\n  setUpdateConfig (state, payload: { name: string; container: string; i: number; value: LayoutConfig }) {\n    Vue.set(state.layouts[payload.name][payload.container], payload.i, payload.value)\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { LayoutState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const layout: Module<LayoutState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { ChartState } from './types'\n\nexport const defaultState = (): ChartState => {\n  return {\n    ready: false,\n    chart: [],\n    selectedLegends: {}\n  }\n}\n\nexport const state = defaultState()\n","import Vue from 'vue'\n// import vuetify from '@/plugins/vuetify'\nimport { GetterTree } from 'vuex'\nimport { ChartState } from './types'\nimport { RootState } from '../types'\nimport { Globals } from '@/globals'\nimport { EChartsOption } from 'echarts'\n\nexport const getters: GetterTree<ChartState, RootState> = {\n  /**\n   * Returns our actual chart data\n   */\n  getChartData: (state) => {\n    return state.chart\n  },\n\n  /**\n   * Returns currently selected legends\n   */\n  getSelectedLegends: (state) => {\n    return state.selectedLegends\n  },\n\n  /**\n   * Return the charts retention.\n   */\n  getChartRetention: (state, getters, rootState, rootGetters) => {\n    const config = rootGetters['server/getConfig']\n    return config.data_store?.temperature_store_size ??\n      config.server?.temperature_store_size ??\n      Globals.CHART_HISTORY_RETENTION\n  },\n\n  /**\n   * Return base chart options given a chart type.\n   */\n  getBaseChartOptions: (state, getters, rootState, rootGetters) => (tooltipSuffix: { [index: string]: string } = {}) => {\n    // Common properties across all chart types.\n    const isDark = rootState.config.uiSettings.theme.isDark\n    const isMobile = false\n\n    const fontColor = (isDark) ? 'rgba(255,255,255,0.65)' : 'rgba(0,0,0,0.45)'\n    const fontSize = (isMobile) ? 13 : 14\n\n    const lineStyle = {\n      color: (isDark) ? '#ffffff' : '#000000',\n      opacity: 0.05\n    }\n\n    const pointerStyle = {\n      color: (isDark) ? '#ffffff' : '#000000',\n      opacity: 0.5\n    }\n\n    const grid = {\n      show: true,\n      borderWidth: 1,\n      borderColor: (isDark) ? 'rgba(255,255,255,0.25)' : 'rgba(0,0,0,0.15)'\n    }\n\n    const tooltip = {\n      backgroundColor: (isDark) ? 'rgba(15,15,15,0.75)' : 'rgba(255,255,255,0.75)',\n      borderColor: (isDark) ? 'rgba(0,0,0,0.85)' : 'rgba(255,255,255,0.85)',\n      textStyle: {\n        color: fontColor,\n        fontSize\n      }\n    }\n\n    const theme = rootGetters['config/getTheme']\n    const color = [\n      theme.currentTheme.primary,\n      theme.currentTheme.accent,\n      theme.currentTheme.info\n    ]\n\n    return {\n      color,\n      grid,\n      tooltip: {\n        ...tooltip,\n        show: true,\n        trigger: 'axis',\n        position: ['-8px', '-8px'],\n        formatter: (params: any) => {\n          let title = false\n          let text = '<div>'\n          params\n            .forEach((param: any) => {\n              // console.log(param)\n              const xDimension = param.dimensionNames[param.encode.x]\n              const yDimension = param.dimensionNames[param.encode.y]\n              const ySuffix = tooltipSuffix[yDimension] || ''\n              if (\n                xDimension &&\n                yDimension &&\n                param.seriesName\n              ) {\n                if (!title) {\n                  text += `\n                  <span style=\"font-size:${fontSize}px;color:${fontColor};font-weight:400;margin-left:2px\">\n                    ${Vue.$filters.formatTimeWithSeconds(param.value[xDimension])}\n                  </span>\n                  `\n                  title = true\n                }\n                text += `\n                  <div style=\"white-space: nowrap;\">\n                    ${param.marker}\n                    <span style=\"font-size:${fontSize}px;color:${fontColor};font-weight:400;margin-left:2px\">\n                      ${param.seriesName}:\n                    </span>\n                    <span style=\"float:right;margin-left:20px;font-size:${fontSize}px;color:${fontColor};font-weight:900\">\n                      ${param.value[yDimension]}${ySuffix}\n                    </span>\n                    <div style=\"clear: both\"></div>\n                  </div>\n                  <div style=\"clear: both\"></div>\n                `\n              }\n            })\n          text += '</div>'\n          return text\n        }\n      },\n      xAxis: {\n        type: 'time',\n        boundaryGap: false,\n        min: (value: any) => {\n          return value.max - (600 * 1000)\n        },\n        // min: 'dataMin',\n        max: 'dataMax',\n        axisLine: { show: false },\n        axisTick: { show: false },\n        axisLabel: { show: false, formatter: '{value}%' },\n        splitLine: { show: true, lineStyle },\n        axisPointer: { lineStyle: pointerStyle }\n      },\n      yAxis: {\n        type: 'value',\n        min: 0,\n        max: (value: any) => {\n          return (value.max <= 100)\n            ? 100\n            : value.max\n        },\n        axisLabel: { show: false, formatter: '{value}%' },\n        splitLine: { show: true, lineStyle }\n      }\n    } as EChartsOption\n  },\n\n  /**\n   * Returb base chart series configuration based on a type\n   */\n  getBaseSeries: () => (options: any) => {\n    const o = {\n      type: 'line',\n      smooth: true,\n      animation: false,\n      showSymbol: false,\n      symbol: 'emptyCircle',\n      areaStyle: { type: 'solid', opacity: 0.3 },\n      lineStyle: { type: 'solid', width: 1.5, opacity: 1 },\n      emphasis: {\n        lineStyle: { width: 1.5 }\n      },\n      ...options\n    }\n    return o\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\nimport { ChartData, ChartState } from './types'\nimport { RootState } from '../types'\nimport { isEqual } from 'lodash-es'\n\nexport const actions: ActionTree<ChartState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Loads stored server data for the past 20 minutes.\n   */\n  async initTempStore ({ commit, rootGetters, rootState }, payload) {\n    const now = new Date() // Set a base time to work out the temp data from.\n    // On a fresh boot of the host system, moonraker should give us enough data;\n    // however, it seems sometimes it does not. So - we should pad this out when\n    // we need to.\n    // Otherwise, for a system that has been running for a bit - we should expect\n    // enough data from moonraker to start with.\n\n    // Note that some items come back with targets when they should not,\n    // so we have to account for this too.\n\n    // how many datasets to add. Moonraker should give us 20 minutes, in 1 second intervals.. but we only need 10 minutes.\n    const retention = rootGetters['charts/getChartRetention']\n    const targetsToAvoid = [\n      'temperature_probe',\n      'temperature_sensor'\n    ]\n\n    if (\n      payload &&\n      Object.keys(payload).length === 0\n    ) {\n      // Empty chart data\n      commit('setChartStore', [])\n      return\n    }\n\n    for (const originalKey in payload) { // each heater / temp fan\n      // If the dataset is less than what we need, then pad the beginning\n      // until we get to our intended count\n      if (targetsToAvoid.some(e => originalKey.startsWith(e))) {\n        delete payload[originalKey].targets\n      }\n      ['temperatures', 'targets', 'powers', 'speeds'].forEach((k) => {\n        const arr = payload[originalKey][k]\n        if (arr && arr.length) {\n          if (arr.length < retention) {\n            const length = retention - arr.length\n            const lastValue = payload[originalKey][k][0]\n            payload[originalKey][k] = [...Array.from({ length }, () => lastValue), ...payload[originalKey][k]]\n          } else {\n            payload[originalKey][k] = payload[originalKey][k].splice(arr.length - retention)\n          }\n        }\n      })\n    }\n\n    const keys = Object.keys(payload)\n    const d: ChartData[] = []\n    for (let i = 0; i < retention; i++) {\n      const date = new Date(now.getTime() - (1000 * (retention - i)) - 2000)\n      const r: ChartData = {\n        date\n      }\n      keys.forEach(key => {\n        const label = key.split(' ', 2).pop() || ''\n\n        if (rootState.printer.printer[key]) {\n          const temp = rootState.printer.printer[key].temperature || 0\n          const target = rootState.printer.printer[key].target || 0\n          const power = rootState.printer.printer[key].power || 0\n          const speed = rootState.printer.printer[key].speed || 0\n\n          r[label] = payload[key].temperatures[i] || temp\n          if ('targets' in payload[key]) r[`${label}Target`] = payload[key].targets[i] || target\n          if ('powers' in payload[key]) r[`${label}Power`] = payload[key].powers[i] || power\n          if ('speeds' in payload[key]) r[`${label}Speed`] = payload[key].speeds[i] || speed\n        }\n      })\n      d.push(r)\n    }\n    commit('setChartStore', d)\n  },\n\n  /**\n   * Init the chart state from db\n   */\n  initCharts ({ commit }, payload) {\n    commit('setInitCharts', payload)\n  },\n\n  /**\n   * Saves current state of selected legends to store and db\n   */\n  saveSelectedLegends ({ commit, state }, payload) {\n    // Only change the data if they require it\n    if (!isEqual(state.selectedLegends, payload)) {\n      commit('setSelectedLegends', payload)\n      SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.charts.name + '.selectedLegends', payload)\n    }\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { ChartData, ChartState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<ChartState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    // Remove unknown keys first.\n    const d = defaultState()\n    Object.keys(state).forEach(key => {\n      if (!Object.keys(d).includes(key)) delete state[key]\n    })\n\n    Object.assign(state, defaultState())\n  },\n\n  /**\n   * Init the chart store from db\n   */\n  setInitCharts (state, payload: ChartState) {\n    if (payload) Object.assign(state, payload)\n  },\n\n  /**\n   * Inits the chart store from moonraker.\n   */\n  setChartStore (state, payload: ChartData[]) {\n    state.chart = payload\n    state.ready = true\n  },\n\n  /**\n   * Adds a single chart entry.\n   */\n  setChartEntry (state, payload: { type: string; retention: number; data: ChartData }) {\n    // Dont keep data older than our set retention\n    if (!state[payload.type]) {\n      Vue.set(state, payload.type, [])\n      // console.log('created new array', payload.type)\n    }\n    state[payload.type].push(payload.data)\n    // console.log('set data', payload.type, payload.data)\n    const firstInRange = state[payload.type].findIndex((entry: ChartData) => (Date.now() - entry.date.valueOf()) / 1000 < payload.retention)\n    if (firstInRange > 0) state[payload.type].splice(0, firstInRange)\n  },\n\n  setSelectedLegends (state, payload) {\n    state.selectedLegends = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { ChartState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const charts: Module<ChartState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { ConsoleState } from './types'\n\nexport const defaultState = (): ConsoleState => {\n  return {\n    consoleCommand: '',\n    consoleEntryCount: 0,\n    console: [],\n    availableCommands: {},\n    commandHistory: [],\n    autoScroll: true,\n    lastCleared: 0,\n    consoleFilters: [],\n    consoleFiltersRegexp: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { ConsoleState } from './types'\nimport { RootState } from '../types'\n\nconst _tempWaitExpr = /^(?:ok\\s+)?(b|t\\d+):\\d+\\.\\d+ \\/\\d+\\.+\\d+/i\n\nexport const getters: GetterTree<ConsoleState, RootState> = {\n  /**\n   * Return a list of all available console entries, filtered appropriately.\n   */\n  getConsoleEntries: (state, getters, rootState) => {\n    const hideTempWaits = rootState.config.uiSettings.general.hideTempWaits || true\n\n    const items = state.console.filter(entry => {\n      return (!entry.time || entry.time * 1000 > state.lastCleared) &&\n      (!hideTempWaits || !_tempWaitExpr.test(entry.message)) &&\n      (!state.consoleFilters.some((f, i) => f.enabled && state.consoleFiltersRegexp[i].test(entry.message)))\n    })\n\n    return items\n  },\n\n  getFilters: (state) => {\n    return state.consoleFilters\n  },\n\n  getAvailableCalibrationCommands: (state) => {\n    return Object.keys(state.availableCommands)\n      .filter(key => key.endsWith('CALIBRATE'))\n      .reduce((o, key) => {\n        return {\n          ...o,\n          [key]: state.availableCommands[key]\n        }\n      }, {})\n  },\n\n  getAllGcodeCommands: (state) => {\n    const commands = state.availableCommands\n    const additional = [\n      'TESTZ',\n      'ABORT',\n      'ACCEPT',\n      'ADJUSTED'\n    ]\n    additional.forEach(command => {\n      if (command in commands !== true) {\n        commands[command] = ''\n      }\n    })\n\n    return commands\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { Globals } from '@/globals'\nimport { ConsoleEntry, ConsoleFilter, ConsoleState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\n\nexport const actions: ActionTree<ConsoleState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Inits known command history\n   */\n  async initConsole ({ commit }, payload) {\n    commit('setInitConsole', payload)\n  },\n\n  /**\n   * Add a command history item, and update server store.\n   */\n  async onUpdateCommandHistory ({ state, commit }, payload) {\n    commit('setUpdateCommandHistory', payload)\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.console.name + '.commandHistory', state.commandHistory)\n  },\n\n  /**\n   * The result of a specific gcode request.\n   */\n  async onGcodeScript ({ dispatch }, payload) {\n    // If the response is not ok, pass it to the console.\n    if (payload && payload.result && payload.result !== 'ok') {\n      dispatch('onAddConsoleEntry', { message: Globals.CONSOLE_RECEIVE_PREFIX + payload.result })\n    }\n  },\n\n  /**\n   * Add a console entry\n   */\n  async onAddConsoleEntry ({ commit }, payload: ConsoleEntry) {\n    payload.message = payload.message.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\n    if (!payload.time || payload.time <= 0) {\n      payload.time = Date.now() / 1000 | 0\n    }\n    if (!payload.type) {\n      payload.type = 'response'\n    }\n    commit('setConsoleEntry', payload)\n  },\n\n  /**\n   * On a fresh load of the UI, we load prior gcode / console history\n   */\n  async onGcodeStore ({ commit }, payload) {\n    if (payload && payload.gcode_store) {\n      const entries = payload.gcode_store.map((s: ConsoleEntry, i: number) => {\n        s.message = Globals.CONSOLE_RECEIVE_PREFIX + s.message\n        s.message = s.message.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />')\n        s.id = i\n        return s\n      })\n      commit('setAllEntries', entries)\n    }\n  },\n\n  /**\n   * Klipper provides us with a list of available gcode commands\n   * based on the current configuration.\n   */\n  async onGcodeHelp ({ commit }, payload) {\n    commit('setGcodeHelp', payload)\n  },\n\n  /**\n   * Updates auto scroll value\n   */\n  async onUpdateAutoScroll ({ commit }, payload) {\n    commit('setAutoScroll', payload)\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.console.name + '.autoScroll', payload)\n  },\n\n  /**\n   * Remove a filter\n   */\n  async onRemoveFilter ({ commit, state }, filter: ConsoleFilter) {\n    commit('setRemoveFilter', filter)\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.console.name + '.consoleFilters', state.consoleFilters)\n  },\n\n  /**\n    * Add/Edit a filter\n    */\n  async onSaveFilter ({ commit, state }, filter: ConsoleFilter) {\n    commit('setFilter', filter)\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.console.name + '.consoleFilters', state.consoleFilters)\n  },\n\n  async onClear ({ commit, state }) {\n    commit('setLastCleared')\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.console.name + '.lastCleared', state.lastCleared)\n  }\n}\n","export interface ConsoleState {\n  // [key: string]: string;\n  consoleCommand: string;\n  console: ConsoleEntry[]; // console stream\n  availableCommands: GcodeCommands; // available gcode commands\n  consoleEntryCount: number; // give each console entry a unique id.\n  commandHistory: string[];\n  autoScroll: boolean;\n  lastCleared: number;\n  consoleFilters: ConsoleFilter[];\n  consoleFiltersRegexp: RegExp[];\n}\n\nexport interface ConsoleEntry {\n  id?: number;\n  message: string;\n  type: 'command' | 'response';\n  time?: number;\n}\n\nexport interface GcodeCommands {\n  [key: string]: string;\n}\n\nexport enum ConsoleFilterType {\n  Contains,\n  StartsWith,\n  Expression\n}\n\nexport interface ConsoleFilter {\n  id: string;\n  name: string;\n  type: ConsoleFilterType;\n  value: string;\n  enabled: boolean;\n}\n","import Vue from 'vue'\nimport { v4 as uuidv4 } from 'uuid'\nimport { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { Globals } from '@/globals'\nimport { ConsoleEntry, ConsoleFilter, ConsoleFilterType, ConsoleState } from './types'\n\nconst _compileExpression = (filter: ConsoleFilter): RegExp => {\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n  function escapeRegExp (s: string) {\n    return s.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n  }\n  switch (filter.type) {\n    case ConsoleFilterType.Contains:\n      return new RegExp(`.*${escapeRegExp(filter.value)}.*`, 'i')\n    case ConsoleFilterType.StartsWith:\n      return new RegExp(`^${escapeRegExp(filter.value)}.*`, 'i')\n    case ConsoleFilterType.Expression:\n      return new RegExp(filter.value)\n  }\n}\n\nexport const mutations: MutationTree<ConsoleState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  /**\n   * Adds a console entry\n   */\n  setConsoleEntry (state, entry: ConsoleEntry) {\n    if (entry.id === undefined) {\n      state.consoleEntryCount++\n      entry.id = state.consoleEntryCount\n    }\n    while (state.console.length >= Globals.CONSOLE_HISTORY_RETENTION) {\n      state.console.shift()\n    }\n    state.console.push(entry)\n  },\n\n  /**\n   * Sets all console entries from moonraker store.\n   */\n  setAllEntries (state, payload: ConsoleEntry[]) {\n    state.consoleEntryCount = payload.length\n    state.console = payload\n  },\n\n  /**\n   * Defines the list of available commands\n   */\n  setGcodeHelp (state, payload) {\n    Vue.set(state, 'availableCommands', payload)\n  },\n\n  /**\n   * Inits the console history from db\n   */\n  setInitConsole (state, payload: ConsoleState) {\n    if (payload) {\n      if (payload.consoleFilters) {\n        payload.consoleFiltersRegexp = payload.consoleFilters.map(f => _compileExpression(f))\n      }\n      Object.assign(state, payload)\n    }\n  },\n\n  /**\n   * Inits the console history from file\n   */\n  setUpdateCommandHistory (state, payload: string[]) {\n    if (payload) {\n      state.commandHistory = [...payload]\n    }\n  },\n\n  /**\n   * Maintains the current console command\n   */\n  setConsoleCommand (state, payload) {\n    state.consoleCommand = payload\n  },\n\n  /**\n   * Sets auto scroll\n   */\n  setAutoScroll (state, payload) {\n    state.autoScroll = payload\n  },\n\n  setFilter (state, filter: ConsoleFilter) {\n    const filterRegex = _compileExpression(filter)\n\n    if (filter.id) {\n      const i = state.consoleFilters.findIndex(c => c.id === filter.id)\n      if (i >= 0) {\n        Vue.set(state.consoleFilters, i, filter)\n        Vue.set(state.consoleFiltersRegexp, i, filterRegex)\n      }\n    } else {\n      filter.id = uuidv4()\n      state.consoleFilters.push(filter)\n      state.consoleFiltersRegexp.push(filterRegex)\n    }\n  },\n\n  setRemoveFilter (state, filter: ConsoleFilter) {\n    const i = state.consoleFilters.findIndex(c => c.id === filter.id)\n    if (i >= 0) {\n      state.consoleFilters.splice(i, 1)\n      state.consoleFiltersRegexp.splice(i, 1)\n    }\n  },\n\n  setLastCleared (state) {\n    Vue.set(state, 'lastCleared', Date.now())\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { ConsoleState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const console: Module<ConsoleState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { MacrosState } from './types'\n\nexport const defaultState = (): MacrosState => {\n  return {\n    stored: [],\n    categories: [],\n    expanded: [0]\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { Macro, MacrosState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<MacrosState, RootState> = {\n\n  /**\n   * Returns all available macros, transformed.\n   * Should include the macro's config.\n   */\n  getMacros: (state, getters, rootState) => {\n    const macros = Object.keys(rootState.printer.printer)\n      .filter(key => /^gcode_macro (?!_)/.test(key))\n      .map(key => {\n        const lowerCaseKey = key.toLocaleLowerCase()\n        const name = lowerCaseKey.split(' ', 2)[1]\n        const config = rootState.printer.printer.configfile.settings[lowerCaseKey]\n        const stored = state.stored.find(macro => macro.name === name)\n        const variables = rootState.printer.printer[key]\n\n        const macro: Macro = {\n          name,\n          alias: '',\n          visible: true,\n          disabledWhilePrinting: false,\n          color: '',\n          categoryId: '0',\n          variables,\n          ...stored,\n          ...{ config }\n        }\n\n        // Handle categories, incl those that no longer exist.\n        if (stored?.categoryId) {\n          const category = state.categories.find(category => category.id === stored.categoryId)\n\n          if (category) {\n            macro.category = category\n          } else {\n            macro.categoryId = '0'\n          }\n        }\n\n        return macro\n      })\n\n    return macros\n  },\n\n  // Gets visible macros, transformed. Should include the macro's config.\n  // Is only used on the dashboard. Grouped by category.\n  getVisibleMacros: (state, getters) => {\n    const defaultCategory = { id: '0', name: null }\n    const categories = [...state.categories, defaultCategory]\n\n    return categories\n      .map(({ id, name }) => {\n        return {\n          id,\n          name,\n          macros: getters.getMacrosByCategory(id).filter((macro: Macro) => macro.visible)\n        }\n      })\n      .filter(category => category.macros.length > 0)\n      .sort((a, b) => {\n        if (!a.name) return 1\n        if (!b.name) return -1\n\n        return a.name.localeCompare(b.name)\n      })\n  },\n\n  /**\n   * Returns all macros, transformed - given a category.\n   * If no category is passed, return all those that are uncategorized.\n   */\n  getMacrosByCategory: (state, getters) => (categoryId?: string) => {\n    const id = !categoryId\n      ? '0'\n      : categoryId\n\n    const macros = getters.getMacros as Macro[]\n\n    return macros\n      .filter(macro => macro.categoryId === id)\n      .sort((a: Macro, b: Macro) => {\n        // Sorts preferrentially by order, then by name\n        // This offers backward compatibility with macros that have no order\n        if ((a.order !== undefined && b.order !== undefined) && a.order !== b.order) {\n          return a.order - b.order\n        }\n\n        return a.name.localeCompare(b.name)\n      })\n  },\n\n  /**\n   * Returns a list of configured categories, and the count of macros inside of\n   * them.\n   */\n  getCategories: (state, getters) => {\n    const categories = state.categories\n      .map(category => {\n        const { id, name } = category\n\n        const macros = getters.getMacrosByCategory(id) as Macro[]\n        const count = macros.length\n        const visible = macros\n          .filter(macro => macro.visible)\n          .length\n\n        return {\n          id,\n          name,\n          visible,\n          count\n        }\n      })\n      .sort((a, b) => a.name.localeCompare(b.name))\n\n    return categories\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { Macro, MacroCategory, MacrosState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\n\nexport const actions: ActionTree<MacrosState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Init stored macros\n   */\n  initMacros ({ commit }, payload) {\n    commit('initMacros', payload)\n  },\n\n  /**\n   * Saves the state of a given macro.\n   */\n  saveMacro ({ state, commit }, macro: Macro) {\n    // Commit the change...\n    commit('setUpdateMacro', macro)\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name + '.stored', state.stored)\n  },\n\n  saveAllOrder ({ state, commit }, macros: Macro[]) {\n    // Commit the change...\n    macros.forEach((macro, index) => {\n      commit('setUpdateMacro', {\n        ...macro,\n        order: index\n      })\n    })\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name + '.stored', state.stored)\n  },\n\n  saveAllOn ({ state, commit }, macros) {\n    // Commit the change...\n    commit('setUpdateAllVisible', { macros, visible: true })\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name + '.stored', state.stored)\n  },\n\n  saveAllOff ({ state, commit }, macros) {\n    // Commit the change...\n    commit('setUpdateAllVisible', { macros, visible: false })\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name + '.stored', state.stored)\n  },\n\n  addCategory ({ commit, state }, category: string) {\n    commit('setAddCategory', category)\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name + '.categories', state.categories)\n  },\n\n  editCategory ({ commit, state }, payload: MacroCategory) {\n    commit('setEditCategory', payload)\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name, state)\n  },\n\n  removeCategory ({ commit, state }, category: MacroCategory) {\n    commit('setRemoveCategory', category)\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name, state)\n  },\n\n  saveExpanded ({ commit, state }, expanded: number[]) {\n    commit('setExpanded', expanded)\n\n    // Save to moonraker.\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.macros.name + '.expanded', state.expanded)\n  }\n}\n","import Vue from 'vue'\nimport { v4 as uuidv4 } from 'uuid'\nimport { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { Macro, MacroCategory, MacrosState } from './types'\n\nexport const mutations: MutationTree<MacrosState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  // Sets macro state from db\n  initMacros (state, payload: MacrosState) {\n    if (payload && payload.categories) {\n      if (typeof payload.categories[0] === 'string') payload.categories = []\n    }\n    if (payload) Object.assign(state, payload)\n  },\n\n  // Updates a singular macro\n  setUpdateMacro (state, macro: Macro) {\n    const m = { ...macro }\n    delete m.config // Saving a macro should never include its config.\n    delete m.category // we don't need the category prop (we use categoryid)\n    const i = state.stored.findIndex(m => m.name === macro.name)\n    if (i < 0) {\n      state.stored.push(m)\n    } else {\n      Vue.set(state.stored, i, m)\n    }\n  },\n\n  setUpdateAllVisible (state, payload: { macros: Macro[]; visible: boolean }) {\n    payload.macros.forEach((macro: Macro) => {\n      const i = state.stored.findIndex(m => m.name === macro.name)\n      const processed = {\n        ...macro,\n        visible: payload.visible\n      }\n      delete processed.config // Saving a macro should never include its config.\n      delete processed.category // we don't need the category prop (we use categoryid)\n      if (i < 0) {\n        state.stored.push(processed)\n      } else {\n        Vue.set(state.stored, i, processed)\n      }\n    })\n  },\n\n  setAddCategory (state, name: string) {\n    state.categories.push({ id: uuidv4(), name })\n  },\n\n  setEditCategory (state, payload: MacroCategory) {\n    // Edit the category in the category list, and then update all macros.\n    const i = state.categories.findIndex(category => category.id === payload.id)\n    Vue.set(state.categories, i, {\n      id: payload.id,\n      name: payload.name\n    })\n    state.stored.forEach((macro, i) => {\n      if (macro.categoryId === payload.id) {\n        Vue.set(state.stored, i, { ...macro, categoryId: payload.id })\n      }\n    })\n  },\n\n  setRemoveCategory (state, payload: MacroCategory) {\n    const i = state.categories.findIndex(category => category.id === payload.id)\n    if (i >= 0) {\n      state.categories.splice(i, 1)\n      state.stored.forEach((macro, i) => {\n        if (macro.categoryId === payload.id) {\n          const m = { ...macro }\n          delete m.categoryId\n          Vue.set(state.stored, i, m)\n        }\n      })\n    }\n  },\n\n  setExpanded (state, expanded: number[]) {\n    Vue.set(state, 'expanded', expanded)\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { MacrosState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const macros: Module<MacrosState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { DevicePowerState } from './types'\n\nexport const defaultState = (): DevicePowerState => {\n  return {\n    devices: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { DevicePowerState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<DevicePowerState, RootState> = {\n}\n","import { ActionTree } from 'vuex'\nimport { DevicePowerState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\n\nexport const actions: ActionTree<DevicePowerState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Make a socket request to init the moonraker power component.\n   */\n  async init () {\n    SocketActions.machineDevicePowerDevices()\n  },\n\n  /**\n   * Inits the list of available devices. Notified by init action.\n   */\n  async onInit ({ commit }, payload) {\n    if (\n      payload.devices &&\n      payload.devices.length > 0\n    ) {\n      commit('setDevices', payload)\n    }\n  },\n\n  /**\n   * Fires when we receive a notification of power changing\n   */\n  async onStatus ({ commit }, payload) {\n    commit('setStatus', payload)\n  },\n\n  /**\n   * On toggling a power device.\n   */\n  async onToggle ({ commit }, payload) {\n    commit('setStatus', payload)\n  }\n\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { DevicePowerState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<DevicePowerState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setDevices (state, payload) {\n    state.devices = payload.devices\n  },\n\n  setStatus (state, payload) {\n    for (const key in payload) {\n      const i = state.devices.findIndex(device => device.device === key)\n      if (i >= 0) {\n        Vue.set(state.devices[i], 'status', payload[key])\n      }\n    }\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { DevicePowerState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const power: Module<DevicePowerState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { HistoryState } from './types'\n\nexport const defaultState = (): HistoryState => {\n  return {\n    count: 0,\n    jobs: [],\n    job_totals: {\n      total_jobs: 0,\n      total_time: 0,\n      total_print_time: 0,\n      total_filament_used: 0,\n      longest_job: 0,\n      longest_print: 0\n    }\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { HistoryItem, HistoryState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<HistoryState, RootState> = {\n  /**\n   * Returns all history, sorted by start time.\n   */\n  getHistory: (state) => {\n    return (state.jobs && state.jobs.length)\n      ? [...state.jobs].sort((a, b) => b.start_time - a.start_time)\n      : []\n  },\n\n  /**\n   * Return a history item given a job id.\n   */\n  getHistoryById: (state) => (jobId: string) => {\n    return state.jobs.find(job => job.job_id === jobId)\n  },\n\n  /**\n   * Return a history item given a filename. Only return\n   * items that have a status of completed, and that still\n   * exist.\n   */\n  getHistoryByFilename: (state) => (filename: string) => {\n    return state.jobs.find(job => {\n      return (\n        job.filename === filename &&\n        job.status === 'completed' &&\n        job.exists === true\n      )\n    })\n  },\n\n  /**\n   * Returns a list of history entries, sorted by their start dates and\n   * optionally limited by a provided number.\n   */\n  getUniqueHistory: (state, getters) => (limit = 3) => {\n    const jobs: HistoryItem[] = []\n    const history = getters.getHistory\n\n    // Go through each item and;\n    // - Only show items that still exist\n    // - Don't allow dupes\n    // - Respect the limit\n    for (const job of history) {\n      if (\n        job.exists\n      ) {\n        const dupe = jobs.some((j) => job.filename === j.filename)\n        if (!dupe) {\n          jobs.push(job)\n        }\n        if (jobs.length === limit) break\n      }\n    }\n    return jobs\n  },\n\n  /**\n   * Provide a rollup of data for stat purposes.\n   */\n  getRollUp: (state) => {\n    const totals = state.job_totals\n    return {\n      ...totals,\n      filament_avg: (totals.total_filament_used) ? totals.total_filament_used / totals.total_jobs : 0,\n      print_avg: (totals.total_print_time) ? totals.total_print_time / totals.total_jobs : 0,\n      total_avg: (totals.total_time) ? totals.total_time / totals.total_jobs : 0\n    }\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { HistoryItem, HistoryState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\n\nexport const actions: ActionTree<HistoryState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Inits moonraker component\n   */\n  async init () {\n    // Get the last 50 history items.\n    SocketActions.serverHistoryList({ limit: Globals.JOB_HISTORY_LOAD })\n\n    // Load the known totals.\n    SocketActions.serverHistoryTotals()\n  },\n\n  async updateHistory ({ commit }, payload) {\n    if (payload) {\n      commit('setUpdateHistory', payload)\n    }\n  },\n\n  async clearHistoryThumbnails ({ commit }, payload) {\n    if (payload) {\n      commit('setClearHistoryThumbnails', payload)\n    }\n  },\n\n  /**\n   * Update the store with history totals data\n   */\n  async onHistoryTotals ({ commit }, payload) {\n    if (payload) {\n      commit('setHistoryTotals', payload)\n    }\n  },\n\n  /**\n   * Update the store with history\n   */\n  async onHistoryList ({ commit, rootGetters }, payload) {\n    if (payload) {\n      commit('setHistoryList', payload)\n\n      if (rootGetters['files/isRootAvailable']('gcodes')) {\n        SocketActions.serverFilesGetDirectory('gcodes', 'gcodes')\n      }\n    }\n  },\n\n  /**\n   * History has changed, update the data.\n   */\n  async onHistoryChange ({ commit }, payload: { action: string; job: HistoryItem }) {\n    SocketActions.serverHistoryTotals()\n    if (\n      payload\n    ) {\n      if (payload.action === 'added') commit('setAddHistory', payload.job)\n      if (payload.action === 'finished') commit('setUpdateHistory', payload.job)\n    }\n  },\n\n  async onDelete ({ commit }, payload) {\n    commit('setDeleteJob', payload.deleted_jobs)\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { HistoryItem, HistoryState } from './types'\n\nexport const mutations: MutationTree<HistoryState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  /**\n   * Applies currently known history totals\n   */\n  setHistoryTotals (state, payload: HistoryState) {\n    if (payload) Vue.set(state, 'job_totals', payload.job_totals)\n  },\n\n  /**\n   * Applies history list\n   */\n  setHistoryList (state, payload: HistoryState) {\n    if (payload.jobs !== undefined) Vue.set(state, 'jobs', payload.jobs)\n    if (payload.count !== undefined) Vue.set(state, 'count', payload.count)\n  },\n\n  /**\n   * Adds a history item.\n   */\n  setAddHistory (state, payload: HistoryItem) {\n    if (payload) {\n      state.jobs.push(payload)\n      state.count++\n    }\n  },\n\n  /**\n   * Updates a history item.\n   */\n  setUpdateHistory (state, payload: HistoryItem) {\n    if (payload) {\n      const i = state.jobs.findIndex(job => job.job_id === payload.job_id)\n      if (i >= 0) {\n        Vue.set(state.jobs, i, payload)\n      }\n    }\n  },\n\n  setClearHistoryThumbnails (state, payload: string) {\n    if (payload) {\n      const i = state.jobs.findIndex(job => job.job_id === payload)\n      if (i >= 0) {\n        const job = state.jobs[i]\n        Vue.set(state.jobs, i, {\n          ...job,\n          metadata: {\n            ...job.metadata,\n            thumbnails: []\n          }\n        })\n      }\n    }\n  },\n\n  setDeleteJob (state, payload: string[]) {\n    if (payload) {\n      payload.forEach((job_id) => {\n        const i = state.jobs.findIndex(job => job.job_id === job_id)\n        if (i >= 0) state.jobs.splice(i, 1)\n      })\n    }\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { HistoryState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const history: Module<HistoryState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { VersionState } from './types'\n\nexport const defaultState = (): VersionState => {\n  return {\n    busy: false, // busy doing an update.\n    github_limit_reset_time: 0,\n    github_rate_limit: 0,\n    github_requests_remaining: 0,\n    responses: [],\n    version_info: {},\n    fluidd: {\n      version: '',\n      hash: ''\n    }\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { isOfType } from '@/store/helpers'\nimport { ArtifactVersion, CommitItem, HashVersion, OSPackage, VersionState } from './types'\nimport { RootState } from '../types'\nimport { valid, gt } from 'semver'\n\nexport const getters: GetterTree<VersionState, RootState> = {\n  /**\n   * Returns an array list of available components\n   */\n  getVisibleComponents: (state) => {\n    const o = Object.keys(state.version_info)\n      .map(k => {\n        const r = state.version_info[k]\n        r.key = k\n        return r\n      })\n      .sort((a, b) => a.key.localeCompare(b.key))\n\n    return o\n  },\n\n  /**\n   * Returns an object indicating if any component (but system) has an update.\n   */\n  hasUpdates: (state, getters, rootState) => {\n    const enableNotifications = rootState.config.uiSettings.general.enableVersionNotifications\n    let r = false\n    for (const key in state.version_info) {\n      if (!r) {\n        if (\n          key !== 'system' && // don't check system updates..\n          enableNotifications\n        ) {\n          r = getters.hasUpdate(key)\n        }\n      } else {\n        break\n      }\n    }\n    return r\n  },\n\n  /**\n   * Returns a boolean indicating if a given component has an update.\n   */\n  hasUpdate: (state) => (component: string): boolean => {\n    if (state.version_info[component] && isOfType<ArtifactVersion>(state.version_info[component], 'name')) {\n      const o = state.version_info[component] as ArtifactVersion\n      const version = valid(o.version)\n      const remoteVersion = valid(o.remote_version)\n      if (version && remoteVersion) {\n        return (gt(remoteVersion, version))\n      }\n      return false\n    }\n\n    if (state.version_info[component] && isOfType<OSPackage>(state.version_info[component], 'package_count')) {\n      const o = state.version_info[component] as OSPackage\n      return (o.package_count > 0)\n    }\n\n    const o = state.version_info[component] as HashVersion\n    return (o.current_hash !== o.remote_hash)\n  },\n\n  getResponses: (state) => {\n    return [...state.responses]\n  },\n\n  /**\n   * Returns commit history grouped by day.\n   */\n  getCommitHistory: (state) => (component: string) => {\n    // This is only relevant for certain types.\n    const componentVersionInfo = state.version_info[component]\n    if (state.version_info[component] && isOfType<HashVersion>(componentVersionInfo, 'git_messages')) {\n      const result = [...componentVersionInfo.commits_behind]\n        .reduce((groups, commitItem) => {\n          const dateAndTime = new Date(+commitItem.date * 1000)\n          const dateOnly = +(new Date(dateAndTime.getFullYear(), dateAndTime.getMonth(), dateAndTime.getDate()))\n\n          if (dateOnly in groups) {\n            groups[dateOnly].push(commitItem)\n          } else {\n            groups[dateOnly] = [commitItem]\n          }\n\n          return groups\n        }, {} as Record<number, CommitItem[]>)\n      return {\n        keys: Object\n          .keys(result)\n          .map(key => parseInt(key))\n          .sort()\n          .reverse(),\n        result\n      }\n    }\n  }\n}\n","import { ActionTree } from 'vuex'\nimport consola from 'consola'\nimport { VersionState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport i18n from '@/plugins/i18n'\n\nexport const actions: ActionTree<VersionState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Make a socket request to init the version component.\n   */\n  async init () {\n    SocketActions.machineUpdateStatus()\n  },\n\n  /**\n   * Inits any file config we may have.\n   */\n  async onUpdateStatus ({ commit, dispatch, getters }, payload) {\n    commit('setUpdateStatus', payload)\n\n    if (getters.hasUpdates) {\n      dispatch('notifications/pushNotification', {\n        id: 'updates-available',\n        title: i18n.t('app.version.label.updates_available'),\n        to: '/settings#versions',\n        btnText: i18n.t('app.version.btn.view_versions'),\n        type: 'info',\n        merge: true\n      }, { root: true })\n    } else {\n      dispatch('notifications/clearNotification', 'updates-available', { root: true })\n    }\n  },\n\n  /**\n   * As updates happen, we get responses here.\n   */\n  async onUpdateResponse ({ commit }, payload) {\n    commit('setUpdateResponse', payload)\n  },\n\n  /**\n   * Notifications of specific updates\n   */\n  async onUpdatedMoonraker ({ commit }, payload) {\n    consola.debug('Finished updating moonraker', payload)\n    SocketActions.machineUpdateStatus()\n    // We do this because moonraker is expected to restart.\n    commit('socket/setSocketDisconnecting', true, { root: true })\n  },\n\n  async onUpdatedKlipper (_, payload) {\n    consola.debug('Finished updating klipper', payload)\n    SocketActions.machineUpdateStatus()\n  },\n\n  async onUpdatedClient (_, payload) {\n    consola.debug('Finished updating a client', payload)\n    SocketActions.machineUpdateStatus()\n  },\n\n  async onUpdatedFluidd (_, payload) {\n    consola.debug('Finished updating fluidd, reloading', payload)\n    window.location.reload()\n  },\n\n  async onUpdatedSystem (_, payload) {\n    consola.debug('Finished updating system', payload)\n    SocketActions.machineUpdateStatus()\n  },\n\n  async onUpdatedAll (_, payload) {\n    consola.debug('Finished updating all services', payload)\n    window.location.reload()\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { VersionState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<VersionState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setUpdateStatus (state, payload) {\n    if (payload) {\n      if ('busy' in payload) state.busy = payload.busy\n      if ('github_limit_reset_time' in payload) state.github_limit_reset_time = payload.github_limit_reset_time\n      if ('github_rate_limit' in payload) state.github_rate_limit = payload.github_rate_limit\n      if ('github_requests_remaining' in payload) state.github_requests_remaining = payload.github_requests_remaining\n\n      const o = Object.assign(\n        {},\n        state.version_info,\n        payload.version_info\n      )\n      Vue.set(state, 'version_info', o)\n    }\n  },\n\n  setUpdateResponse (state, payload) {\n    // If we get a complete === true, then assume the update is complete\n    // and set busy to false also.\n    if (payload.complete) {\n      state.busy = false\n    } else {\n      const id = state.responses.length\n      state.responses.push({\n        ...payload,\n        id\n      })\n    }\n  },\n\n  setClearUpdateResponse (state) {\n    state.responses = []\n  },\n\n  setVersion (state, payload) {\n    state.fluidd.version = payload\n  },\n  setHash (state, payload) {\n    state.fluidd.hash = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { VersionState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const version: Module<VersionState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { CamerasState } from './types'\nimport { v4 as uuidv4 } from 'uuid'\n\nexport const defaultState = (): CamerasState => {\n  return {\n    activeCamera: 'all',\n    cameras: [\n      {\n        id: uuidv4(),\n        enabled: false,\n        name: 'Default',\n        service: 'mjpegstreamer-adaptive',\n        targetFps: 15,\n        targetFpsIdle: 5,\n        urlStream: '/webcam/?action=stream',\n        urlSnapshot: '/webcam/?action=snapshot',\n        flipX: false,\n        flipY: false,\n        rotation: 0,\n        aspectRatio: '16:9'\n      }\n    ]\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { CameraConfig, CameraService, CamerasState, MoonrakerWebcamRotation } from './types'\nimport { RootState } from '../types'\nimport { WebcamConfig } from '../webcams/types'\n\nexport const getters: GetterTree<CamerasState, RootState> = {\n  /**\n   * Return all cameras.\n   */\n  getCameras: (state, getters) => {\n    const camerasInConfig = getters.getCamerasInConfig as CameraConfig[]\n\n    return [\n      ...state.cameras,\n      ...camerasInConfig\n    ].sort((a, b) => a.name.localeCompare(b.name))\n  },\n\n  getCamerasInConfig: (state, getters, rootState, rootGetters) => {\n    const webcamsInConfig = rootGetters['webcams/getWebcamsInConfig'] as WebcamConfig[]\n\n    return webcamsInConfig\n      .map((webcam): CameraConfig => ({\n        name: webcam.name,\n        location: webcam.location,\n        service: webcam.service as CameraService,\n        targetFps: webcam.target_fps,\n        urlStream: webcam.stream_url,\n        urlSnapshot: webcam.snapshot_url,\n        flipX: webcam.flip_horizontal,\n        flipY: webcam.flip_vertical,\n        rotation: webcam.rotation as MoonrakerWebcamRotation ?? 0,\n        source: webcam.source,\n        enabled: true,\n        id: `config-${webcam.name}`\n      }))\n  },\n\n  /**\n   * Return all enabled cameras,\n   */\n  getEnabledCameras: (state, getters) => {\n    return [...getters.getCameras]\n      .filter(camera => camera.enabled)\n  },\n\n  /**\n   * Return visible cameras. I.e., return cameras dependent on them being\n   * 1. enabled and 2. filtered by the currently active state.\n   */\n  getVisibleCameras: (state, getters) => {\n    if (getters.getActiveCamera === 'all') return [...getters.getEnabledCameras]\n    return [...getters.getEnabledCameras]\n      .filter(camera => camera.id === getters.getActiveCamera)\n  },\n\n  /**\n   * Return a camera by its id.\n   */\n  getCameraById: (state) => (id: string) => {\n    return state.cameras.find(camera => camera.id === id)\n  },\n\n  /**\n   * Return the set active camera, being all or a specific id.\n   */\n  getActiveCamera: (state) => {\n    return state.activeCamera\n  }\n}\n","const setUrlQueryParam = (url: string, key: string, value: string) => {\n  const fakeOrigin = 'http://fake.fake'\n  const newUrl = new URL(url, fakeOrigin)\n\n  newUrl.searchParams.set(key, value)\n\n  return newUrl.origin === fakeOrigin\n    ? newUrl.pathname + newUrl.search\n    : newUrl.href\n}\n\nexport default setUrlQueryParam\n","import { ActionTree } from 'vuex'\nimport { CamerasState, CameraConfigWithoutId, CameraConfig, CameraService, LegacyCamerasState, LegacyCameraType, MoonrakerWebcamRotation } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport { Globals } from '@/globals'\nimport { v4 as uuidv4 } from 'uuid'\nimport setUrlQueryParam from '@/util/set-url-query-param'\nimport { httpClientActions } from '@/api/httpClientActions'\n\nconst legacyCameraTypeToCameraService: Record<LegacyCameraType, CameraService> = {\n  mjpgstream: 'mjpegstreamer',\n  mjpgadaptive: 'mjpegstreamer-adaptive',\n  iframe: 'iframe',\n  ipstream: 'ipstream'\n}\n\nconst mjpegstreamerServices: CameraService[] = [\n  'mjpegstreamer',\n  'mjpegstreamer-adaptive'\n]\n\nexport const actions: ActionTree<CamerasState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async initLegacyCameras ({ commit }, payload: LegacyCamerasState) {\n    const { cameras: legacyCameras, activeCamera } = payload\n\n    if (legacyCameras) {\n      for (const legacyCamera of legacyCameras) {\n        const service = legacyCameraTypeToCameraService[legacyCamera.type]\n        const isMjpegStreamer = mjpegstreamerServices.includes(service)\n\n        const camera: CameraConfigWithoutId = {\n          name: legacyCamera.name,\n          service,\n          targetFps: legacyCamera.fpstarget,\n          urlStream: isMjpegStreamer ? setUrlQueryParam(legacyCamera.url, 'action', 'stream') : legacyCamera.url,\n          urlSnapshot: isMjpegStreamer ? setUrlQueryParam(legacyCamera.url, 'action', 'snapshot') : legacyCamera.url,\n          flipX: legacyCamera.flipX,\n          flipY: legacyCamera.flipY,\n          rotation: legacyCamera.rotate ? +legacyCamera.rotate as MoonrakerWebcamRotation : 0,\n          enabled: legacyCamera.enabled,\n          height: legacyCamera.height,\n          targetFpsIdle: legacyCamera.fpsidletarget\n        }\n\n        await httpClientActions.serverDatabaseItemPost(Globals.MOONRAKER_DB.webcams.NAMESPACE, legacyCamera.id, camera)\n      }\n\n      await httpClientActions.serverDatabaseItemPost(Globals.MOONRAKER_DB.fluidd.NAMESPACE, Globals.MOONRAKER_DB.fluidd.ROOTS.cameras.name, {\n        activeCamera: activeCamera || 'all'\n      })\n    }\n\n    commit('setActiveCamera', activeCamera || 'all')\n  },\n\n  /**\n   * Init any file configs we may have.\n   */\n  async initCameras ({ commit }, payload: Record<string, CameraConfigWithoutId>) {\n    const cameras = Object.entries(payload)\n      .map(([id, value]): CameraConfig => {\n        // Cameras created by Fluidd will provide `enabled`; otherwise,  assume `false`.\n        if (value.enabled === undefined) {\n          value.enabled = false\n        }\n\n        // Moonraker and Fluidd provide `rotation`, but Mainsail has `rotate`, so convert between then if property found.\n        if (value.rotation === undefined) {\n          if (value.rotate) {\n            value.rotation = value.rotate as MoonrakerWebcamRotation || 0\n            delete value.rotate\n          } else {\n            value.rotation = 0\n          }\n        }\n\n        return {\n          id,\n          ...value\n        }\n      })\n\n    commit('setInitCameras', { cameras })\n  },\n\n  /**\n   * Add or update a given camera\n   */\n  async updateCamera ({ commit }, payload: CameraConfig) {\n    if (payload.id === '') {\n      payload.id = uuidv4()\n    }\n\n    commit('setCamera', payload)\n\n    const { id, ...camera } = payload\n\n    SocketActions.serverWrite(id, camera, Globals.MOONRAKER_DB.webcams.NAMESPACE)\n  },\n\n  /**\n   * Remove a camera\n   */\n  async removeCamera ({ commit, state }, payload: CameraConfig) {\n    commit('setRemoveCamera', payload)\n\n    const { id } = payload\n\n    SocketActions.serverDelete(id, Globals.MOONRAKER_DB.webcams.NAMESPACE)\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.cameras.name + '.activeCamera', state.activeCamera)\n  },\n\n  /**\n   * Sets active camera\n   */\n  async updateActiveCamera ({ commit, state }, payload: string) {\n    commit('setActiveCamera', payload || 'all')\n\n    SocketActions.serverWrite(Globals.MOONRAKER_DB.fluidd.ROOTS.cameras.name + '.activeCamera', state.activeCamera)\n  },\n\n  async reloadMoonrakerWebcamsNamespace () {\n    SocketActions.serverRead(undefined, Globals.MOONRAKER_DB.webcams.NAMESPACE)\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { CameraConfig, CamerasState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<CamerasState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  /**\n   * Inits UI settings from the db\n   */\n  setInitCameras (state, payload: CameraConfig[]) {\n    if (payload) {\n      Object.assign(state, payload)\n    }\n  },\n\n  /**\n   * Update / Add a camera\n   */\n  setCamera (state, payload: CameraConfig) {\n    const index = state.cameras.findIndex(camera => camera.id === payload.id)\n\n    if (index >= 0) {\n      Vue.set(state.cameras, index, payload)\n    } else {\n      state.cameras.push(payload)\n    }\n  },\n\n  /**\n   * Remove a camera\n   */\n  setRemoveCamera (state, payload: CameraConfig) {\n    const index = state.cameras.findIndex(camera => camera.id === payload.id)\n\n    if (index >= 0) {\n      state.cameras.splice(index, 1)\n    }\n\n    if (state.activeCamera === payload.id) state.activeCamera = 'all'\n  },\n\n  /**\n   * Sets active camera\n   */\n  setActiveCamera (state, payload: string) {\n    state.activeCamera = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { CamerasState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const cameras: Module<CamerasState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { MeshState } from './types'\n\nexport const defaultState = (): MeshState => {\n  return {\n    variance: 0,\n    wireframe: false,\n    scale: 0.2,\n    boxScale: 2.0,\n    flatSurface: false,\n    matrix: 'mesh_matrix'\n  }\n}\n\nexport const state = defaultState()\n","import { KlipperBedMesh, ProcessedMesh } from '@/store/mesh/types'\n\nexport const transformMesh = (bedMesh: KlipperBedMesh, meshMatrix: keyof KlipperBedMesh, makeFlat = false): ProcessedMesh => {\n  const matrix = bedMesh[meshMatrix] as number[][]\n  const coordinates = []\n  let min = 0\n  let mid = 0\n  let max = 0\n  let variance = 0\n\n  if (\n    matrix &&\n    matrix.length >= 3 &&\n    matrix[0] &&\n    matrix[0].length >= 3 &&\n    bedMesh.mesh_min &&\n    bedMesh.mesh_max\n  ) {\n    const x_distance = (bedMesh.mesh_max[0] - bedMesh.mesh_min[0]) / (matrix[0].length - 1)\n    const y_distance = (bedMesh.mesh_max[1] - bedMesh.mesh_min[1]) / (matrix.length - 1)\n    let x_idx = 0\n    let y_idx = 0\n\n    min = Math.min(...matrix.map(row => Math.min(...row)))\n    max = Math.max(...matrix.map(row => Math.max(...row)))\n    if (min <= 0 && max >= 0) {\n      mid = 0\n    } else {\n      mid = (max + min) / 2\n    }\n    variance = Math.abs(min - max)\n\n    for (const x_axis of matrix) {\n      x_idx = 0\n      const y_coord = bedMesh.mesh_min[1] + (y_idx * y_distance)\n      for (const z_coord of x_axis) {\n        const x_coord = bedMesh.mesh_min[0] + (x_idx * x_distance)\n        x_idx++\n        coordinates.push(\n          {\n            name: `x${x_idx}_y${y_idx}`,\n            value: [\n              x_coord,\n              y_coord,\n              (makeFlat) ? mid : z_coord\n            ]\n          }\n        )\n      }\n      y_idx++\n    }\n  }\n\n  return {\n    coordinates,\n    min,\n    mid,\n    max,\n    variance\n  }\n}\n","import { GetterTree } from 'vuex'\nimport { BedMeshProfile, MeshState, AppMeshes, KlipperBedMesh, KlipperBedMeshProfile, LegacyKlipperBedMeshProfile } from './types'\nimport { RootState } from '../types'\nimport { transformMesh } from '@/util/transform-mesh'\n\nexport const getters: GetterTree<MeshState, RootState> = {\n\n  /**\n   * Has this printer been configured for bed meshes?\n   */\n  getSupportsBedMesh: (state, getters, rootState, rootGetters) => {\n    return rootGetters['printer/getPrinterSettings']('bed_mesh') !== undefined\n  },\n\n  getLegacyBedMeshProfiles: (state, getters, rootState, rootGetters) => {\n    const klipperProfiles = {} as Record<string, KlipperBedMeshProfile>\n\n    const config = rootGetters['printer/getPrinterConfig']()\n    const meshProfileKeys = Object.keys(config)\n      .filter(key => key.startsWith('bed_mesh '))\n\n    for (const key of meshProfileKeys) {\n      const name = key.split(' ').splice(1).join(' ')\n      const legacyKlipperProfile = config[key] as LegacyKlipperBedMeshProfile\n\n      const profile: KlipperBedMeshProfile = {\n        points: legacyKlipperProfile.points.split('\\n')\n          .filter(x => x.length)\n          .map(x => x.split(',').map(Number)),\n        mesh_params: {\n          algo: legacyKlipperProfile.algo,\n          max_x: +legacyKlipperProfile.max_x,\n          max_y: +legacyKlipperProfile.max_y,\n          mesh_x_pps: +legacyKlipperProfile.mesh_x_pps,\n          mesh_y_pps: +legacyKlipperProfile.mesh_y_pps,\n          min_x: +legacyKlipperProfile.min_x,\n          min_y: +legacyKlipperProfile.min_y,\n          tension: +legacyKlipperProfile.tension,\n          x_count: +legacyKlipperProfile.x_count,\n          y_count: +legacyKlipperProfile.y_count\n        }\n      }\n\n      klipperProfiles[name] = profile\n    }\n\n    return klipperProfiles\n  },\n\n  getBedMeshProfiles: (state, getters, rootState) => {\n    const profiles: BedMeshProfile[] = []\n    const bedMesh = rootState.printer.printer.bed_mesh as KlipperBedMesh\n\n    const klipperProfiles = bedMesh.profiles ?? getters.getLegacyBedMeshProfiles as Record<string, KlipperBedMeshProfile>\n\n    for (const [name, profile] of Object.entries(klipperProfiles)) {\n      const points = profile.points.flatMap(x => x)\n      const min = Math.min(...points)\n      const max = Math.max(...points)\n\n      profiles.push({\n        name,\n        active: name === bedMesh.profile_name,\n        min,\n        max,\n        variance: Math.abs(min - max),\n        ...profile\n      })\n    }\n\n    return profiles.sort((a, b) =>\n      a.name === 'default'\n        ? -1\n        : (\n            b.name === 'default'\n              ? 1\n              : a.name.localeCompare(b.name)\n          )\n    )\n  },\n\n  /**\n   * Returns the current mesh, in a usable format for echarts.\n   */\n  getCurrentMeshData: (state, getters, rootState): AppMeshes => {\n    const bedMesh = rootState.printer.printer.bed_mesh as KlipperBedMesh\n\n    return {\n      mesh_matrix: transformMesh(bedMesh, 'mesh_matrix'),\n      probed_matrix: transformMesh(bedMesh, 'probed_matrix'),\n      mesh_matrix_flat: transformMesh(bedMesh, 'mesh_matrix', true),\n      probed_matrix_flat: transformMesh(bedMesh, 'probed_matrix', true)\n    }\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { MeshState } from './types'\nimport { RootState } from '../types'\n\nexport const actions: ActionTree<MeshState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async onMatrix ({ commit }, payload) {\n    commit('setMatrix', payload)\n  },\n\n  async onScale ({ commit }, payload) {\n    commit('setScale', payload)\n  },\n\n  async onBoxScale ({ commit }, payload) {\n    commit('setBoxScale', payload)\n  },\n\n  async onWireframe ({ commit }, payload) {\n    commit('setWireframe', payload)\n  },\n\n  async onFlatSurface ({ commit }, payload) {\n    commit('setFlatSurface', payload)\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { MeshState } from './types'\n\nexport const mutations: MutationTree<MeshState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setMatrix (state, payload) {\n    state.matrix = payload\n  },\n\n  setScale (state, payload) {\n    state.scale = payload\n  },\n\n  setBoxScale (state, payload) {\n    state.boxScale = payload\n  },\n\n  setWireframe (state, payload) {\n    state.wireframe = payload\n  },\n\n  setFlatSurface (state, payload) {\n    state.flatSurface = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { MeshState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const mesh: Module<MeshState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { NotificationsState } from './types'\n\nexport const defaultState = (): NotificationsState => {\n  return {\n    notifications: []\n\n    // status:\n    // printer.mcu.last_stats\n    // printer.system_stats\n\n    // notifications:\n    // notify_cpu_throttled (to detect a throttle condition like under volt etc)\n\n    // actions:\n    // machine.proc.stats\n\n    // cpu overtemp\n    // mcu overtemp\n\n    // mcu awake time graphing\n\n    // If it was me, I'd probably just start with displaying everything on a single graph with 100% being one core usage.  So, just graph sysload outright (sysload * 100), cputime change ((cputime - last_cputime) * 100), mcu_awake (formula above), mcu load (formula above).\n\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { AppNotification, NotificationsState } from './types'\nimport { Announcement } from '../announcements/types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<NotificationsState, RootState> = {\n  getNotifications: (state, getters) => {\n    // Sort by datestamp, most recent first.\n    let notifications = [...state.notifications].sort((a, b) => {\n      return b.timestamp - a.timestamp\n    })\n\n    notifications = notifications.concat(getters.getAnnouncementsAsNotifications)\n\n    // Easier to read.\n    return [\n      ...notifications.filter(n => n.type === 'error'),\n      ...notifications.filter(n => n.type !== 'error')\n    ]\n  },\n\n  getAnnouncementsAsNotifications: (state, getters, rootState, rootGetters) => {\n    const announcements = rootGetters['announcements/getAnnouncements']\n\n    return announcements.map((a: Announcement): AppNotification => ({\n      id: a.entry_id,\n      type: 'announcement',\n      to: a.url,\n      title: a.title,\n      description: a.description,\n      timestamp: a.date,\n      clear: true,\n      merge: true\n    }))\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { EventBus, FlashMessageTypes } from '@/eventBus'\nimport { v4 as uuidv4 } from 'uuid'\nimport { NotificationsState, AppPushNotification, AppNotification } from './types'\nimport { RootState } from '../types'\n\nexport const actions: ActionTree<NotificationsState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Adds a new notification.\n   */\n  async pushNotification ({ commit, state }, payload: AppPushNotification) {\n    // When adding;\n    // 1. Define if it should be merged with the same type if re-adding.\n    // 2. Define if it should also provide a popover.\n    // This needs two commits. One for a merge, one for not.\n    // Then we can emit the toast if it was a merge or not.\n\n    // Define the base notification.\n    const n: AppNotification = {\n      ...{\n        // snackbar: true,\n        id: uuidv4(),\n        type: 'info',\n        timestamp: Date.now() / 1000,\n        clear: true,\n        merge: false\n      },\n      ...payload\n    }\n\n    // Sanity check...\n    if (n.title && n.title !== '?' && n.id) {\n      const i = state.notifications.findIndex(n => n.title === payload.title)\n      if (n.merge && i >= 0) {\n        commit('setMergeNotification', { n, i })\n      } else {\n        commit('setPushNotification', n)\n      }\n\n      if (payload.snackbar) {\n        // Emit if snackbar is true.\n        EventBus.$emit(n.title, { type: FlashMessageTypes.error })\n      }\n    }\n  },\n\n  /**\n   * Clear a notification.\n   */\n  async clearNotification ({ commit, dispatch }, n: AppNotification | string) {\n    if (typeof n === 'object' && n.type === 'announcement') {\n      dispatch('announcements/dismiss', { entry_id: n.id }, { root: true })\n      return\n    }\n\n    commit('setClearNotification', n)\n  },\n\n  /**\n   * Clear all notifications.\n   */\n  async clearAll ({ commit, dispatch }) {\n    commit('setClearAllNotifications')\n\n    dispatch('announcements/dismissAll', {}, { root: true })\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { NotificationsState, AppNotification } from './types'\n\nexport const mutations: MutationTree<NotificationsState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setPushNotification (state, n: AppNotification) {\n    state.notifications.push(n)\n  },\n\n  setMergeNotification (state, options: { n: AppNotification; i: number }) {\n    if (options && options.n && options.i >= 0) {\n      Vue.set(state.notifications, options.i, options.n)\n    }\n  },\n\n  setClearNotification (state, notification: AppNotification | string) {\n    let i = -1\n    if (typeof notification === 'string') {\n      i = state.notifications.findIndex(n => n.id === notification)\n    } else {\n      i = state.notifications.findIndex(n => n === notification)\n    }\n    if (i >= 0) {\n      state.notifications.splice(i, 1)\n    }\n  },\n\n  setClearAllNotifications (state) {\n    Vue.set(state, 'notifications', [...state.notifications.filter(n => !n.clear)])\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { NotificationsState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const notifications: Module<NotificationsState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { AnnouncementsState } from './types'\n\nexport const defaultState = (): AnnouncementsState => {\n  return {\n    entries: [],\n    feeds: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { AnnouncementsState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<AnnouncementsState, RootState> = {\n  getAnnouncements: (state) => {\n    return state.entries.filter(announcement => !announcement.dismissed)\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { AnnouncementsState, Announcement } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\n\nexport const actions: ActionTree<AnnouncementsState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Inits moonraker component\n   */\n  async init () {\n    SocketActions.serverAnnouncementsList()\n  },\n\n  async onAnnouncementsList ({ commit }, payload) {\n    if (payload) {\n      commit('setAnnouncementsList', payload)\n    }\n  },\n\n  async onAnnouncementUpdate ({ commit }, payload) {\n    if (payload) {\n      commit('setAnnouncementsList', payload)\n    }\n  },\n\n  async onAnnouncementDismissed ({ commit }, payload) {\n    if (payload) {\n      commit('setAnnouncementDismissed', { entry_id: payload.entry_id, dismissed: true })\n    }\n  },\n\n  async onAnnouncementWake ({ commit }, payload) {\n    if (payload) {\n      commit('setAnnouncementDismissed', { entry_id: payload.entry_id, dismissed: false })\n    }\n  },\n\n  async dismiss (_, payload) {\n    SocketActions.serverAnnouncementsDismiss(payload.entry_id, payload.wake_time)\n  },\n\n  async dismissAll ({ state }) {\n    const entries = [...state.entries]\n\n    entries.forEach(async (entry: Announcement) => await SocketActions.serverAnnouncementsDismiss(entry.entry_id))\n  }\n}\n","import Vue from 'vue'\nimport { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { AnnouncementsState } from './types'\n\nexport const mutations: MutationTree<AnnouncementsState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setAnnouncementsList (state, payload: AnnouncementsState) {\n    if (payload.entries) Vue.set(state, 'entries', payload.entries)\n    if (payload.feeds) Vue.set(state, 'feeds', payload.feeds)\n  },\n\n  setAnnouncementDismissed (state, payload: { entry_id: string, dismissed: boolean }) {\n    const entries = [...state.entries]\n\n    const entry = entries.find(entry => entry.entry_id === payload.entry_id)\n    if (entry) {\n      entry.dismissed = payload.dismissed\n\n      if (!payload.dismissed) {\n        entry.date_dismissed = null\n        entry.dismiss_wake = null\n      } else {\n        entry.date_dismissed = Date.now()\n      }\n    }\n\n    Vue.set(state, 'entries', entries)\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { AnnouncementsState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const announcements: Module<AnnouncementsState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { WaitState } from './types'\n\nexport const defaultState = (): WaitState => {\n  return {\n    waits: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { WaitState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<WaitState, RootState> = {\n  /**\n   * Determine if we have a specific wait, or list of waits active or not.\n   */\n  hasWait: (state) => (wait: string | string[]): boolean => {\n    if (Array.isArray(wait) && wait.length) {\n      let waits = wait as string[]\n      waits = waits.filter(val => state.waits.includes(val))\n      return (waits.length > 0)\n    } else {\n      wait = wait as string\n      return state.waits.includes(wait)\n    }\n  },\n\n  /**\n   * Determine if we have any waits.\n   */\n  hasWaits: (state) => {\n    return state.waits.length > 0\n  },\n\n  /**\n   * Determine if we have any waits prefixed with...\n   */\n  hasWaitsBy: (state) => (prefix: string) => {\n    const waits = state.waits.filter(wait => wait.startsWith(prefix))\n    return waits.length > 0\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { WaitState } from './types'\nimport { RootState } from '../types'\n\nexport const actions: ActionTree<WaitState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Add's a wait to the list of waits.\n   */\n  async addWait ({ commit }, wait) {\n    commit('setAddWait', wait)\n  },\n\n  /**\n   * Removes a wait from the list of waits.\n   */\n  async removeWait ({ commit }, wait) {\n    commit('setRemoveWait', wait)\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { WaitState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<WaitState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  /**\n   * Add a wait, ensuring we don't add dupes.\n   */\n  setAddWait (state, payload) {\n    const i = state.waits.indexOf(payload)\n    if (i === -1) state.waits.push(payload)\n  },\n\n  /**\n   * Remove a wait, if found.\n   */\n  setRemoveWait (state, payload) {\n    const i = state.waits.indexOf(payload)\n    if (i !== -1) state.waits.splice(i, 1)\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { WaitState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const wait: Module<WaitState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { GcodePreviewState } from './types'\n\nexport const defaultState = (): GcodePreviewState => {\n  return {\n    moves: [],\n    layers: [],\n    parts: [],\n    file: undefined,\n    parserProgress: 0,\n    parserWorker: null,\n\n    viewer: {\n      showCurrentLayer: true,\n      showNextLayer: false,\n      showPreviousLayer: false,\n      showMoves: true,\n      showExtrusions: true,\n      showRetractions: true,\n      showParts: true,\n      followProgress: false\n    }\n  }\n}\n\nexport const state = defaultState()\n","import { AppFile } from '@/store/files/types'\n\nexport type LayerNr = number\n\nexport interface GcodePreviewState {\n  moves: Move[];\n  layers: Layer[],\n  parts: Part[],\n  file?: AppFile;\n  parserProgress: number;\n  parserWorker: Worker | null;\n\n  viewer: {\n    showCurrentLayer: boolean;\n    showNextLayer: boolean;\n    showPreviousLayer: boolean;\n    showMoves: boolean;\n    showExtrusions: boolean;\n    showRetractions: boolean;\n    showParts: boolean;\n    followProgress: boolean;\n  };\n}\n\nexport interface LinearMove {\n  x?: number;\n  y?: number;\n  z?: number;\n  e?: number;\n\n  filePosition: number;\n}\n\nexport interface ArcMove extends LinearMove {\n  i?: number;\n  j?: number;\n  k?: number;\n  r?: number;\n  direction: Rotation;\n}\n\nexport type Move = LinearMove | ArcMove;\n\nexport enum Rotation {\n  Clockwise = 'clockwise',\n  CounterClockwise = 'counter-clockwise',\n}\n\nexport interface LayerPaths {\n  moves: string;\n  extrusions: string;\n  retractions: Point[];\n  extrusionStarts: Point[];\n  toolhead: Point;\n}\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nexport interface Point3D extends Point {\n  z: number;\n}\n\nexport enum PositioningMode {\n  Relative = 'relative',\n  Absolute = 'absolute'\n}\n\nexport interface Layer {\n  move: number;\n  z: number;\n  filePosition: number;\n}\n\nexport interface Part {\n  polygon: Point[]\n}\n\nexport interface MinMax {\n  min: number;\n  max: number;\n}\n\nexport interface BBox {\n  x: MinMax;\n  y: MinMax;\n}\n\nexport type ParseGcodeWorkerClientMessage = {\n  action: 'progress',\n  filePosition: number\n} | {\n  action: 'result',\n  moves: Move[],\n  layers: Layer[],\n  parts: Part[]\n}\n\nexport type ParseGcodeWorkerServerMessage = {\n  action: 'parse',\n  gcode: string\n}\n","import { ArcMove, Move, Point, Rotation } from '@/store/gcodePreview/types'\n\ntype BinarySearchComparer<T> = (item: T, index: number, array: T[]) => number\n\nexport const binarySearch = <T>(arr: T[], comp: BinarySearchComparer<T>, approx = false): number => {\n  if (arr.length <= 1) {\n    return 0\n  }\n\n  let index = Math.floor(arr.length / 2)\n  let topBound = arr.length - 1\n  let bottomBound = 0\n\n  while (bottomBound <= topBound) {\n    const result = comp(arr[index], index, arr)\n\n    if (result > 0) {\n      bottomBound = index + 1\n    } else if (result < 0) {\n      topBound = index - 1\n    } else {\n      return index\n    }\n\n    index = Math.floor((bottomBound + topBound) / 2)\n  }\n\n  return approx ? index : -1\n}\n\nfunction distance (a: Point, b: Point): number {\n  const diffX = Math.abs(a.x - b.x)\n  const diffY = Math.abs(a.y - b.y)\n\n  return Math.sqrt(diffX ** 2 + diffY ** 2)\n}\n\nfunction angleBetween (a: Point, b: Point) {\n  return Math.atan2(b.y - a.y, b.x - a.x) * (180 / Math.PI)\n}\n\nfunction arcIJMoveToSVGPath (toolhead: Point, move: ArcMove): string {\n  const destination = {\n    x: move.x ?? toolhead.x,\n    y: move.y ?? toolhead.y\n  }\n\n  const center = {\n    x: toolhead.x + (move.i ?? 0),\n    y: toolhead.y + (move.j ?? 0)\n  }\n\n  const radius = distance(toolhead, center)\n  let angle = angleBetween(center, toolhead) - angleBetween(center, destination)\n\n  if (angle > 180) {\n    angle -= 360\n  } else if (angle < -180) {\n    angle += 360\n  }\n\n  switch (move.direction) {\n    case Rotation.Clockwise:\n      return 'A' + [\n        radius, radius, 0, Number(angle < 0), 0, destination.x, destination.y\n      ].join(',')\n    case Rotation.CounterClockwise:\n      return '' +\n        'M' + [destination.x, destination.y].join(',') +\n        'A' + [radius, radius, 0, Number(angle > 0), 0, toolhead.x, toolhead.y].join(',') +\n        'M' + [destination.x, destination.y].join(',')\n    default:\n      throw new TypeError('move has no direction')\n  }\n}\n\n/**\n * Taken from https://stackoverflow.com/a/42803692\n */\n// function findIntersections (center1: Point, center2: Point, radius: number) {\n//   const d = Math.sqrt((center2.x - center1.x) ** 2 + (center2.y - center1.y) ** 2)\n//   const a = (d ** 2) / (2 * d)\n//   const h = Math.sqrt(radius ** 2 - a ** 2)\n//   const x2 = center1.x + a * (center2.x - center1.x) / d\n//   const y2 = center1.y + a * (center2.y - center1.y) / d\n\n//   const x3 = x2 + h * (center2.y - center1.y) / d\n//   const y3 = y2 - h * (center2.x - center1.x) / d\n\n//   const x4 = x2 - h * (center2.y - center1.y) / d\n//   const y4 = y2 + h * (center2.x - center1.x) / d\n\n//   return [{\n//     x: x3,\n//     y: y3\n//   }, {\n//     x: x4,\n//     y: y4\n//   }]\n// }\n\n// function arcRMoveToSVGPath (toolhead: Point, move: ArcMove): string {\n//   const intersections = findIntersections(\n//     toolhead,\n//     {\n//       x: move.x ?? toolhead.x,\n//       y: move.y ?? toolhead.y\n//     },\n//     move.r ?? NaN\n//   )\n\n//   throw new Error('Arcs with the R parameter are currently not supported. ' +\n//     'Please make a Github issue with some sample gcode so we can resolve this')\n// }\n\nexport function arcMoveToSvgPath (toolhead: Point, move: ArcMove): string {\n  if (move.i !== undefined && move.j !== undefined) {\n    return arcIJMoveToSVGPath(toolhead, move)\n  }\n\n  if (move.r !== undefined) {\n    // return arcRMoveToSVGPath(toolhead, move)\n    throw new Error('Arcs with the R parameter are currently not supported. ' +\n    'Please make a Github issue with some sample gcode so we can resolve this')\n  }\n\n  throw new TypeError('Move is not a valid arc')\n}\n\n// Assumes the path is pr\nexport function moveToSVGPath (toolhead: Point, move: Move) {\n  if (Object.hasOwnProperty.call(move, 'direction')) {\n    return arcMoveToSvgPath(toolhead, move as ArcMove)\n  } else {\n    return `L${move.x ?? toolhead.x},${move.y ?? toolhead.y}`\n  }\n}\n","import { GetterTree } from 'vuex'\nimport {\n  BBox,\n  GcodePreviewState,\n  Layer,\n  LayerNr,\n  LayerPaths,\n  Move,\n  Part,\n  Point3D\n} from './types'\nimport { RootState } from '../types'\nimport { AppFile } from '@/store/files/types'\nimport { binarySearch, moveToSVGPath } from '@/util/gcode-preview'\nimport IsKeyOf from '@/util/is-key-of'\n\nexport const getters: GetterTree<GcodePreviewState, RootState> = {\n  /**\n   * Returns a collection of all the moves\n   */\n  getMoves: (state): Move[] => {\n    return state.moves\n  },\n\n  getFile: (state): AppFile | undefined => {\n    return state.file\n  },\n\n  getViewerOption: (state) => (key: string): any => {\n    return (state.viewer as any)[key]\n  },\n\n  getParserProgress: (state): number => {\n    return state.parserProgress\n  },\n\n  getLayers: (state, getters, rootState): Layer[] => {\n    if (state.layers.length) {\n      return state.layers\n    }\n\n    const output = []\n    const moves = getters.getMoves as Move[]\n\n    let z = NaN\n    let zStart = 0\n    let zLast = NaN\n    let zNext = NaN\n\n    const { minLayerHeight } = rootState.config.uiSettings.gcodePreview\n\n    moves.forEach((move, index) => {\n      if (move.z !== undefined && z !== move.z) {\n        z = move.z\n        zStart = index\n      }\n\n      if (move.e && move.e > 0 && (Number.isNaN(zLast) || z < zLast || z >= zNext)) {\n        if (['x', 'y', 'i', 'j'].some(x => IsKeyOf(x, move) && move[x] !== 0)) {\n          zLast = z\n          zNext = Math.round((z + minLayerHeight) * 10000) / 10000\n\n          output.push({\n            z,\n            move: zStart,\n            filePosition: move.filePosition\n          })\n        }\n      }\n    })\n\n    // If moves exist but there are no layers, add a single \"default\" layer at z=0\n    // This can happen for gcode that only contains travel moves (eg: 2d plotters without Z or E steppers)\n    if (output.length === 0 && moves.length) {\n      output.push({\n        z: 0,\n        move: 0,\n        filePosition: moves[0].filePosition\n      })\n    }\n\n    return output\n  },\n\n  getParts: (state): Part[] => {\n    return state.parts\n  },\n\n  getBounds: (state, getters): BBox => {\n    let moves = getters.getMoves\n    const layers = getters.getLayers\n\n    // ignore first and last layer (priming and parking)\n    const moveRangeStart = layers[layers.length > 1 ? 1 : 0]?.move\n    const moveRangeEnd = layers[layers.length - 1]?.move\n    if (moveRangeStart && moveRangeEnd) moves = moves.slice(moveRangeStart, moveRangeEnd)\n\n    const bounds = {\n      x: {\n        min: NaN,\n        max: NaN\n      },\n      y: {\n        min: NaN,\n        max: NaN\n      }\n    }\n\n    const isFinite = Number.isFinite\n    let index = 0\n\n    for (; index < moves.length && !Object.values(bounds).every(isFinite); index++) {\n      const move = moves[index]\n\n      if (isFinite(move.x)) {\n        bounds.x.min = isFinite(bounds.x.min) ? Math.min(bounds.x.min, move.x) : move.x\n        bounds.x.max = isFinite(bounds.x.max) ? Math.max(bounds.x.max, move.x) : move.x\n      }\n\n      if (isFinite(move.y)) {\n        bounds.y.min = isFinite(bounds.y.min) ? Math.min(bounds.y.min, move.y) : move.y\n        bounds.y.max = isFinite(bounds.y.max) ? Math.max(bounds.y.max, move.y) : move.y\n      }\n    }\n\n    for (; index < moves.length; index++) {\n      const move = moves[index]\n\n      if (isFinite(move.x)) {\n        bounds.x.min = Math.min(bounds.x.min, move.x)\n        bounds.x.max = Math.max(bounds.x.max, move.x)\n      }\n\n      if (isFinite(move.y)) {\n        bounds.y.min = Math.min(bounds.y.min, move.y)\n        bounds.y.max = Math.max(bounds.y.max, move.y)\n      }\n    }\n\n    return {\n      x: {\n        min: isFinite(bounds.x.min) ? bounds.x.min : 0,\n        max: isFinite(bounds.x.max) ? bounds.x.max : 0\n      },\n      y: {\n        min: isFinite(bounds.y.min) ? bounds.y.min : 0,\n        max: isFinite(bounds.y.max) ? bounds.y.max : 0\n      }\n    }\n  },\n\n  getToolHeadPosition: (state, getters) => (moveIndex: number): Point3D => {\n    const isFinite = Number.isFinite\n    const moves = getters.getMoves\n    const output = {\n      x: NaN,\n      y: NaN,\n      z: NaN\n    }\n\n    for (let i = moveIndex; i >= 0 && (!isFinite(output.x) || !isFinite(output.y) || !isFinite(output.z)); i--) {\n      if (!isFinite(output.x) && moves[i].x !== undefined) {\n        output.x = moves[i].x\n      }\n\n      if (!isFinite(output.y) && moves[i].y !== undefined) {\n        output.y = moves[i].y\n      }\n\n      if (!isFinite(output.z) && moves[i].z !== undefined) {\n        output.z = moves[i].z\n      }\n    }\n\n    return {\n      x: isFinite(output.x) ? output.x : 0,\n      y: isFinite(output.y) ? output.y : 0,\n      z: isFinite(output.z) ? output.z : 0\n    }\n  },\n\n  getPaths: (state, getters) => (startMove: number, endMove: number): LayerPaths => {\n    const toolhead = getters.getToolHeadPosition(startMove)\n    const moves = getters.getMoves\n\n    const path: LayerPaths = {\n      extrusions: '',\n      moves: `M${toolhead.x},${toolhead.y}`,\n      retractions: [],\n      extrusionStarts: [],\n      toolhead: {\n        x: 0,\n        y: 0\n      }\n    }\n\n    let traveling = true\n\n    for (let index = startMove; index <= endMove && index < moves.length; index++) {\n      const move = moves[index]\n\n      if (move.e > 0) {\n        if (traveling) {\n          path.extrusions += `M${toolhead.x},${toolhead.y}`\n          path.extrusionStarts.push({\n            x: toolhead.x,\n            y: toolhead.y\n          })\n\n          traveling = false\n        }\n\n        path.extrusions += moveToSVGPath(toolhead, move)\n        Object.assign(toolhead, move)\n      } else {\n        if (!traveling) {\n          path.moves += `M${toolhead.x},${toolhead.y}`\n          traveling = true\n        }\n\n        if (move.e < 0) {\n          path.retractions.push({\n            x: toolhead.x,\n            y: toolhead.y\n          })\n        }\n\n        path.moves += moveToSVGPath(toolhead, move)\n        Object.assign(toolhead, move)\n      }\n    }\n\n    path.toolhead = {\n      x: toolhead.x,\n      y: toolhead.y\n    }\n\n    return path\n  },\n\n  getLayerPaths: (state, getters) => (layerNr: LayerNr): LayerPaths => {\n    const layers = getters.getLayers\n\n    return getters.getPaths(layers[layerNr]?.move ?? 0, (layers[layerNr + 1]?.move ?? Infinity) - 1)\n  },\n\n  getPartPaths: (state, getters): string[] => {\n    const parts = getters.getParts as Part[]\n\n    return parts\n      .map(part => {\n        const svgData: string[] = []\n\n        part.polygon.forEach((point, index) => {\n          svgData.push(`${index === 0 ? 'M' : 'L'}${point.x},${point.y}`)\n        })\n\n        svgData.push('z')\n\n        return svgData.join()\n      })\n  },\n\n  getMoveIndexByFilePosition: (state, getters) => (filePosition: number): number => {\n    if (filePosition <= 0) {\n      return 0\n    }\n\n    return binarySearch(getters.getMoves, (val: Move) => filePosition - val.filePosition, true)\n  },\n\n  getLayerNrByFilePosition: (state, getters) => (filePosition: number): LayerNr => {\n    const layers = getters.getLayers\n\n    for (let i = 0; i < layers.length - 1; i++) {\n      if (filePosition < layers[i + 1].filePosition) {\n        return i\n      }\n    }\n\n    return layers.length - 1\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { GcodePreviewState, ParseGcodeWorkerClientMessage, ParseGcodeWorkerServerMessage } from './types'\nimport { RootState } from '../types'\nimport { AppFile } from '@/store/files/types'\nimport consola from 'consola'\n// import { ParseGcodeWorker } from '@/workers/parseGcodeWorker'\n\n// import { parseGcodeWorker } from '@/workers/parseGcodeWorker'\n\nexport const actions: ActionTree<GcodePreviewState, RootState> = {\n    /**\n     * Reset our store\n     */\n    async reset({ commit }) {\n        commit('setReset')\n    },\n\n    async terminateParserWorker({ commit, state }) {\n        if (state.parserWorker) {\n            const worker = state.parserWorker\n\n            commit('setParserWorker', null)\n\n            worker.terminate()\n\n            commit('clearFile')\n        }\n    },\n\n    async loadGcode({ commit, dispatch, getters, state }, payload: { file: AppFile; gcode: string }) {\n\n        // const worker = new ParseGcodeWorker()\n        // const worker = ParseGcodeWorker()\n        const worker = new Worker(new URL('@/workers/parseGcodeWorker', import.meta.url))\n\n\n        commit('setParserWorker', worker)\n\n        worker.addEventListener('message', (e: { data: ParseGcodeWorkerClientMessage }) => {\n            const data: ParseGcodeWorkerClientMessage = e.data\n            console.log(\"ОТ ВОРКЕРА\", data)\n\n            switch (data.action) {\n                case 'progress': {\n                    commit('setParserProgress', data.filePosition)\n                    break\n                }\n\n                case 'result': {\n                    try {\n                        commit('setMoves', data.moves)\n                        commit('setLayers', data.layers)\n                        commit('setParts', data.parts)\n                        commit('setParserProgress', payload.file.size ?? payload.gcode.length)\n                    } catch (error) {\n                        consola.error('Parser worker error', error)\n                    }\n\n                    if (state.parserWorker) {\n                        commit('setParserWorker', null)\n\n                        worker.terminate()\n                    }\n\n                    if (getters.getMoves.length === 0) {\n                        commit('clearFile')\n                    }\n\n                    break\n                }\n            }\n        })\n\n        commit('setParserProgress', 0)\n        commit('setMoves', [])\n        commit('setLayers', [])\n\n        commit('setFile', payload.file)\n\n        const message: ParseGcodeWorkerServerMessage = {\n            action: 'parse',\n            gcode: payload.gcode\n        }\n\n        worker.postMessage(message)\n    }\n}\n","import { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { GcodePreviewState } from './types'\nimport Vue from 'vue'\nimport { AppFile } from '@/store/files/types'\n\nexport const mutations: MutationTree<GcodePreviewState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setMoves (state, payload) {\n    Vue.set(state, 'moves', Object.freeze(payload.map(Object.freeze)))\n  },\n\n  setLayers (state, payload) {\n    Vue.set(state, 'layers', Object.freeze(payload.map(Object.freeze)))\n  },\n\n  setParts (state, payload) {\n    Vue.set(state, 'parts', Object.freeze(payload.map(Object.freeze)))\n  },\n\n  setFile (state, file: AppFile) {\n    state.file = file\n  },\n\n  clearFile (state) {\n    state.file = undefined\n  },\n\n  setViewerState (state, payload: any) {\n    for (const key of Object.keys(state.viewer)) {\n      if (payload[key] !== undefined) {\n        Vue.set(state.viewer, key, payload[key])\n      }\n    }\n  },\n\n  setParserProgress (state, payload: number) {\n    state.parserProgress = payload\n  },\n\n  setParserWorker (state, payload: Worker) {\n    state.parserWorker = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { GcodePreviewState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const gcodePreview: Module<GcodePreviewState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { TimelapseState, TimelapseWritableSettings } from './types'\n\nexport const defaultWritableSettings = (): TimelapseWritableSettings => {\n  return {\n    enabled: true,\n    mode: 'layermacro',\n    camera: '',\n    stream_delay_compensation: 0.05,\n    gcode_verbose: false,\n    parkhead: false,\n    parkpos: 'back_left',\n    park_custom_pos_x: 10.0,\n    park_custom_pos_y: 10.0,\n    park_custom_pos_dz: 0.0,\n    park_travel_speed: 100,\n    park_retract_speed: 15,\n    park_extrude_speed: 15,\n    park_retract_distance: 1.0,\n    park_extrude_distance: 1.0,\n    park_time: 0.1,\n    fw_retract: false,\n    hyperlapse_cycle: 30,\n    autorender: false,\n    constant_rate_factor: 23,\n    output_framerate: 30,\n    pixelformat: 'yuv420p',\n    time_format_code: '%Y%m%d_%H%M',\n    extraoutputparams: '',\n    variable_fps: false,\n    targetlength: 10,\n    variable_fps_min: 5,\n    variable_fps_max: 60,\n    duplicatelastframe: 5,\n    previewimage: true, // true for better timelapse browser integration\n    saveframes: false\n  }\n}\n\nexport const defaultState = (): TimelapseState => {\n  return {\n    lastFrame: undefined,\n    settings: {\n      ...defaultWritableSettings(),\n      snapshoturl: 'http://localhost:8080/?action=snapshot',\n      rotation: 0,\n      flip_x: false,\n      flip_y: false,\n      blockedsettings: []\n    },\n    renderStatus: undefined\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { TimelapseSettings, TimelapseState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<TimelapseState, RootState> = {\n  getSettings: (state) => {\n    return state.settings\n  },\n\n  getLastFrame: (state) => {\n    return state.lastFrame\n  },\n\n  getRenderStatus: (state) => {\n    return state.renderStatus\n  },\n\n  isBlockedSetting: (state) => {\n    return (setting: keyof TimelapseSettings): boolean => state.settings?.blockedsettings.includes(setting) ?? true\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { TimelapseState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\nimport consola from 'consola'\nimport { EventBus, FlashMessageTypes } from '@/eventBus'\nimport i18n from '@/plugins/i18n'\n\nexport const actions: ActionTree<TimelapseState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  /**\n   * Make a socket request to init the timelapse component.\n   */\n  async init () {\n    SocketActions.timelapseState()\n  },\n\n  async onSettings ({ commit }, payload) {\n    commit('setSettings', payload)\n  },\n\n  async onLastFrame ({ commit }, payload) {\n    const uniqueCount = +(payload.lastframefile?.match(/\\d+/)?.[0] ?? 0)\n    commit('setLastFrame', {\n      count: payload.framecount,\n      uniqueCount,\n      file: payload.lastframefile\n    })\n  },\n\n  async onEvent ({ commit }, payload) {\n    switch (payload.action) {\n      case 'newframe': {\n        if (payload.status === 'error') {\n          // open snackbar\n          EventBus.$emit(i18n.tc('app.timelapse.error.newframe'), { type: FlashMessageTypes.error })\n        } else {\n          const count = parseInt(payload.frame)\n          commit('setLastFrame', {\n            count,\n            uniqueCount: count,\n            file: payload.framefile\n          })\n        }\n\n        break\n      }\n\n      case 'render': {\n        let status\n\n        switch (payload.status) {\n          case 'started': {\n            status = {\n              status: 'started',\n              count: payload.framecount,\n              settings: {\n                frameRate: payload.framerate,\n                crf: payload.crf,\n                pixelFormat: payload.pixelformat\n              }\n            }\n            break\n          }\n\n          case 'running': {\n            status = { status: 'running', progress: payload.progress }\n            break\n          }\n\n          case 'success': {\n            status = {\n              status: 'success',\n              frameCount: payload.framecount,\n              fileName: payload.filename,\n              printFile: payload.printfile,\n              previewImage: payload.previewimage,\n              message: payload.msg\n            }\n            break\n          }\n\n          default: {\n            consola.warn('unhandled timelapse render status', payload)\n            return\n          }\n        }\n\n        commit('setRenderStatus', status)\n        break\n      }\n\n      default: {\n        consola.warn('unhandled timelapse event', payload)\n        break\n      }\n    }\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { TimelapseState, TimelapseLastFrame, TimelapseSettings, RenderStatus } from './types'\n\nexport const mutations: MutationTree<TimelapseState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setSettings (state, payload: TimelapseSettings) {\n    state.settings = payload\n  },\n\n  setLastFrame (state, payload: TimelapseLastFrame) {\n    state.lastFrame = payload\n    state.renderStatus = undefined\n  },\n\n  setRenderStatus (state, payload: RenderStatus) {\n    state.renderStatus = payload\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { TimelapseState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const timelapse: Module<TimelapseState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { PartsState } from './types'\n\nexport const defaultState = (): PartsState => {\n  return {\n    parts: {},\n    excludedParts: [],\n    printState: 'unknown'\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { Point, Part, PartsState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<PartsState, RootState> = {\n  getParts: (state): {[key: string]: Part} => {\n    return state.parts\n  },\n\n  getIsPartCurrent: (state) => (partName: string): boolean => {\n    return state.currentPart === partName\n  },\n\n  getIsPartExcluded: (state) => (partName: string): boolean => {\n    return state.excludedParts.includes(partName)\n  },\n\n  getPartPos: (state, getters) => (partName: string): Point => {\n    const p = getters.getParts[partName]\n    return p.target\n  },\n\n  getPartSVG: (state, getters) => (partName: string): string => {\n    const part = getters.getParts[partName]\n\n    let svg = ''\n    let op = 'M'\n\n    part.outline.forEach((p: Point) => {\n      svg += `${op}${p.x},${p.y}`\n      op = 'L'\n    })\n\n    svg += 'z'\n\n    return svg\n  },\n\n  getPrintState: (state): string => {\n    return state.printState\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { PartsState } from './types'\nimport { RootState } from '../types'\n\nexport const actions: ActionTree<PartsState, RootState> = {\n  /**\n   * Reset our store\n   */\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async onPartUpdate ({ commit }, payload) {\n    commit('partUpdate', payload)\n  },\n\n  async onPrintStatsUpdate ({ commit }, payload) {\n    commit('printStatsUpdate', payload)\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { defaultState } from './state'\nimport { Part, PartObject, PartsState } from './types'\nimport Vue from 'vue'\n\nexport const mutations: MutationTree<PartsState> = {\n  /**\n   * Reset state\n   */\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  partUpdate (state, payload) {\n    if ('current_object' in payload) {\n      Vue.set(state, 'currentPart', payload.current_object)\n    }\n\n    if ('excluded_objects' in payload) {\n      Vue.set(state, 'excludedParts', payload.excluded_objects)\n    }\n\n    if ('objects' in payload) {\n      const partMap: { [key: string]: Part} = {}\n      payload.objects.forEach((obj: PartObject) => {\n        const name = obj.name\n        const part: Part = {\n          name,\n          outline: [],\n          target: null\n        }\n\n        if ('center' in obj && obj.center.length === 2) {\n          part.target = { x: obj.center[0], y: obj.center[1] }\n        }\n\n        if ('polygon' in obj) {\n          part.outline = obj.polygon.map(p => {\n            return { x: p[0], y: p[1] }\n          })\n        }\n\n        partMap[name] = part\n      })\n      Vue.set(state, 'parts', Object.freeze(partMap))\n    }\n  },\n\n  printStatsUpdate (state, payload) {\n    if ('state' in payload) {\n      Vue.set(state, 'printState', payload.state)\n    }\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { PartsState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const parts: Module<PartsState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { WebcamsState } from './types'\n\nexport const defaultState = (): WebcamsState => {\n  return {\n    webcams: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { WebcamsState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<WebcamsState, RootState> = {\n  getWebcamsInConfig: (state) => {\n    return state.webcams\n      .filter(webcam => webcam.source === 'config')\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { WebcamConfig, WebcamsState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\n\nexport const actions: ActionTree<WebcamsState, RootState> = {\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async init () {\n    SocketActions.serverWebcamsList()\n  },\n\n  async onWebcamsList ({ commit }, payload: { webcams: WebcamConfig[] }) {\n    if (payload) {\n      commit('setWebcamsList', payload)\n    }\n  },\n\n  async onWebcamsChanged ({ dispatch }) {\n    dispatch('cameras/reloadMoonrakerWebcamsNamespace', undefined, { root: true })\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { WebcamConfig, WebcamsState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<WebcamsState> = {\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setWebcamsList (state, payload: { webcams: WebcamConfig[] }) {\n    state.webcams = payload.webcams || []\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { WebcamsState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const webcams: Module<WebcamsState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { JobQueueState } from './types'\n\nexport const defaultState = (): JobQueueState => {\n  return {\n    queue_state: 'paused',\n    queued_jobs: []\n  }\n}\n\nexport const state = defaultState()\n","import { GetterTree } from 'vuex'\nimport { JobQueueState } from './types'\nimport { RootState } from '../types'\n\nexport const getters: GetterTree<JobQueueState, RootState> = {\n  getQueueState: (state) => {\n    return state.queue_state\n  },\n\n  getQueuedJobs: (state) => {\n    return state.queued_jobs\n  },\n\n  getQueuedJob: (state) => (jobId: string) => {\n    return state.queued_jobs.findIndex(job => job.job_id === jobId)\n  }\n}\n","import { ActionTree } from 'vuex'\nimport { JobQueueState, QueuedJob, QueueState } from './types'\nimport { RootState } from '../types'\nimport { SocketActions } from '@/api/socketActions'\n\nexport const actions: ActionTree<JobQueueState, RootState> = {\n  async reset ({ commit }) {\n    commit('setReset')\n  },\n\n  async init () {\n    SocketActions.serverJobQueueStatus()\n  },\n\n  async onJobQueueStatus ({ commit }, payload : { queue_state: QueueState, queued_jobs: QueuedJob[] }) {\n    if (payload) {\n      commit('setQueueState', payload.queue_state)\n      commit('setQueuedJobs', payload.queued_jobs)\n    }\n  },\n\n  async onJobQueueChanged ({ commit }, payload : { action: string, queue_state?: QueueState, updated_queue?: QueuedJob[] | null }) {\n    if (payload) {\n      const { queue_state, updated_queue } = payload\n\n      if (queue_state) {\n        commit('setQueueState', queue_state)\n      }\n\n      if (updated_queue !== undefined && updated_queue !== null) {\n        commit('setQueuedJobs', updated_queue)\n      }\n    }\n  }\n}\n","import { MutationTree } from 'vuex'\nimport { JobQueueState, QueuedJob, QueueState } from './types'\nimport { defaultState } from './state'\n\nexport const mutations: MutationTree<JobQueueState> = {\n  setReset (state) {\n    Object.assign(state, defaultState())\n  },\n\n  setQueueState (state, payload: QueueState) {\n    state.queue_state = payload\n  },\n\n  setQueuedJobs (state, payload: QueuedJob[]) {\n    state.queued_jobs = payload || []\n  }\n}\n","import { Module } from 'vuex'\nimport { state } from './state'\nimport { getters } from './getters'\nimport { actions } from './actions'\nimport { mutations } from './mutations'\nimport { JobQueueState } from './types'\nimport { RootState } from '../types'\n\nconst namespaced = true\n\nexport const jobQueue: Module<JobQueueState, RootState> = {\n  namespaced,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import { DirectoryData, FileData, FileSystem, GcodePrintingProfiles } from \"./types\";\n\nexport const splitPath = (path: string): string[] => {\n    let newPath = path;\n    if (path.startsWith('/')) {\n        newPath = newPath.slice(1);\n    }\n\n    if (path.endsWith('/')) {\n        newPath = newPath.slice(0, -1);\n    }\n\n    return newPath.split('/')\n}\n\n\nexport const isDirectoryExistInState = (dirs: DirectoryData[], pathParts: string[]): boolean => {\n    if (pathParts.length == 0) {\n        return true\n    }\n\n    for (const existDirectory of dirs) {\n        if (existDirectory.name == pathParts[0]) {\n            return isDirectoryExistInState(existDirectory.dirs, pathParts.slice(1))\n        }\n    }\n\n    return false\n}\n\nexport const tryToCreateDirectoryInState = (dirs: DirectoryData[], pathParts: string[], payload: any): string[] => {\n    if (pathParts.length == 1) {\n        dirs.push({\n            dirs: createDirectoriesList(payload),\n            files: createFilesList(payload),\n            modified: \"--.--.----\",\n            name: pathParts[0],\n            permissions: \"?\",\n            sizeInKb: \"?\",\n            computedSize: \"?kb\",\n            isSelected: false\n        })\n        return getAnotherDirsNames(payload)\n    }\n\n    for (const existDirectory of dirs) {\n        if (existDirectory.name == pathParts[0]) {\n            return tryToCreateDirectoryInState(existDirectory.dirs, pathParts.slice(1), payload)\n        }\n    }\n\n    return []\n}\n\nfunction createFilesList(payload: any): FileData[] {\n    const filesList: FileData[] = []\n    if (payload.files || payload.files.length) {\n        for (const file of payload.files) {\n            filesList.push({\n                name: file.filename,\n                modified: toHumanDate(file.modified),\n                permissions: file.permissions,\n                sizeInKb: toSizeInKb(file.size),\n                size: file.size,\n                computedSize: resolveComputedSize(file.size),\n                layers: \"?\",\n                isSelected: false,\n                printingTime: \"?h ?m\",\n                pathForMoonraker: getPathForMoonraker(payload.__request__.params.path, file.filename),\n                dirnameForMoonraker: getDirNameForMoonraker(payload.__request__.params.path)\n            })\n        }\n    }\n    return filesList;\n}\n\nfunction createDirectoriesList(payload: any): DirectoryData[] {\n    const directoriesList: DirectoryData[] = []\n    if (payload.dirs || payload.dirs.length) {\n        for (const dir of payload.dirs) {\n            directoriesList.push({\n                dirs: [],\n                files: [],\n                name: dir.dirname,\n                modified: toHumanDate(dir.modified),\n                permissions: dir.permissions,\n                sizeInKb: toSizeInKb(dir.size),\n                computedSize: resolveComputedSize(dir.size),\n                isSelected: false\n            })\n        }\n    }\n    return directoriesList;\n}\n\nexport const tryToInsertDirectoryInfoToState = (dirs: DirectoryData[], pathParts: string[], payload: any): string[] => {\n    if (pathParts.length == 1) {\n        for (const existDirectory of dirs) {\n            if (existDirectory.name == pathParts[0]) {\n                existDirectory.files = createFilesList(payload)\n                existDirectory.dirs = createDirectoriesList(payload)\n                return getAnotherDirsNames(payload)\n            }\n        }\n        return []\n    }\n\n    for (const existDirectory of dirs) {\n        if (existDirectory.name == pathParts[0]) {\n            return tryToInsertDirectoryInfoToState(existDirectory.dirs, pathParts.slice(1), payload)\n        }\n    }\n\n    return []\n}\n\nfunction getAnotherDirsNames(payload: any): string[] {\n    const anotherDirs = []\n    if (payload.dirs && payload.dirs.length) {\n        for (const dir of payload.dirs) {\n            if (dir.dirname) {\n                anotherDirs.push(dir.dirname)\n            }\n        }\n    }\n    return anotherDirs\n}\n\nfunction toHumanDate(unixTime: number): string {\n    if (typeof unixTime === \"undefined\") return \"--.--.----\"\n    const date = new Date(unixTime * 1000);\n    let day = date.getDate().toString();\n    let month = date.getMonth() + 1 + \"\";\n    if (day.length === 1) {\n        day = \"0\" + day;\n    }\n\n    if (month.length === 1) {\n        month = \"0\" + month;\n    }\n    return `${day}.${month}.${date.getFullYear()}`;\n}\n\nfunction toSizeInKb(sizeInBytes: number): string {\n    if (typeof sizeInBytes === \"undefined\" || typeof sizeInBytes !== \"number\") return \"?\"\n    return Math.round(sizeInBytes / 1000) + ''\n}\n\nexport const getDirectoryByPath = (dirs: DirectoryData[], pathParts: string[]): DirectoryData => {\n    if (pathParts.length == 1) {\n        for (const existDirectory of dirs) {\n            if (existDirectory.name == pathParts[0]) {\n                return existDirectory\n            }\n        }\n        dirs.push(createDirectory(pathParts[0]))\n        return dirs[dirs.length - 1]\n    }\n\n    for (const existDirectory of dirs) {\n        if (existDirectory.name == pathParts[0]) {\n            return getDirectoryByPath(existDirectory.dirs, pathParts.slice(1))\n        }\n    }\n    dirs.push(createDirectory(pathParts[0]))\n\n    return getDirectoryByPath(dirs[dirs.length - 1].dirs, pathParts.slice(1))\n}\n\nfunction createDirectory(name: string): DirectoryData {\n    return {\n        dirs: [],\n        files: [],\n        modified: '--:--:----',\n        name: name,\n        permissions: \"?\",\n        sizeInKb: \"?\",\n        computedSize: \"?kb\",\n        isSelected: false\n    }\n}\n\nexport const getPathForMoonraker = (fullDirPath: string, filename: string): string => {\n    if (fullDirPath.startsWith('gcodes/')) {\n        return fullDirPath.slice(7) + '/' + filename;\n    }\n    if (fullDirPath === \"gcodes\") {\n        return filename;\n    }\n    const firstSlashIndex = fullDirPath.indexOf(\"/\")\n    if (firstSlashIndex !== -1) {\n        return fullDirPath.slice(firstSlashIndex + 1) + '/' + filename;\n    } else {\n        return filename;\n    }\n}\n\nexport const getDirNameForMoonraker = (fullDirPath: string): string => {\n    if (fullDirPath.startsWith('gcodes/')) {\n        return fullDirPath.slice(7);\n    }\n    if (fullDirPath === \"gcodes\") {\n        return \"\";\n    }\n    const firstSlashIndex = fullDirPath.indexOf(\"/\")\n    if (firstSlashIndex !== -1) {\n        return fullDirPath.slice(firstSlashIndex + 1);\n    } else {\n        return '';\n    }\n}\n\n\nexport const createFilesMap = (fileSystem: FileSystem, dirs: DirectoryData[]) => {\n\n    for (const dir of dirs) {\n        switch (dir.name) {\n            case 'gcodes':\n                createMap(fileSystem.gcodes, dir)\n                break;\n            case 'config':\n                if (fileSystem.config) {\n                    createMap(fileSystem.config, dir)\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n}\n\nfunction createMap(filesMap: Map<string, FileData>, currentDir: DirectoryData) {\n    for (const file of currentDir.files) {\n        filesMap.set(file.pathForMoonraker, file)\n    }\n\n    for (const dir of currentDir.dirs) {\n        createMap(filesMap, dir)\n    }\n}\n\nexport const handleFileCreation = (dirs: DirectoryData[], payload: any) => {\n    if (selectedDiapasonCheck(payload)) return\n    // console.log(payload)\n    const path = splitPath(payload.item.path)\n    path.unshift(payload.item.root)\n    const filename = path[path.length - 1]\n    const requiredDirectory = getDirectoryByPath(dirs, path.slice(0, path.length - 1))\n    // console.log(path.slice(0, path.length - 1).join('/'))\n    requiredDirectory?.files.push({\n        dirnameForMoonraker: getDirNameForMoonraker(path.slice(0, path.length - 1).join('/')),\n        isSelected: false,\n        layers: \"?\",\n        modified: toHumanDate(payload.item.modified),\n        name: filename,\n        pathForMoonraker: getPathForMoonraker(path.slice(0, path.length - 1).join('/'), filename),\n        permissions: payload.item.permissions,\n        printingTime: \"?h ?m\",\n        size: payload.item.size,\n        sizeInKb: toSizeInKb(payload.item.size),\n        computedSize: resolveComputedSize(payload.item.size)\n    })\n\n}\n\nfunction selectedDiapasonCheck(payload: any): boolean {\n    if (payload.item.root === 'config' && payload.item.path === 'profiles/selected_diapason.json') return true\n    return false\n}\n\nexport const handleFileDeletion = (dirs: DirectoryData[], payload: any) => {\n    const path = splitPath(payload.item.path)\n    path.unshift(payload.item.root)\n    const requiredDirectory = getDirectoryByPath(dirs, path.slice(0, path.length - 1))\n    const filename = path[path.length - 1]\n\n    if (requiredDirectory) {\n        let index = 0;\n        for (const file of requiredDirectory.files) {\n            if (file.name === filename) {\n                requiredDirectory.files.splice(index, 1);\n                break;\n            }\n            index++;\n        }\n    }\n}\n\nexport const handleFileModifying = (dirs: DirectoryData[], payload: any) => {\n    const path = splitPath(payload.item.path)\n    path.unshift(payload.item.root)\n    const requiredDirectory = getDirectoryByPath(dirs, path.slice(0, path.length - 1))\n    const filename = path[path.length - 1]\n\n    if (requiredDirectory) {\n        let index = 0;\n        for (const file of requiredDirectory.files) {\n            if (file.name === filename) {\n                file.modified = toHumanDate(payload.item.modified)\n                file.permissions = payload.item.permissions\n                file.sizeInKb = toSizeInKb(payload.item.size)\n                file.size = payload.item.size\n                break;\n            }\n            index++;\n        }\n    }\n}\n\nexport const handleFileMove = (dirs: DirectoryData[], payload: any) => {\n    const sourceMoonrakerPath = payload.source_item.path\n    const sourcePathParts = splitPath(sourceMoonrakerPath);\n    sourcePathParts.unshift(payload.source_item.root)\n    const fileData = popFile(dirs, sourcePathParts);\n    if (fileData) {\n        const targetMoonrakerPath = payload.item.path\n        const targetPathParts = splitPath(targetMoonrakerPath);\n        targetPathParts.unshift(payload.item.root)\n        const targetFilename = targetPathParts[targetPathParts.length - 1]\n\n\n        fileData.modified = toHumanDate(payload.item.modified)\n        fileData.name = targetFilename\n        fileData.pathForMoonraker = payload.item.path\n        fileData.dirnameForMoonraker = getDirNameForMoonraker(targetPathParts.slice(0, targetPathParts.length - 1).join('/'))\n        fileData.isSelected = false;\n\n        pushFile(dirs, targetPathParts, fileData)\n    }\n\n}\n\nfunction popFile(dirs: DirectoryData[], fullPathParts: string[]): FileData | null {\n    const sourceDir = fullPathParts.slice(0, fullPathParts.length - 1)\n    const sourceFilename = fullPathParts[fullPathParts.length - 1]\n    const requiredDirectory = getDirectoryByPath(dirs, sourceDir);\n    if (requiredDirectory) {\n        let index = 0;\n        for (const file of requiredDirectory.files) {\n            if (file.name === sourceFilename) {\n                requiredDirectory.files.splice(index, 1);\n                return file;\n            }\n            index++;\n        }\n    }\n    return null;\n}\n\nfunction pushFile(dirs: DirectoryData[], fullPathParts: string[], fileData: FileData) {\n    const sourceDir = fullPathParts.slice(0, fullPathParts.length - 1)\n    const requiredDirectory = getDirectoryByPath(dirs, sourceDir);\n    requiredDirectory?.files.push(fileData)\n}\n\nexport const handleDirectoryCreation = (dirs: DirectoryData[], payload: any) => {\n    const sourceMoonrakerPath = payload.item.path\n    const sourcePathParts = splitPath(sourceMoonrakerPath);\n    sourcePathParts.unshift(payload.item.root)\n    const newDirectory = getDirectoryByPath(dirs, sourcePathParts);\n    if (newDirectory) {\n        newDirectory.modified = toHumanDate(payload.item.modified)\n        newDirectory.permissions = payload.item.permissions\n        newDirectory.sizeInKb = toSizeInKb(payload.item.size)\n    }\n}\n\n\nexport const refreshDirectoriesSize = (dirs: DirectoryData[]) => {\n    for (const dir of dirs) {\n        getDirectorySize(dir)\n    }\n}\n\nfunction getDirectorySize(directory: DirectoryData): number {\n    let size = 0;\n    for (const file of directory.files) {\n        const fileSize = +file.sizeInKb;\n        if (!isNaN(fileSize)) {\n            size += +file.sizeInKb\n        }\n    }\n\n    for (const dir of directory.dirs) {\n        const dirSize = getDirectorySize(dir);\n        size += +dirSize;\n    }\n    directory.sizeInKb = size + '';\n    directory.computedSize = resolveComputedSize(size * 1000)\n    return +size;\n}\n\nexport const handleDirectoryDeletion = (dirs: DirectoryData[], payload: any) => {\n    const sourceMoonrakerPath = payload.item.path\n    const sourcePathParts = splitPath(sourceMoonrakerPath);\n    sourcePathParts.unshift(payload.item.root)\n    const sourceDirname = sourcePathParts[sourcePathParts.length - 1]\n\n    const parentDirectoryPathParts = sourcePathParts.slice(0, sourcePathParts.length - 1)\n    const parentDirectory = getDirectoryByPath(dirs, parentDirectoryPathParts)\n    if (parentDirectory) {\n        let index = 0;\n        for (const dir of parentDirectory.dirs) {\n            if (dir.name === sourceDirname) {\n                parentDirectory.dirs.splice(index, 1);\n                break;\n            }\n            index++;\n        }\n    }\n\n}\n\nfunction resolveComputedSize(size: number) {\n    if (isNaN(parseInt(size + ''))) {\n        return '?'\n    }\n\n    let sizeInKb = Math.round(size / 1000);\n    if (sizeInKb < 1000) {\n        return sizeInKb + 'kb'\n    }\n\n    let sizeInMb = mathToFixed(sizeInKb / 1000);\n    if (sizeInMb < 1000) {\n        return sizeInMb + 'MB'\n    }\n\n    let sizeInGb = mathToFixed(sizeInMb / 1000);\n    return sizeInGb + 'GB'\n}\n\nfunction mathToFixed(needToFixed: number) {\n    return Math.round(needToFixed * 10) / 10;\n}\n\nexport const handleDirectoryMove = (dirs: DirectoryData[], payload: any) => {\n    const sourceMoonrakerPath = payload.source_item.path\n    const sourcePathParts = splitPath(sourceMoonrakerPath);\n    sourcePathParts.unshift(payload.source_item.root)\n    const directoryData = popDirectory(dirs, sourcePathParts);\n    if (directoryData) {\n        const targetMoonrakerPath = payload.item.path\n        const targetPathParts = splitPath(targetMoonrakerPath);\n        targetPathParts.unshift(payload.item.root)\n        const targetDirname = targetPathParts[targetPathParts.length - 1]\n\n\n        directoryData.modified = toHumanDate(payload.item.modified)\n        directoryData.name = targetDirname\n\n        pushDirectory(dirs, targetPathParts, directoryData)\n    }\n}\n\nfunction popDirectory(dirs: DirectoryData[], fullPathParts: string[]): DirectoryData | null {\n    const sourceDir = fullPathParts.slice(0, fullPathParts.length - 1)\n    const sourceDirname = fullPathParts[fullPathParts.length - 1]\n    const requiredDirectory = getDirectoryByPath(dirs, sourceDir);\n    if (requiredDirectory) {\n        let index = 0;\n        for (const dir of requiredDirectory.dirs) {\n            if (dir.name === sourceDirname) {\n                requiredDirectory.dirs.splice(index, 1);\n                return dir;\n            }\n            index++;\n        }\n    }\n    return null;\n}\n\nfunction pushDirectory(dirs: DirectoryData[], fullPathParts: string[], directoryData: DirectoryData) {\n    const sourceDir = fullPathParts.slice(0, fullPathParts.length - 1)\n    const requiredDirectory = getDirectoryByPath(dirs, sourceDir);\n    requiredDirectory?.dirs.push(directoryData)\n}\n\nexport const refreshMoonrakerPaths = (dirs: DirectoryData[], path = '') => {\n    for (const dir of dirs) {\n        const prefix = resolvePrefix(dir.name, path)\n        for (const file of dir.files) {\n            file.pathForMoonraker = prefix + file.name;\n            file.dirnameForMoonraker = prefix.slice(0, -1);\n        }\n        if (dir.dirs.length !== 0) {\n            refreshMoonrakerPaths(dir.dirs, prefix)\n        }\n    }\n}\n\nfunction resolvePrefix(dirname: string, path: string) {\n    if (['config', 'gcodes'].includes(dirname)) return path;\n    if (path) {\n        return path + dirname + '/';\n    }\n    return dirname + '/';\n}\n\nexport const deepCopyOfMap = <T, V>(map: Map<T, V>): Map<T, V> => {\n    return new Map(JSON.parse(JSON.stringify(Array.from(map))))\n}\n\nexport const setProfilesForNewFiles = (dirs: DirectoryData[], gCodePrintingProfiles: GcodePrintingProfiles) => {\n    const gCodesDir = getDirectoryByPath(dirs, ['gcodes'])\n    recursiveSetProfiles(gCodesDir, gCodePrintingProfiles)\n}\n\nfunction recursiveSetProfiles(dir: DirectoryData, gCodePrintingProfiles: GcodePrintingProfiles) {\n    // const lastSelectedDiapason = gCodePrintingProfiles.lastSelectedDiapason;\n    const profilesMap = gCodePrintingProfiles.profiles;\n    for (const file of dir.files) {\n        if (!file.profiles) {\n            file.profiles = {\n                // lastSelectedDiapason: JSON.parse(JSON.stringify(lastSelectedDiapason)),\n                profiles: deepCopyOfMap(profilesMap)\n            }\n        }\n    }\n    for (const childDir of dir.dirs) {\n        recursiveSetProfiles(childDir, gCodePrintingProfiles)\n    }\n}","import { SocketActions } from \"@/api/socketActions\";\nimport { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { getSortedMapKeys } from \"../profiles/helpers\";\nimport { PrintingDiapason } from \"../profiles/types\";\nimport { createFilesMap, deepCopyOfMap, handleDirectoryCreation, handleDirectoryDeletion, handleDirectoryMove, handleFileCreation, handleFileDeletion, handleFileModifying, handleFileMove, isDirectoryExistInState as isDirectoryExistInState, refreshDirectoriesSize, refreshMoonrakerPaths, setProfilesForNewFiles, splitPath, tryToCreateDirectoryInState, tryToInsertDirectoryInfoToState } from \"./helpers\";\nimport { GcodePrintingProfiles, LightFilesState } from \"./types\";\n\nexport const actions: ActionTree<LightFilesState, RootState> = {\n    getAllFilesAndDirs({ state }, directory: string) {\n        state.isLoadingFinish = false;\n        state.recursiveFlag.push(1)\n        const pathParts = splitPath(directory);\n        SocketActions.serverGetAllFilesAndDirs(directory, pathParts[0])\n    },\n\n    onGetAllFilesAndDirs({ dispatch, state }, payload) {\n        const path = payload.__request__.params.path\n        if (path) {\n            const pathParts = splitPath(path);\n            let anotherDirs = []\n            if (!isDirectoryExistInState(state.dirs, pathParts)) {\n                anotherDirs = tryToCreateDirectoryInState(state.dirs, pathParts, payload)\n            } else {\n                anotherDirs = tryToInsertDirectoryInfoToState(state.dirs, pathParts, payload)\n            }\n\n            if (anotherDirs.length > 0) {\n                for (const dirName of anotherDirs) {\n                    if (dirName) {\n                        dispatch('getAllFilesAndDirs', `${path}/${dirName}`)\n                    }\n                }\n            }\n        }\n        state.recursiveFlag.pop()\n        if (state.recursiveFlag.length == 0) {\n            dispatch('ourExtension/layoutsData/newFileBrowseWindow/refresh', null, { root: true })\n            dispatch('createFilesMap')\n            dispatch('refreshDirectoriesSize')\n            state.isLoadingFinish = true;\n            state.isProfilesDownloadingFinished = true;\n            dispatch('setPrintingProfilesForNewFiles')  // Не выполняется при первой загрузке\n        }\n    },\n\n    createFilesMap({ state }) {\n        refreshMoonrakerPaths(state.dirs);\n\n        state.fileSystem.gcodes.clear()\n        state.fileSystem.config?.clear()\n        createFilesMap(state.fileSystem, state.dirs)\n    },\n\n    setLayersByMoonrakerPath({ commit, dispatch }, payload) {\n        commit('setLayersByMoonrakerPath', payload)\n    },\n\n    refreshDirectoriesSize({ state }) {\n        refreshDirectoriesSize(state.dirs)\n    },\n\n    refreshGcodeParser({ commit, dispatch, state }) {\n        refreshMoonrakerPaths(state.dirs);\n        dispatch('createFilesMap');\n        commit('refreshGcodeParser');\n    },\n\n    onFileListChanged({ state, dispatch, commit }, payload) {\n        switch (payload.action) {\n            case \"create_file\":\n                handleFileCreation(state.dirs, payload)\n                if (payload.item.root === \"gcodes\") {\n                    commit('refreshGcodeParser')\n                    dispatch('setPrintingProfilesForNewFiles')\n                }\n                break;\n            case \"delete_file\":\n                handleFileDeletion(state.dirs, payload)\n                if (payload.item.root === \"gcodes\") {\n                    commit('refreshGcodeParser')\n                }\n                break;\n            case \"modify_file\":\n                handleFileModifying(state.dirs, payload)\n                if (payload.item.root === \"gcodes\") {\n                    commit('refreshGcodeParser')\n                }\n                break;\n            case \"move_file\":\n                handleFileMove(state.dirs, payload)\n                if (payload.item.root === \"gcodes\") {\n                    commit('refreshGcodeParser')\n                }\n                break;\n            case \"create_dir\":\n                handleDirectoryCreation(state.dirs, payload)\n                state.recursiveFlag = []\n                dispatch('getAllFilesAndDirs', payload.item.root + '/' + payload.item.path)\n                break;\n            case \"delete_dir\":\n                handleDirectoryDeletion(state.dirs, payload)\n                break;\n            case \"move_dir\":\n                handleDirectoryMove(state.dirs, payload);\n                refreshMoonrakerPaths(state.dirs)\n                if (payload.item.root === \"gcodes\") {\n                    commit('refreshGcodeParser')\n                }\n                break;\n        }\n        dispatch('createFilesMap');\n        dispatch('refreshDirectoriesSize')\n    },\n\n    setProfilesForAllGcodes({ state, rootGetters }, payload: Map<string, PrintingDiapason>) {\n        for (const file of state.fileSystem.gcodes.values()) {\n            const profilesMap: Map<string, PrintingDiapason> = deepCopyOfMap(payload);\n            // const lastSelectedDiapason: PrintingDiapason = {\n            //     isRootDiapason: true,\n            //     profile: rootGetters['ourExtension/profiles/getLastPrintingProfile']\n            // }\n            const gCodePrintingProfiles: GcodePrintingProfiles = {\n                // lastSelectedDiapason: lastSelectedDiapason,\n                profiles: profilesMap\n            }\n            file.profiles = gCodePrintingProfiles\n        }\n        state.isProfiesSetupFinished = true;\n    },\n\n    setPrintingProfilesForNewFiles({ state, rootGetters }) {\n        if (state.isProfiesSetupFinished) {\n            const profilesMap = rootGetters['ourExtension/profiles/getDefaultProfilesMap']\n            const profilesMapCopy: Map<string, PrintingDiapason> = deepCopyOfMap(profilesMap);\n            // const lastSelectedDiapason: PrintingDiapason = {\n            //     isRootDiapason: true,\n            //     profile: rootGetters['ourExtension/profiles/getLastPrintingProfile']\n            // }\n            const gCodePrintingProfiles: GcodePrintingProfiles = {\n                // lastSelectedDiapason: lastSelectedDiapason,\n                profiles: profilesMapCopy\n            }\n            setProfilesForNewFiles(state.dirs, gCodePrintingProfiles);\n        }\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { getDirectoryByPath, isDirectoryExistInState, splitPath } from \"./helpers\";\nimport { DirectoryData, FileData, LightFilesState } from \"./types\";\n\nexport const getters: GetterTree<LightFilesState, RootState> = {\n    getListOfFilesAndDirs(state) {\n        if (state.dirs[0] && state.dirs[0].name === \"gcodes\") {\n            return state.dirs[0]\n        } else {\n            return []\n        }\n    },\n\n    getDirs(state) {\n        return state.dirs\n    },\n\n    getFilesLoadingFinishedFlag: (state) => {\n        return state.isLoadingFinish;\n    },\n\n    getProfilesDownloadingFinishedFlag: (state) => {\n        return state.isProfilesDownloadingFinished;\n    },\n\n    getFilesMap(state) {\n        return state.fileSystem;\n    },\n\n    getProfilesFiles(state): DirectoryData | null {\n        if (isDirectoryExistInState(state.dirs, splitPath('config/profiles'))) {\n            return getDirectoryByPath(state.dirs, splitPath('config/profiles'))\n        }\n        return null\n    },\n\n    getSelectedFile(state): FileData | null {\n        return state.selectedFile\n    },\n\n    isFileSelected(state): boolean {\n        return Boolean(state.selectedFile)\n    },\n\n    \n    getLastPrintingFile: (state) => () => {\n        return state.lastPrintingFile\n    }\n }","import { MutationTree } from \"vuex\";\nimport { LightFilesState, FileData, LastPrintingFile } from \"./types\";\n\nexport const mutations: MutationTree<LightFilesState> = {\n    setLayersByMoonrakerPath(state, payload) {\n        if (payload.path && 'layers' in payload && state.fileSystem.gcodes.has(payload.path)) {\n            const fileData = state.fileSystem.gcodes.get(payload.path);\n            if (fileData) {\n                fileData.layers = payload.layers;\n            }\n        }\n    },\n\n    refreshGcodeParser(state) {\n        state.isLoadingFinish = false;\n        state.isLoadingFinish = true;\n    },\n\n    setSelectedFile(state, payload: FileData) {\n        state.selectedFile = payload\n    },\n\n    setLastPrintingFile(state, payload: LastPrintingFile) {\n        state.lastPrintingFile = payload;\n    }\n\n}","import { LightFilesState } from \"./types\";\n\nexport const defaultState = (): LightFilesState => {\n    return {\n        dirs: [],\n        files: [],\n        recursiveFlag: [],\n        fileSystem: {\n            gcodes: new Map(),\n            config: new Map()\n        },\n        isLoadingFinish: true,\n        isProfilesDownloadingFinished: false,\n        isProfiesSetupFinished: false,\n        selectedFile: null\n    }\n}\n\nexport const state = defaultState();","import { RootState } from \"@/store/types\"\nimport { Module } from \"vuex\"\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\nimport { LightFilesState } from \"./types\"\n\nconst namespaced = true;\n\nexport const files: Module<LightFilesState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    getters,\n    mutations\n}","import { AlertState } from \"./types\";\n\nexport const defaultState = (): AlertState => {\n    return {\n        alertQueue: [],\n        infoAlertState: {\n            cancellationToken: false,\n            currentMessage: null\n        }\n    }\n}\n\nexport const state = defaultState()","import { ActionTree } from \"vuex\";\nimport { AlertState, AlertType, InfoAlertType } from \"./types\";\nimport { RootState } from \"@/store/types\";\n\nexport const actions: ActionTree<AlertState, RootState> = {\n    addToAlertQueue({ state }, payload: AlertType) {\n        state.alertQueue.push(payload)\n    },\n\n    confirmClick({ state }) {\n        const alert = state.alertQueue[0]\n        if (alert) {\n            if (alert.confirmCallback) {\n                alert.confirmCallback()\n            }\n        }\n        state.alertQueue.shift()\n    },\n\n    rejectClick({ state }) {\n        const alert = state.alertQueue[0]\n        if (alert) {\n            if (alert.rejectCallback) {\n                alert.rejectCallback()\n            }\n        }\n        state.alertQueue.shift()\n    },\n\n    showInfoAlert({ state, dispatch }, payload: InfoAlertType) {\n        if (state.infoAlertState.currentMessage) {\n            state.infoAlertState.cancellationToken = true\n            setTimeout(() => {\n                dispatch('showInfoAlert', payload)\n            }, 10)\n            return;\n        }\n        state.infoAlertState.cancellationToken = false\n        state.infoAlertState.currentMessage = payload\n    },\n\n    onSocketError({ state, dispatch }, payload) {\n        const messageObj = payload.message\n        let alert: InfoAlertType;\n        if (messageObj) {\n            const messageText = messageObj.message\n            if (messageText) {\n                alert = {\n                    message: messageText,\n                    type: 'red'\n                }\n            } else {\n                alert = {\n                    message: messageObj,\n                    type: 'red'\n                }\n            }\n        } else {\n            alert = {\n                message: payload,\n                type: 'red'\n            }\n        }\n        let htmlText = alert.message.split('\\\\n').join('<br>');\n        alert.message = htmlText\n        dispatch('showInfoAlert', alert)\n    }\n}","import { GetterTree } from \"vuex\";\nimport { AlertState } from \"./types\";\nimport { RootState } from \"@/store/types\";\n\nexport const getters: GetterTree<AlertState, RootState> = {\n    getAlertQueue(state) {\n        return state.alertQueue\n    },\n\n    getAlertFlag: (state) => () => {\n        return Boolean(state.alertQueue.length)\n    },\n\n    getFirstAlert: (state) => () => {\n        return state.alertQueue[0]\n    },\n\n    getInfoAlertCancellationToken: (state) => () => {\n        return state.infoAlertState.cancellationToken\n    },\n\n    getInfoAlert: (state) => () => {\n        return state.infoAlertState.currentMessage\n    },\n\n    getInfoAlertFlag: (state) => () =>  {\n        return Boolean(state.infoAlertState.currentMessage)\n    }\n}","import { Module } from \"vuex\";\nimport { AlertState } from \"./types\";\nimport { RootState } from \"@/store/types\";\nimport { state } from \"./state\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\n\nconst namespaced = true;\nexport const alerts: Module<AlertState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    getters\n}","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { BaseLayoutState } from \"./types\";\n\nexport const actions: ActionTree<BaseLayoutState, RootState> = {\n    startTimeRefreshing({ commit, dispatch }) {\n        commit('refreshTime');\n        setTimeout(() => dispatch('startTimeRefreshing'), 10000)\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { BaseLayoutState } from \"./types\";\n\nexport const getters: GetterTree<BaseLayoutState, RootState> = {\n    getActualTime: state => (): string => {\n        return state.actualTime;\n    }\n}","import { MutationTree } from \"vuex\";\nimport { BaseLayoutState } from \"./types\";\n\nexport const mutations: MutationTree<BaseLayoutState> = {\n    refreshTime(state) {\n        const date = new Date();\n        let hours = date.getHours() + \"\";\n        let minutes = date.getMinutes() + \"\";\n        if (hours.length === 1) {\n            hours = \"0\" + hours;\n        }\n        if (minutes.length === 1) {\n            minutes = \"0\" + minutes;\n        }\n        state.actualTime =  `${hours}:${minutes}`\n    }\n}","import { BaseLayoutState } from \"./types\"\n\nexport const defaultState = (): BaseLayoutState => {\n    return {\n      actualTime: '00:00'\n    }\n  }\n  \n  export const state = defaultState()","import { RootState } from \"@/store/types\"\nimport { Module } from \"vuex\"\nimport { actions } from \"./actions\"\nimport { getters } from \"./getters\"\nimport { mutations } from \"./mutations\"\nimport { state } from \"./state\"\nimport { BaseLayoutState } from \"./types\"\n\nconst namespaced = true\n\nexport const baseLayout: Module<BaseLayoutState, RootState> = {\n  namespaced,\n  getters,\n  actions,\n  mutations,\n  state\n}","import { SocketActions } from \"@/api/socketActions\";\nimport { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { DirectoryData, FileBrowseWindowState } from \"./types\";\n\nexport const actions: ActionTree<FileBrowseWindowState, RootState> = {\n    openDirectory({rootState, getters}, directoryData: DirectoryData) {\n        const currentPath = getters['getCurrentPath'];\n        if (currentPath) {\n            SocketActions.serverGetGcodes(currentPath + \"/\" + directoryData.name);\n        } else {\n            SocketActions.serverGetGcodes(directoryData.name);\n        }\n    },\n\n    openPreviousDirectory({getters}) { \n        let currentPath = getters['getCurrentPath'] as string;\n        if (currentPath) {\n            const slash = currentPath.lastIndexOf(\"/\");\n            if (slash !== -1) {\n                currentPath = currentPath.slice(0, slash)\n            } else {\n                currentPath = \"\"\n            }\n            SocketActions.serverGetGcodes(currentPath);\n        }\n    },\n\n    onSetGcodeFiles({ dispatch, commit, rootGetters }, payload) {\n        dispatch('files/onServerFilesGetDirectory', payload, {root: true})\n        if(!rootGetters['ourExtension/windowFlags/getFileBrowseWindowFlag']) {\n            dispatch('ourExtension/windowFlags/onOpenFileBrowseWindow', null, {root: true});\n        }\n    }\n}","import { FileBrowseWindowState } from \"./types\";\n\nexport default {\n    getListOfFiles(state: FileBrowseWindowState) {\n        return state.fileList;\n    },\n\n    getListOfDirectories(state: FileBrowseWindowState) {\n        return state.directoryList;\n    },\n\n    getCurrentPath(state: FileBrowseWindowState) {\n        return state.currentPath.slice(7)\n    }\n}","export const parseUnixDate = (unixDate: number): string => {\n    const date = new Date(unixDate * 1000);\n    let day = date.getDate().toString();\n    let month = date.getMonth() + 1 + \"\";\n    if (day.length === 1) {\n        day = \"0\" + day;\n    }\n\n    if (month.length === 1) {\n        month = \"0\" + month;\n    }\n    return `${day}.${month}.${date.getFullYear()}`;\n}","import { FileBrowserEntry } from \"@/store/files/types\";\nimport { parseUnixDate } from \"./helpers\";\nimport { DirectoryData, FileBrowseWindowState, FileData } from \"./types\";\n\nexport default {\n    chooseFile(state: FileBrowseWindowState, requiredFileId: number) {\n        const requiredFlag = !state.fileList[requiredFileId].isActive;\n        for (const item of state.fileList) {\n            if (item.fileId === requiredFileId) {\n                item.isActive = requiredFlag;\n            } else {\n                item.isActive = false;\n            }\n        }\n    },\n\n    deactivateFiles(state: FileBrowseWindowState) {\n        for (const item of state.fileList) {\n            item.isActive = false;\n        }\n    },\n\n    setFiles(state: FileBrowseWindowState, payload: {items: FileBrowserEntry[], path: string}) {\n        state.fileList = [];\n        state.directoryList = [];\n        state.currentPath = payload.path;\n        let filesCounter = 0;\n        let directoriesCounter = 0;\n        for (const file of payload.items) {\n            if (!file.name || file.name == \"..\") {\n                continue;\n            }\n            const parsedDate = parseUnixDate(file.modified);\n            if (file.type === \"directory\") {\n                const directoryData: DirectoryData = {\n                    directoryId: directoriesCounter,\n                    name: file.name,\n                    date: parsedDate,\n                    size: Math.round(file.size / 1000),\n                }\n                state.directoryList.push(directoryData);\n                ++directoriesCounter;\n            } else {\n                const fileData: FileData = {\n                    fileId: filesCounter,\n                    name: file.name,\n                    date: parsedDate,\n                    size: Math.round(file.size / 1000),\n                    isActive: false\n                }\n                state.fileList.push(fileData);\n                ++filesCounter;\n            }\n        }\n    }\n}","import { FileBrowseWindowState } from \"./types\";\n\nexport const fileBrowserWindowState = () : FileBrowseWindowState => {\n    return {\n        currentPath: \"gcodes\",\n        directoryList: [],\n        fileList: [\n            {\n                fileId: 0,\n                name: \"some_file.gcode\",\n                date: \"03.04.23\",\n                size: 12,\n                isActive: false\n            },\n            {\n                fileId: 1,\n                name: \"some_file1.gcode\",\n                date: \"03.04.23\",\n                size: 12,\n                isActive: false\n            },\n            {\n                fileId: 2,\n                name: \"some_file2.gcode\",\n                date: \"03.04.23\",\n                size: 12,\n                isActive: false\n            }\n        ]\n    }\n};\n\nexport const state = fileBrowserWindowState();","import { actions } from \"./actions\";\nimport getters from \"./getters\";\nimport mutations from \"./mutations\";\nimport { state } from \"./state\";\n\nconst namespaced = true;\n\nexport default {\n    namespaced,\n    state,\n    getters,\n    mutations,\n    actions\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { FileData } from \"../../files/types\";\nimport { FilePreviewWindowState } from \"./types\";\n\nexport const getters: GetterTree<FilePreviewWindowState, RootState> = {\n    getFileData: state => (): FileData => {\n        const currentFileData = state.fileData;\n        if (currentFileData) {\n            return currentFileData;\n        } else {\n            return {\n                name: \"---\",\n                sizeInKb: '?',\n                computedSize: '?kb',\n                size: -1,\n                modified: '--:--:----',\n                isSelected: false,\n                layers: \"?\",\n                permissions: \"?\",\n                printingTime: \"?h ?m\",\n                pathForMoonraker: \"\",\n                dirnameForMoonraker: \"\"\n            }\n        }\n    },\n\n    getFile: (state) => () => {\n        return state.fileData\n    },\n\n    getSelectedDiapason: (state) => () => {\n        return state.selectedDiapason\n    }\n}","import { MutationTree } from \"vuex\";\nimport { FileData } from \"../../files/types\";\nimport { FilePreviewWindowState } from \"./types\";\nimport { PrintingDiapason } from \"../../profiles/types\";\n\nexport const mutations: MutationTree<FilePreviewWindowState> = {\n    setFileData(state, newFileData: FileData) {\n        state.fileData = newFileData;\n        state.selectedDiapason = null\n    },\n\n    setSelectedDiapason(state, payload: PrintingDiapason) {\n        state.selectedDiapason = payload\n    }\n}","import { FilePreviewWindowState } from \"./types\";\n\nexport const filePreviewWindowState = (): FilePreviewWindowState => {\n    return {\n        selectedDiapason: null\n    }\n}\n\nexport const state = filePreviewWindowState();","import { getters } from \"./getters\"\nimport { mutations } from \"./mutations\"\nimport { state } from \"./state\"\n\nconst namespaced = true\nexport default {\n    namespaced,\n    state,\n    getters,\n    mutations\n}","import { FlagsObject, InputWindowState } from \"./types\";\n\nexport const defaultFlags: FlagsObject = {\n    defaultImplementation: true,\n    notDefaultImplementation: false\n}\n\nexport const defaultState = (): InputWindowState => {\n    return {\n        inputWindowData: {\n            initValue: 0,\n            coordName: '',\n            dispachAfterConfirm: 'void',\n        },\n        processingValue: '0',\n        finalValue: 0,\n        keyboardFlag: true,\n        valcoderStep: 1,\n        flags: defaultFlags,\n        rejectPointClick: false\n    }\n}\n\nexport const state = defaultState();","export const TimeProcessor = {\n    toSeconds(timeValue: string): number {\n        let [minutes, seconds] = timeValue.split(':');\n        minutes = minutes.replace('-', '0')\n        seconds = seconds.replace('-', '0')\n        let numMinutes = +minutes;\n        let numSeconds = + seconds;\n        if (isNaN(numMinutes)) {\n            numMinutes = 0\n        }\n        if (isNaN(numSeconds)) {\n            numSeconds = 0\n        }\n        return numMinutes * 60 + numSeconds\n    },\n\n    toTime(seconds: number): string {\n        let numMinutes = Math.floor(seconds / 60)\n        let numSeconds = (seconds - (numMinutes * 60)) % 60\n        let strMinutes = numMinutes + ''\n        let strSeconds = numSeconds + ''\n        if (strMinutes.length === 1) {\n            strMinutes = '0' + strMinutes\n        }\n\n        if (strSeconds.length === 1) {\n            strSeconds = '0' + strSeconds\n        }\n\n        return strMinutes + ':' + strSeconds\n    },\n\n    digitButton(timeValue: string, digit: string, maxValueInSec?: number, minValueInSec?: number) {\n        const index = timeValue.indexOf('-')\n        let newValue = timeValue;\n        if (index !== -1) {\n            newValue = this.replaceAt(timeValue, index, digit)\n        }\n        if (this.isSatisfiedLength(newValue, maxValueInSec, minValueInSec)) {\n            if (newValue[0] !== '-' && +newValue[0] > 5) {\n                newValue = this.replaceAt(newValue, 0, '5')\n            }\n            if (newValue[3] !== '-' && +newValue[3] > 5) {\n                newValue = this.replaceAt(newValue, 3, '5')\n            }\n            return newValue\n        } else {\n            return this.makeSatisfiesLength(newValue, maxValueInSec, minValueInSec)\n        }\n    },\n\n    isSatisfiedLength(timeValue: string, maxValueInSec?: number, minValueInSec?: number): boolean {\n        const index = timeValue.indexOf('-')\n        if (index !== -1) {\n            return true\n        }\n        let seconds = this.toSeconds(timeValue)\n        if (typeof maxValueInSec !== 'undefined') {\n            if (seconds > maxValueInSec) {\n                return false\n            }\n        }\n\n        if (typeof minValueInSec !== 'undefined') {\n            if (seconds < minValueInSec) {\n                return false\n            }\n        }\n\n        if (seconds < 0) {\n            return false\n        }\n\n        if (seconds > 6039) {\n            return false\n        }\n\n        const timeSeconds = +timeValue.split(':')[1]\n        if (timeSeconds > 60) {\n            return false\n        }\n\n        if (timeValue[0] !== '-' && +timeValue[0] > 5) {\n            return false\n        }\n\n        return true\n    },\n\n    makeSatisfiesLength(timeValue: string, maxValueInSec?: number, minValueInSec?: number): string {\n        const index = timeValue.indexOf('-')\n        if (index !== -1) {\n            return this.toTime(this.toSeconds(timeValue))\n        }\n        let seconds = this.toSeconds(timeValue)\n        if (typeof maxValueInSec !== 'undefined') {\n            if (seconds > maxValueInSec) {\n                seconds = maxValueInSec\n            }\n        }\n\n        if (typeof minValueInSec !== 'undefined') {\n            if (seconds < minValueInSec) {\n                seconds = minValueInSec\n            }\n        }\n\n        if (seconds < 0) {\n            seconds = 0\n        }\n\n        if (seconds > 5999) {\n            seconds = 5999\n        }\n\n        let [timeMinutes, timeSeconds] = timeValue.split(':')\n        if (+timeSeconds > 59) {\n            seconds = +timeMinutes * 60 + 59\n        }\n\n        let newTime = this.toTime(seconds)\n\n        if (newTime[0] !== '-' && +newTime[0] > 5) {\n            newTime = this.replaceAt(newTime, 0, '5')\n        }\n\n        return newTime\n    },\n\n    replaceAt(str: string, index: number, replacement: string) {\n        return str.substring(0, index) + replacement + str.substring(index + 1)\n    },\n\n    deleteButton(timeValue: string) {\n        let index = timeValue.indexOf('-')\n        if (index === -1) {\n            timeValue = this.replaceAt(timeValue, timeValue.length - 1, '-')\n            return timeValue\n        }\n        if (index !== 0) {\n            if (timeValue[index - 1] === ':') {\n                index = index - 1\n            }\n            timeValue = this.replaceAt(timeValue, index - 1, '-')\n        }\n        return timeValue\n    },\n\n    confirm(timeValue: string, maxValueInSec?: number, minValueInSec?: number) {\n        let newValue = this.toSeconds(timeValue)\n        if (typeof minValueInSec !== 'undefined' && typeof maxValueInSec !== 'undefined') {\n            if (newValue < minValueInSec) {\n                newValue = minValueInSec\n            }\n            if (newValue > maxValueInSec) {\n                newValue = maxValueInSec\n            }\n        }\n        return this.toTime(newValue)\n    },\n\n    isMaxAndMinCheck(maxValueInSec?: number, minValueInSec?: number): boolean {\n        return (typeof maxValueInSec !== 'number' || isNaN(maxValueInSec) || typeof minValueInSec !== 'number' || isNaN(minValueInSec))\n    }\n}","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { defaultFlags } from \"./state\";\nimport { FlagsObject, InitInputWindowData, InputWindowState } from \"./types\";\nimport { TimeProcessor } from \"@/components/inputWindow/timeProcessor\";\n\nexport const actions: ActionTree<InputWindowState, RootState> = {\n    initInputWindow({ commit }, payload: InitInputWindowData) {  // Можно писать свои имплементации этой функции в связке с dispatch('confirm')\n        commit('reset')  // Обязательно\n        commit('setInputWindowData', payload.inputWindowData)  // Данные отсюда используются для отрисовки в шаблоне и в dispatch('confirm'). Можно заменять на свой объект, определив в types.ts\n        commit('setProcessingValue', payload.inputWindowData.initValue + \"\")  // Обязательно. Используется непосредственно для отображения и изменения значения в шаблоне\n        commit('setFinalValue', payload.inputWindowData.initValue)  // Используется только в confirm\n        commit('setValcoderStep', payload.valcoderStep)  // Обязательно. Используется в шаблоне валкодера в расчетах\n        const flags = JSON.parse(JSON.stringify(defaultFlags))\n        commit('setFlags', flags)  // Обязательно. Для отрисовки нужно вариации окна в шаблоне\n        if (payload.inputWindowData.rejectPointClick) {\n            commit('rejectPointClick')  // Если нужно отменить клик по точке (нужны только целые значения)\n        }\n    },\n\n    initNotDefaultInputWindow({ commit }, payload: InitInputWindowData) {\n        commit('reset')\n        commit('setInputWindowData', payload.inputWindowData)\n        commit('setProcessingValue', payload.inputWindowData.initValue + \"\")\n        commit('setFinalValue', payload.inputWindowData.initValue)\n        commit('setValcoderStep', payload.valcoderStep)\n        const flags: FlagsObject = JSON.parse(JSON.stringify(defaultFlags))\n        flags.defaultImplementation = false\n        flags.notDefaultImplementation = true;\n        commit('setFlags', flags)\n        if (payload.inputWindowData.rejectPointClick) {\n            commit('rejectPointClick')\n        }\n    },\n\n    confirm({ dispatch, commit, state }) {  // Можно писать свои имплементации этой функции в связке с dispatch('initInputWindow')\n        dispatch('ourExtension/windowFlags/openPreviousWindow', null, { root: true });\n        if (state.inputWindowData?.isItTime) {\n            state.finalValue = TimeProcessor.toSeconds(state.processingValue)\n        } else {\n            state.finalValue = +state.processingValue;\n        }\n\n        const confirmCallback = state.inputWindowData?.callbackAfterConfirm;\n        if (confirmCallback) {\n            confirmCallback(state.finalValue)\n        }\n\n        const confirmDispatch = state.inputWindowData?.dispachAfterConfirm;\n        if (confirmDispatch === 'void' || !confirmDispatch) {\n            return;\n        }\n        dispatch(confirmDispatch, state.finalValue, { root: true });\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { InputWindowState } from \"./types\";\n\nexport const getters: GetterTree<InputWindowState, RootState> = {\n    getInputWindowData(state) {\n        return state.inputWindowData;\n    },\n\n    getProcessingValue(state) {\n        return state.processingValue;\n    },\n\n    getKeyboardFlag: state => () => {\n        return state.keyboardFlag;\n    },\n\n    getValcoderStep(state) {\n        return state.valcoderStep\n    },\n\n    getFlags(state) {\n        return state.flags;\n    },\n\n    getFinalValue(state) {\n        return state.finalValue;\n    }\n}","import { MutationTree } from \"vuex\";\nimport { defaultState } from \"./state\";\nimport { FlagsObject, InputWindowData, InputWindowState } from \"./types\";\nimport { TimeProcessor } from \"@/components/inputWindow/timeProcessor\";\n\nexport const mutations: MutationTree<InputWindowState> = {\n    setInputWindowData(state, payload: InputWindowData) {\n        const callback = payload.callbackAfterConfirm;\n        state.inputWindowData = JSON.parse(JSON.stringify(payload));\n        if (state.inputWindowData) {\n            state.inputWindowData.callbackAfterConfirm = callback\n        }\n    },\n\n    setProcessingValue(state, payload: string) {\n        state.processingValue = payload;\n    },\n\n    setFinalValue(state, payload: number) {\n        state.finalValue = payload\n    },\n\n    reset(state) {\n        Object.assign(state, defaultState())\n    },\n\n    setKeyboardFlag(state, newFlag) {\n        if (!newFlag) {\n            if (state.inputWindowData?.isItTime) {\n                state.processingValue = TimeProcessor.toTime(TimeProcessor.toSeconds(state.processingValue))\n            } else {\n                state.processingValue = +state.processingValue + '';\n            }\n        }\n        state.keyboardFlag = newFlag;\n    },\n\n    setValcoderStep(state, step) {\n        state.valcoderStep = step;\n    },\n\n    setFlags(state, flags: FlagsObject) {\n        state.flags = flags;\n    },\n\n    rejectPointClick(state) {\n        state.rejectPointClick = true;\n    }\n}","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\nimport { InputWindowState } from \"./types\";\n\n\nconst namespaced = true;\nexport const inputWindow: Module<InputWindowState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    mutations,\n    getters\n}","import { MainWindowState } from \"./types\";\n\nexport const mainWindowState = (): MainWindowState => {\n    return {\n        buttonList: [\n            {\n                buttonId: 0,\n                buttonName: \"Открыть файл\",\n                buttonImage: require(\"@/layouts/main_window_layout/img/open_file_icon.png\")\n            },\n\n            {\n                buttonId: 1,\n                buttonName: \"Допечатная подготовка\",\n                activeButtonImage: require(\"@/layouts/main_window_layout/img/move_icon.png\"),\n                buttonImage: require(\"@/layouts/main_window_layout/img/move_icon_disabled.svg\")\n\n            },\n\n            {\n                buttonId: 2,\n                buttonName: \"Конфигурация\",\n                buttonImage: require(\"@/layouts/main_window_layout/img/config_icon.png\")\n            },\n\n            {\n                buttonId: 3,\n                buttonName: \"Печать\",\n                buttonImage: require(\"@/layouts/main_window_layout/img/print_icon_disabled.svg\"),\n                activeButtonImage: require(\"@/layouts/main_window_layout/img/print_icon.png\")\n            }\n        ]\n    }\n}\n\nexport const state = mainWindowState();","import { MainWindowButtonInfo, MainWindowState } from \"./types\";\n\nexport default {\n    getButtonList(state: MainWindowState): Array<MainWindowButtonInfo> {\n        return state.buttonList;\n    }\n}","import { state } from './state'\nimport getters from './getters'\n\nconst namespaced = true\nexport default {\n    namespaced,\n    state,\n    getters\n}","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { MoveWindowState } from \"./types\";\n\nexport const actions: ActionTree<MoveWindowState, RootState> = {\n    reset({commit}) {\n        commit(\"setReset\")\n    },\n    \n    setX({ commit }, newX) {\n        commit('setX', newX)\n    },\n\n    setY({ commit }, newY) {\n        commit('setY', newY)\n    },\n\n    setZ({ commit }, newZ) {\n        commit('setZ', newZ)\n    },\n\n    setNeedToSendGcodeMove({ commit }) {\n        commit('setNeedToSendGcodeMove', true)\n    }\n}","export const round = (value: number) => {\n    return Math.round(+value * 10) / 10;\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { MoveWindowState } from \"./types\";\nimport { round } from \"./helpers\";\n\nexport const getters: GetterTree<MoveWindowState, RootState> = {\n    // get gcodePosition() {\n    //     return this.$store.state.printer.printer.gcode_move.gcode_position\n    // }\n    \n    //   get toolheadPosition() {\n    //     return this.$store.state.printer.printer.toolhead.position\n    // }\n    getCoordinates: (state, getters, rootState) => () => {\n        const toolheadPosition = rootState.printer.printer.toolhead.position\n        const newArr = []\n        for (let coord of toolheadPosition) {\n            newArr.push(round(coord))\n        }\n        return newArr\n        // return state.coordinates;\n    },\n\n    getMaxCoordinates: (state, getters, rootState) => () => {\n        let maxCoordinates = rootState.printer.printer.toolhead.axis_maximum\n        if (!maxCoordinates || !maxCoordinates.length) {\n            maxCoordinates = [1000, 1000, 1000]\n        }\n        const newArr = []\n        for (let coord of maxCoordinates) {\n            newArr.push(round(coord))\n        }\n        return newArr\n    },\n\n    getMinCoordinates: (state, getters, rootState) => () => {\n        let minCoordinates = rootState.printer.printer.toolhead.axis_minimum\n        if (!minCoordinates || !minCoordinates.length) {\n            minCoordinates = [-1000, -1000, -1000]\n        }\n        const newArr = []\n        for (let coord of minCoordinates) {\n            newArr.push(round(coord))\n        }\n        return newArr\n    },\n\n    getStepSelectorInfo(state) {\n        return state.stepSelectorInfo;\n    },\n\n    getCurrentStep(state) {\n        return state.stepSelectorInfo.currentStep;\n    },\n    \n    getNeedToSendGCodeMove(state) {\n        return state.needToSendGcodeMove;\n    } \n}","import { MoveWindowState } from \"./types\";\n\nexport const defaultState = (): MoveWindowState => {\n    return {\n        coordinates: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        stepSelectorInfo: {\n            currentStep: 1.0,\n            stepValues: [0.1, 0.5, 1.0, 2.0, 5.0, 10.0, 50.0],\n            percentValues: [0, 17, 33.5, 50, 66.5, 83.5, 100]\n        },\n        needToSendGcodeMove: false\n    }\n}\n\nexport const state = defaultState()","import { MutationTree } from \"vuex\";\nimport { defaultState } from \"./state\";\nimport { MoveWindowState } from \"./types\";\n\nexport const mutations: MutationTree<MoveWindowState> = {\n    setReset(state) {\n        Object.assign(state, defaultState())\n    },\n\n    setCurrentStep(state, newStep) {\n        state.stepSelectorInfo.currentStep = newStep;\n    },\n\n    setX(state, newX) {\n        state.coordinates.x = newX;\n    },\n\n    setY(state, newY) {\n        state.coordinates.y = newY;\n    },\n\n    setZ(state, newZ) {\n        state.coordinates.z = newZ;\n    },\n\n    setNeedToSendGcodeMove(state, newFlag: boolean) {\n        state.needToSendGcodeMove = newFlag;\n    }\n}","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\nimport { MoveWindowState } from \"./types\";\n\nconst namespaced = true;\n\nexport const moveWindow: Module<MoveWindowState, RootState> = {\n    namespaced,\n    state,\n    mutations,\n    getters,\n    actions\n}","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { getDirectoryByPath, isDirectoryExistInState, splitPath } from \"../../files/helpers\";\nimport { DirectoryData } from \"../../files/types\";\nimport { NewFileBrowseWindowState } from \"./types\";\n\nexport const actions: ActionTree<NewFileBrowseWindowState, RootState> = {\n    refresh({dispatch, commit, getters}) {\n        commit('setSelectedFile', null)\n        dispatch('setCurrentPath', getters['getCurrentPath'])\n    },\n\n    setCurrentPath({commit, dispatch, rootGetters, getters}, newPath: string) {\n        commit('setCurrentPath', newPath)\n        const rootDirectoryData: DirectoryData[] = rootGetters['ourExtension/files/getDirs'];\n        const pathParts = splitPath(getters['getCurrentPath']);\n        if (isDirectoryExistInState(rootDirectoryData, pathParts)) {\n            const requiredDirectoryData = getDirectoryByPath(rootDirectoryData, pathParts);\n            commit('setFilesAndDirs', requiredDirectoryData)\n        }\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { NewFileBrowseWindowState } from \"./types\";\n\nexport const getters: GetterTree<NewFileBrowseWindowState, RootState> = {\n    getCurrentPath(state) {\n        return state.currentPath\n    },\n\n    getFileList: (state) => () => {\n        return state.fileList;\n    },\n\n    getDirectoryList(state) {\n        return state.directoryList;\n    },\n\n    getSelectedFile(state) {\n        return state.selectedFile;\n    },\n\n    getUsualSelectedFile(state) {\n        for (const file of state.fileList) {\n            if (file.isSelected) {\n                return file\n            }\n        }\n        return null\n    },\n\n    getUsualSelectedDirectory(state) {\n        for (const dir of state.directoryList) {\n            if (dir.isSelected) {\n                return dir\n            }\n        }\n        return null\n    }\n}","import { MutationTree } from \"vuex\";\nimport { getPathForMoonraker } from \"../../files/helpers\";\nimport { DirectoryData, FileData } from \"../../files/types\";\nimport { NewFileBrowseWindowState, SelectedFileData } from \"./types\";\n\nexport const mutations: MutationTree<NewFileBrowseWindowState> =  {\n    setCurrentPath(state, newPath: string) {\n        state.currentPath = newPath;\n    },\n\n    setFilesAndDirs(state, directoryData: DirectoryData) {\n        state.directoryList = directoryData.dirs;\n        state.fileList = directoryData.files;\n    },\n\n    deactivateFiles(state) {\n        for (const file of state.fileList) {\n            file.isSelected = false;\n        }\n\n        for (const dir of state.directoryList) {\n            dir.isSelected = false\n        }\n    },\n\n    setSelectedFile(state, fileData: FileData | null) {\n        if (fileData) {\n            const selectedFileData: SelectedFileData = {\n                fileData: fileData,\n                pathForMoonraker: getPathForMoonraker(state.currentPath, fileData.name)\n            }\n            state.selectedFile = selectedFileData;\n\n        } else {\n            state.selectedFile = null;\n        }\n        \n    }\n}","import { NewFileBrowseWindowState } from \"./types\";\n\nexport const newFileBrowserWindowState = () : NewFileBrowseWindowState => {\n    return {\n        currentPath: '',\n        directoryList: [],\n        fileList: [],\n        selectedFile: null\n    }\n};\n\nexport const state = newFileBrowserWindowState();","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\nimport { NewFileBrowseWindowState } from \"./types\";\n\nconst namespaced = true;\n\nexport const newFileBrowseWindow: Module<NewFileBrowseWindowState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    getters,\n    mutations\n}","import { PreprintingWindowState } from \"./types\"\n\nexport const defaultState = (): PreprintingWindowState => {\n    return {\n        a1Coords: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        a2Coords: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        b1Coords: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        b2Coords: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        dispacement: {\n            x: 0,\n            y: 0,\n            z: 0\n        },\n        rotateAngle: 0,\n        scale: 1\n    }\n}\n\nexport const state = defaultState()","import { ActionTree } from \"vuex\";\nimport { PreprintingWindowState } from \"./types\";\nimport { RootState } from \"@/store/types\";\nimport { defaultState } from \"./state\";\nimport { FileData } from \"../../files/types\";\n\nexport const actions: ActionTree<PreprintingWindowState, RootState> = {\n    reset({ state }) {\n        Object.assign(state, defaultState())\n        state.file = null\n    },\n\n    initByFile({ state, commit }, payload: FileData) {\n        commit('setFile', payload)\n    }\n}","import { GetterTree } from \"vuex\";\nimport { PreprintingWindowState } from \"./types\";\nimport { RootState } from \"@/store/types\";\n\nexport const getters: GetterTree<PreprintingWindowState, RootState> = {\n    isFileInit: (state) => () => {\n        return Boolean(state.file)\n    },\n\n    getFile: (state) => () => {\n        return state.file\n    }\n}","import { MutationTree } from \"vuex\";\nimport { PreprintingWindowState } from \"./types\";\nimport { FileData } from \"../../files/types\";\n\nexport const mutations: MutationTree<PreprintingWindowState> = {\n    setFile(state, payload: FileData) {\n        state.file = payload;\n    }\n}","import { RootState } from \"@/store/types\";\nimport { PreprintingWindowState } from \"./types\";\nimport { Module } from \"vuex\";\nimport { state } from \"./state\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\n\nconst namespaced = true;\nexport const preprintingWindow: Module<PreprintingWindowState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    getters,\n    mutations\n}","import { PrintingWindowState } from \"./types\";\n\nexport const defaultState = (): PrintingWindowState => {\n    return {\n        file: null,\n        printingDiapason: null,\n        printingSettings: {\n            shiftForAllLayers: false,\n            pauseBetweenLayers: false,\n            pauseValue: '00:59',\n            setNextLayer: false,\n            nextLayerValue: 0\n        },\n        shift: 0\n    }\n}\n\nexport const state = defaultState()","import { GetterTree } from \"vuex\";\nimport { PrintingWindowState } from \"./types\";\nimport { RootState } from \"@/store/types\";\n\nexport const getters: GetterTree<PrintingWindowState, RootState> = {\n    getPrintingSettings(state) {\n        return state.printingSettings\n    },\n\n    getPrintingDiapason: (state) => () => {\n        return state.printingDiapason\n    },\n\n    getShift(state) {\n        return state.shift\n    },\n    \n    getFile: (state) => () => {\n        return state.file\n    },\n\n    hasFile: (state) => () => {\n        return Boolean(state.file)\n    },\n\n    hasPrintingDiapason: (state) => () => {\n        return Boolean(state.printingDiapason)\n    },\n}","import { ActionTree } from \"vuex\";\nimport { PrintingWindowState } from \"./types\";\nimport { RootState } from \"@/store/types\";\nimport { defaultState } from \"./state\";\nimport { PrintingDiapasonForMoonraker } from \"../../profiles/types\";\nimport { FileData } from \"../../files/types\";\n\nexport const actions: ActionTree<PrintingWindowState, RootState> = {\n    reset({ state }) {\n        Object.assign(state, defaultState())\n    },\n\n    setPrintingDiapason({ state }, payload: PrintingDiapasonForMoonraker) {\n        state.printingDiapason = payload;\n    },\n\n    setFile({ state }, payload: FileData) {\n        state.file = payload;\n    }\n}","import { Module } from \"vuex\";\nimport { PrintingWindowState } from \"./types\";\nimport { RootState } from \"@/store/types\";\nimport { state } from \"./state\";\nimport { getters } from \"./getters\";\nimport { actions } from \"./actions\";\n\nconst namespaced = true\nexport const printingWindow: Module<PrintingWindowState, RootState> = {\n    namespaced,\n    state,\n    getters,\n    actions\n}","import { ProfilesWindowState } from \"./types\";\n\nexport const defaultState = (): ProfilesWindowState => {\n    return {\n        file: null,\n        headerText: 'Последняя печать',\n        layersText: '',\n        lastPrintingProfileFlag: true,\n        layersSetupWindowFlag: false\n    }\n}\n\nexport const state = defaultState()","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { ProfilesWindowState } from \"./types\";\nimport { PrintingDiapason } from \"../../profiles/types\";\nimport { FileData } from \"../../files/types\";\nimport { printingDiapasonProcessor } from \"../../profiles/helpers\";\nimport { deepCopyOfMap } from \"../../files/helpers\";\nimport { defaultState } from \"./state\";\nimport { InfoAlertType } from \"../alerts/types\";\nimport { Alerts } from \"../alerts/helpers\";\n\n\nexport const actions: ActionTree<ProfilesWindowState, RootState> = {\n    reset({ commit, state }) {\n        Object.assign(state, defaultState())\n        commit('reset')\n    },\n\n    setFile({ commit, dispatch, rootGetters, state }, payload: FileData) {\n        commit('setFile', payload)\n\n        const profiles = state.file?.profiles\n        const selectedDiapason = profiles?.selectedDiapason\n        if (selectedDiapason) {\n            commit('setSelectedDiapason', selectedDiapason)\n\n            let header = state.file?.name\n            if (!header) {\n                header = 'Профиль печати'\n            }\n\n            commit('setHeaderText', header)\n            state.lastPrintingProfileFlag = false\n\n            Alerts.profileSelectedAlert(selectedDiapason.profile.name, state.layersText)\n        } else {\n            dispatch('setLastPrintingInterval')\n        }\n    },\n\n    setCallback({ state }, payload: Function) {\n        state.confirmCallback = payload;\n    },\n\n    initWithGlobalProfiles({ commit, dispatch, rootGetters, state }) {\n        const profilesMap: Map<string, PrintingDiapason> = rootGetters['ourExtension/profiles/getDefaultProfilesMap']\n        const mapCopy = deepCopyOfMap(profilesMap)\n        state.globalProfilesInitialisationFlag = true\n        state.globalProfilesMap = mapCopy\n\n        const lastPrintingDiapason: PrintingDiapason = {\n            isRootDiapason: true,\n            profile: rootGetters['ourExtension/profiles/getLastPrintingProfile']()\n        }\n        state.lastPrintingProfileFlag = true\n        state.globalLastPrintingDiapason = lastPrintingDiapason\n        commit('setSelectedDiapason', lastPrintingDiapason)\n        Alerts.lastPrintingProfileSelectedAlert(state.layersText)\n\n        // commit('setHeaderText', 'Последняя печать')\n    },\n\n    setLastPrintingInterval({ dispatch, commit, rootGetters, state }) {\n        if (!state.globalProfilesInitialisationFlag) {  // Поведение при инициализации файлом\n            state.lastPrintingProfileFlag = true\n            if (state.file && state.file.profiles) {\n                state.file.profiles.selectedDiapason = null\n            }\n            const lastPrintingDiapason: PrintingDiapason = {\n                isRootDiapason: true,\n                profile: rootGetters['ourExtension/profiles/getLastPrintingProfile']()\n            }\n            commit('setSelectedDiapason', lastPrintingDiapason)\n            commit('setHeaderText', 'Последняя печать')\n        } else {  // Поведение при инициализации глобальными профилями\n            state.lastPrintingProfileFlag = true\n            state.selectedDiapason = state.globalLastPrintingDiapason\n            commit('setHeaderText', 'Последняя печать')\n        }\n        Alerts.lastPrintingProfileSelectedAlert(state.layersText)\n    },\n\n    addDiapason({ dispatch, commit, state }, payload) {\n        const selectedDiapason = state.selectedDiapason;\n        if (selectedDiapason) {\n            printingDiapasonProcessor.createNext(selectedDiapason)\n            if (selectedDiapason.nextDiapason) {\n                selectedDiapason.nextDiapason.firstLayer = payload.firstLayer\n                selectedDiapason.nextDiapason.lastLayer = payload.lastLayer\n                commit('setSelectedDiapason', selectedDiapason.nextDiapason)\n                Alerts.addDiapasonAlert(state.layersText)\n            }\n        }\n    },\n\n    prevDiapason({ dispatch, commit, state }) {\n        const prevDiapason = state.selectedDiapason?.prevDiapason\n        if (prevDiapason) {\n            commit('setSelectedDiapason', prevDiapason)\n\n            let text = state.layersText\n            if (state.selectedDiapason?.isRootDiapason) {\n                text = '(Основной диапазон)'\n            }\n            Alerts.diapasonSelectedAlert(text)\n        }\n    },\n\n    nextDiapason({ dispatch, commit, state }) {\n        const nextDiapason = state.selectedDiapason?.nextDiapason\n        if (nextDiapason) {\n            commit('setSelectedDiapason', nextDiapason)\n\n            let text = state.layersText\n            if (state.selectedDiapason?.isRootDiapason) {\n                text = '(Основной диапазон)'\n            }\n\n            Alerts.diapasonSelectedAlert(text)\n        }\n    },\n\n    deleteCurrent({ dispatch, commit, state }) {\n        const selectedDiapason = state.selectedDiapason;\n        if (selectedDiapason) {\n            const newDiapason = printingDiapasonProcessor.deleteCurrent(selectedDiapason);\n            commit('setSelectedDiapason', newDiapason)\n            Alerts.deleteDiapasonAlert(selectedDiapason)\n        }\n    },\n\n    deleteAll({ dispatch, commit, state }) {\n        const selectedDiapason = state.selectedDiapason;\n        if (selectedDiapason) {\n            const newDiapason = printingDiapasonProcessor.deleteAll(selectedDiapason);\n            commit('setSelectedDiapason', newDiapason)\n            Alerts.deleteAllDiapasonesAlert()\n        }\n\n    },\n\n    refreshToDefault({ commit, rootGetters, state }) {\n        const profileName = state.selectedDiapason?.profile.name\n        const defaultMap: Map<string, PrintingDiapason> = rootGetters['ourExtension/profiles/getDefaultProfilesMap']\n        if (profileName) {\n            let requiredProfile = defaultMap.get(profileName)?.profile\n            requiredProfile = JSON.parse(JSON.stringify(requiredProfile))\n            if (requiredProfile && state.selectedDiapason) {\n                state.selectedDiapason.profile = requiredProfile;\n            }\n        }\n    },\n\n    setProfile({ commit, dispatch, state }, payload: string) {\n        if (!state.globalProfilesInitialisationFlag) {  // Поведение при инициализации файлом\n\n            if (payload === 'Последняя печать') {\n                if (state.lastPrintingProfileFlag) {\n                    return\n                } else {\n                    dispatch('setLastPrintingInterval')\n                }\n            } else {\n                const newRootDiapason = state.file?.profiles?.profiles.get(payload)\n                if (newRootDiapason) {\n\n                    let header = state.file?.name\n                    if (!header) {\n                        header = 'Профиль печати'\n                    }\n                    commit('setHeaderText', header)\n\n\n                    state.lastPrintingProfileFlag = false\n                    commit('setSelectedDiapason', newRootDiapason)\n                    Alerts.profileSelectedAlert(newRootDiapason.profile.name, state.layersText)\n                }\n            }\n        } else {  // Поведение при инициализации глобальными профилями\n            if (payload === 'Последняя печать') {\n                if (state.lastPrintingProfileFlag) {\n                    return\n                } else {\n                    dispatch('setLastPrintingInterval')\n                }\n            } else {\n                const newRootDiapason = state.globalProfilesMap?.get(payload)\n                commit('setHeaderText', 'Профиль печати')\n                state.lastPrintingProfileFlag = false\n                commit('setSelectedDiapason', newRootDiapason)\n                if (newRootDiapason) {\n                    Alerts.profileSelectedAlert(newRootDiapason.profile.name, state.layersText)\n                }\n            }\n        }\n    },\n\n\n    confirm({ state, commit, dispatch }) {\n        if (!state.globalProfilesInitialisationFlag) {  // Поведение при инициализации файлом\n            if (state.confirmCallback) {\n                state.confirmCallback(state.selectedDiapason)\n            }\n            dispatch('ourExtension/windowFlags/openPreviousWindow', null, { root: true })\n        } else {  // Поведение при инициализации глобальными профилями\n            const map = state.globalProfilesMap\n            const values = map?.values()\n            if (values) {\n                const newProfiles = []\n                for (const diapason of values) {\n                    newProfiles.push(diapason.profile)\n                }\n                commit('ourExtension/profiles/setProfiles', newProfiles, { root: true })\n                commit('ourExtension/profiles/setLastPrintingProfile', state.globalLastPrintingDiapason?.profile, { root: true })\n            }\n            \n            dispatch('ourExtension/windowFlags/openPreviousWindow', null, { root: true })\n        }\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { resolveIconByProfileName } from \"../../profiles/helpers\";\nimport { PrintingDiapason } from \"../../profiles/types\";\nimport { ProfilesWindowState } from \"./types\";\n\nexport const getters: GetterTree<ProfilesWindowState, RootState> = {\n    getFile(state) {\n        return state.file\n    },\n\n    getSelectedDiapason: (state) => () => {\n        return state.selectedDiapason\n    },\n\n    getLayersSetupWindowFlag(state) {\n        return state.layersSetupWindowFlag;\n    },\n\n    getHeaderText(state) {\n        return state.headerText\n    },\n\n    getLayersText(state) {\n        return state.layersText\n    },\n\n    getProfilesNamesList: (state) => () => {\n        const profilesMap: Map<string, PrintingDiapason> | undefined = state.file?.profiles?.profiles\n        if (profilesMap) {\n            const keys: IterableIterator<string> = profilesMap.keys()\n            const keysArr: string[] = Array.from(keys)\n            return keysArr.sort()\n        }\n    },\n\n    getProfilesNamesMap: (state) => () => {\n        if (!state.globalProfilesInitialisationFlag) {\n            const profilesMap: Map<string, PrintingDiapason> | undefined = state.file?.profiles?.profiles\n            if (profilesMap) {\n                const keys: IterableIterator<string> = profilesMap.keys()\n                const keysArr: string[] = Array.from(keys).sort()\n                const map = new Map();\n                for (const key of keysArr) {\n                    const iconText = resolveIconByProfileName(key);\n                    map.set(key, iconText);\n                }\n                return map;\n            }\n        } else {\n            const profilesMap: Map<string, PrintingDiapason> | null | undefined = state.globalProfilesMap\n            if (profilesMap) {\n                const keys: IterableIterator<string> = profilesMap.keys()\n                const keysArr: string[] = Array.from(keys).sort()\n                const map = new Map();\n                for (const key of keysArr) {\n                    const iconText = resolveIconByProfileName(key);\n                    map.set(key, iconText);\n                }\n                return map;\n            }\n        }\n\n    },\n\n    isItLastPrintingProfile(state) {\n        return state.lastPrintingProfileFlag\n    },\n\n    isItInitWithGlobalProfiles: (state) => () => {\n        return state.globalProfilesInitialisationFlag\n    }\n}","import { MutationTree } from \"vuex\";\nimport { FileData } from \"../../files/types\";\nimport { printingDiapasonProcessor } from \"../../profiles/helpers\";\nimport { PrintingDiapason } from \"../../profiles/types\";\nimport { ProfilesWindowState } from \"./types\";\n\nexport const mutations: MutationTree<ProfilesWindowState> = {\n    setFile(state, payload: FileData) {\n        state.file = payload;\n        state.globalLastPrintingDiapason = undefined\n        state.globalProfilesInitialisationFlag = undefined\n        state.globalProfilesMap = undefined\n        state.selectedDiapason = undefined\n    },\n\n    setSelectedDiapason(state, payload: PrintingDiapason) {\n        state.selectedDiapason = payload;\n        if (!state.lastPrintingProfileFlag) {\n            const fileProfiles = state.file?.profiles;\n            if (fileProfiles) {\n                fileProfiles.selectedDiapason = payload;\n            }\n        }\n        if (typeof payload.lastLayer === 'number' && typeof payload.firstLayer === 'number') {\n            state.layersText = `(${payload.firstLayer} - ${payload.lastLayer})`\n        } else {\n            state.layersText = `(Все слои)`\n            if (state.globalProfilesInitialisationFlag) {\n                state.layersText = '(Глобально)'\n            }\n        }\n    },\n\n    setHeaderText(state, payload: string) {\n        state.headerText = payload\n    },\n\n    reset(state) {\n        state.file = null,\n        state.confirmCallback = null\n        state.selectedDiapason = null\n        state.globalLastPrintingDiapason = null\n        state.globalProfilesInitialisationFlag = null\n        state.globalProfilesMap = null\n    },\n\n    openLayersSetupWindow(state) {\n        state.layersSetupWindowFlag = true;\n    },\n\n    closeLayersSetupWindow(state) {\n        state.layersSetupWindowFlag = false;\n    }\n\n}","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\nimport { ProfilesWindowState } from \"./types\";\n\nconst namespaced = true;\nexport const profilesWindow: Module<ProfilesWindowState, RootState> = {\n    namespaced,\n    state,\n    getters,\n    mutations,\n    actions\n}","import { SelectListWindowState } from \"./types\"\n\nexport const defaultState = (): SelectListWindowState => {\n    return {\n        listItems: [],\n    }\n}\n\nexport const state = defaultState()","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { defaultState } from \"./state\";\nimport { ListInstance, SelectListInitData, SelectListWindowState } from \"./types\";\n\nexport const actions: ActionTree<SelectListWindowState, RootState> = {\n    reset({ state }) {\n        Object.assign(state, defaultState())\n        state.zIndex = undefined\n    },\n\n    initWithIcons({ state }, payload: SelectListInitData) {  // <название, иконка>\n        state.callbackAfterSelect = payload.callbackAfterConfirm;\n        const initMap = payload.initMap\n        if (!initMap) return;\n\n        const listItems: ListInstance[] = []\n        for (const [key, value] of initMap) {\n            const listInstance: ListInstance = {\n                isActive: false,\n                name: key,\n                icon: value\n            }\n            listItems.push(listInstance)\n        }\n        state.listItems = listItems;\n        state.zIndex = payload.zIndex\n    },\n\n    initWithoutIcons({ state }, payload: SelectListInitData) { \n        state.callbackAfterSelect = payload.callbackAfterConfirm;\n        const initList = payload.initList\n        if (!initList) return;\n\n        const listItems: ListInstance[] = []\n        for (const item of initList) {\n            const listInstance: ListInstance = {\n                isActive: false,\n                name: item\n            }\n            listItems.push(listInstance)\n        }\n        state.listItems = listItems;\n        state.zIndex = payload.zIndex\n    },\n\n    deactivateItems({ state, getters }) {\n        for (const item of state.listItems) {\n            item.isActive = false;\n        }\n    },\n\n    confirm({state, dispatch}, payload: string) {\n        if (state.callbackAfterSelect) {\n            state.callbackAfterSelect(payload)\n        }\n        dispatch('ourExtension/windowFlags/openPreviousWindow', null, { root: true })\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { SelectListWindowState } from \"./types\";\n\nexport const getters: GetterTree<SelectListWindowState, RootState> = {\n    isItIconImplementation(state) {\n        if (state.listItems[0] && state.listItems[0].icon) {\n            return true\n        }\n        return false\n    },\n\n    getListItems(state) {\n        return state.listItems\n    },\n\n    getZIndex(state) {\n        return state.zIndex\n    }\n}","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { state } from \"./state\";\nimport { SelectListWindowState } from \"./types\";\n\nconst namespaced = true;\nexport const selectListWindow: Module<SelectListWindowState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    getters\n}","import { SettingsWindowState } from \"./types\";\n\nexport const defaultState = (): SettingsWindowState => {\n    return {\n        maintenanceFlag: false,\n        lastCoords: []\n    }\n}\n\nexport const state = defaultState()","import { ActionTree } from \"vuex\";\nimport { SettingsWindowState } from \"./types\";\nimport { RootState } from \"@/store/types\";\n\nexport const actions: ActionTree<SettingsWindowState, RootState> = {\n    setLastCoords({state}, payload: number[]) {\n        state.lastCoords = payload\n    },\n\n    setMaintenanceFlag({state}, payload: boolean) {\n        state.maintenanceFlag = payload\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { SettingsWindowState } from \"./types\";\n\nexport const getters: GetterTree<SettingsWindowState, RootState> = {\n    getLastCoords(state) {\n        return state.lastCoords\n    },\n\n    getMaintenanceFlag(state) {\n        return state.maintenanceFlag\n    }\n}","import { Module } from \"vuex\";\nimport { RootState } from \"@/store/types\";\nimport { SettingsWindowState } from \"./types\";\nimport { state } from \"./state\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\n\nexport const namespaced = true\nexport const settingsWindow: Module<SettingsWindowState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    getters\n}","import { alerts } from \"./alerts\";\nimport { baseLayout } from \"./baseLayout\";\nimport fileBrowseWindow from \"./fileBrowseWindow\";\nimport filePreviewWindow from \"./filePreviewWindow\";\nimport { inputWindow } from \"./inputWindow\";\nimport mainWindow from \"./mainWindow\";\nimport { moveWindow } from \"./moveWindow\";\nimport { newFileBrowseWindow } from \"./newFileBrowseWindow\";\nimport { preprintingWindow } from \"./preprintingWindow\";\nimport { printingWindow } from \"./printingWindow\";\nimport { profilesWindow } from \"./profilesWindow\";\nimport { selectListWindow } from \"./selectListWindow\";\nimport { settingsWindow } from \"./settingsWindow\";\n\nconst namespaced = true;\n\n\n\nexport default {\n    namespaced,\n    modules: {\n        baseLayout,\n        mainWindow,\n        fileBrowseWindow,\n        newFileBrowseWindow,\n        filePreviewWindow,\n        moveWindow,\n        inputWindow,\n        profilesWindow,\n        selectListWindow,\n        preprintingWindow,\n        printingWindow,\n        alerts,\n        settingsWindow\n    }\n}","import { RootState } from \"@/store/types\";\nimport { ActionTree } from \"vuex\";\nimport { getSortedMapKeys } from \"./helpers\";\nimport { PrintingDiapason, Profile, ProfilesState } from \"./types\";\n\nexport const actions: ActionTree<ProfilesState, RootState> = {\n    setProfiles({ commit, getters, dispatch }, payload: Profile[]) {\n        commit('setProfiles', payload)\n        const profilesMap: Map<string, PrintingDiapason> = getters['getDefaultProfilesMap']\n\n        let profile = JSON.parse(JSON.stringify(profilesMap.get('Нержавеющие стали')))\n        if (!profile) {\n            const keys = getSortedMapKeys(profilesMap)\n            profile = JSON.parse(JSON.stringify(profilesMap.get(keys[0])))\n        }\n        commit('setLastPrintingProfile', profile.profile)\n        dispatch('ourExtension/files/setProfilesForAllGcodes', profilesMap, { root: true })\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { PrintingDiapason, ProfilesState } from \"./types\";\n\nexport const getters: GetterTree<ProfilesState, RootState> = {\n    getDefaultProfilesMap(state) {\n        const defaultMap: Map<string, PrintingDiapason> = new Map();\n        for (const profile of state.profilesList) {\n            const rootDiapason: PrintingDiapason = {\n                isRootDiapason: true,\n                profile: profile\n            }\n            defaultMap.set(profile.name, rootDiapason)\n        }\n        return defaultMap;\n    },\n\n    getLastPrintingProfile: (state) => () => {\n        return JSON.parse(JSON.stringify(state.lastPrintingProfile))\n    },\n\n    getProfilesMetadata(state) {\n        return state.profilesMetadata\n    }\n}","import { MutationTree } from \"vuex\";\nimport { Profile, ProfilesMetadata, ProfilesState } from \"./types\";\n\nexport const mutations: MutationTree<ProfilesState> = {\n    setProfiles(state, payload: Profile[]) {\n        state.profilesList = payload;\n    },\n\n    setProfilesMetadata(state, payload: ProfilesMetadata) {\n        state.profilesMetadata = payload\n    },\n\n    setLastPrintingProfile(state, payload: Profile) {\n        state.lastPrintingProfile = JSON.parse(JSON.stringify(payload))\n    }\n}","import { ProfilesState } from \"./types\";\n\nexport const defaultState = (): ProfilesState => {\n    return {\n        profilesList: [],\n        lastPrintingProfile: null,\n        profilesMetadata: null\n    }\n}\n\nexport const state = defaultState();","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\nimport { ProfilesState } from \"./types\";\n\n\nconst namespaced = true;\n\nexport const profiles: Module<ProfilesState, RootState> = {\n    namespaced,\n    state,\n    actions,\n    mutations,\n    getters,\n}","import { ActionTree } from \"vuex\";\nimport { FlagsObject, WindowFlagsState } from \"./types\";\nimport { RootState } from \"@/store/types\";\nimport { SocketActions } from \"@/api/socketActions\";\n\nexport const actions: ActionTree<WindowFlagsState, RootState> = {\n\n    // openFileBrowseWindow() {\n    //     SocketActions.serverGetGcodes();\n    // },\n\n    clearStack({ commit, dispatch, getters, rootState }) {\n        commit('setWindowStack', [getters.getInitFlagsObject()])\n    },\n\n    onOpenFileBrowseWindow({ commit, dispatch, getters, rootState }, payload) {\n        commit('openFileBrowseWindow');  // 1. Изменить флаги (Показать окно)\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();  // 2. Получить эти флаги\n        commit('saveCurrentLayoutInStack', currentFlags);  // 3. Сохранить в стек (Кнопка \"Назад\" будет возвращать пред. окно)\n    },\n\n    openFileBrowseWindow({ commit, dispatch, getters, rootState }, payload) {\n        commit('openFileBrowseWindow');  // 1. Изменить флаги (Показать окно)\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();  // 2. Получить эти флаги\n        commit('saveCurrentLayoutInStack', currentFlags);  // 3. Сохранить в стек (Кнопка \"Назад\" будет возвращать пред. окно)\n    },\n\n    // ИЛИ\n    openMainWindow({ commit, getters }) {\n        commit('openMainWindow');  // 1. Изменить флаги (Показать окно)\n        commit('setWindowStack', [getters.getInitFlagsObject()]) // 2. Обнулить стек (Кнопка \"Назад\" будет возвращать MainWindow)\n    },\n\n    // ИЛИ\n    openMoveWindow({ dispatch, commit, getters }) {\n        dispatch('ourExtension/layoutsData/moveWindow/reset', null, { root: true })\n        // commit(\"openMoveWindow\");  // 1. Изменить флаги (Показать окно)\n        // commit('setWindowStack', [getters.getInitFlagsObject()])  // 2. Обнулить стек (Кнопка \"Назад\" в данном окне будет возвращать MainWindow)\n        // const currentFlags: FlagsObject = getters.getCurrentFlagsObject();  // 3. Сохранить в стэк текущее окно\n        // commit('saveCurrentLayoutInStack', currentFlags);  // (Кнопка \"Назад\" в следующем окне вернет сначала данное окно, а затем MainWindow)\n        commit('openMoveWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openFilePreviewWindow({ commit, getters }) {\n        commit('openFilePreviewWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openPreviousWindow({ commit }) {\n        commit('openPreviousWindow')\n    },\n\n    openInputWindow({ dispatch, commit, getters }) {\n        commit('openInputWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openMainSettingsWindow({ dispatch, commit, getters }) {\n        // commit('openMainSettingsWindow');\n        // commit('setWindowStack', [getters.getInitFlagsObject()])\n        // const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        // commit('saveCurrentLayoutInStack', currentFlags);\n        commit('openMainSettingsWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openConsoleWindow({ commit, getters }) {\n        commit('openConsoleWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openProfilesWindow({ commit, getters, state, dispatch }) {\n        commit('openProfilesWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openSelectListWindow({ commit, getters }) {\n        commit('openSelectListWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openPreprintingWindow({ commit, getters }) {\n        commit('openPreprintingWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openPrintingWindow({ commit, getters }) {\n        commit('openPrintingWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openPrintSettingsWindow({ commit, getters }) {\n        commit('openPrintSettingsWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openGorelkaMaintenanceWindow({ commit, getters }) {\n        commit('openGorelkaMaintenanceWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n\n    openSystemInfoWindow({ commit, getters }) {\n        commit('openSystemInfoWindow');\n        const currentFlags: FlagsObject = getters.getCurrentFlagsObject();\n        commit('saveCurrentLayoutInStack', currentFlags);\n    },\n}","import { FlagsObject, WindowFlagsState } from \"./types\";\n\nexport const initWindowFlags: FlagsObject = {\n    mainWindowFlag: true,\n    fileBrowseWindowFlag: false,\n    filePreviewWindowFlag: false,\n    moveWindowFlag: false,\n    inputWindowFlag: false,\n    mainSettingsWindowFlag: false,\n    consoleWindowFlag: false,\n    profilesWindowFlag: false,\n    selectListWindowFlag: false,\n    preprintingWindowFlag: false,\n    printingWindowFlag: false,\n    printSettingsFlag: false,\n    gorelkaMaintenanceWindowFlag: false,\n    systemInfoWindow: false\n}\n\nexport const windowFlagsState = (): WindowFlagsState => {\n    return {\n        stack: [initWindowFlags],\n        flags: JSON.parse(JSON.stringify(initWindowFlags))\n    }\n}\n\nexport const state = windowFlagsState();","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { initWindowFlags } from \"./state\";\nimport { FlagsObject, WindowFlagsState } from \"./types\";\n\nexport const getters: GetterTree<WindowFlagsState, RootState> =  {\n    getMainWindowFlag(state: WindowFlagsState): boolean {\n        return state.flags.mainWindowFlag;\n    },\n\n    getFileBrowseWindowFlag(state: WindowFlagsState): boolean {\n        return state.flags.fileBrowseWindowFlag;\n    },\n\n    getFilePreviewWindowFlag(state: WindowFlagsState): boolean {\n        return state.flags.filePreviewWindowFlag;\n    },\n\n    getMoveWindowFlag(state: WindowFlagsState): boolean {\n        return state.flags.moveWindowFlag;\n    },\n\n    getInputWindowFlag(state: WindowFlagsState): boolean {\n        return state.flags.inputWindowFlag;\n    },\n\n    // getInputWindowFlag: state => (): boolean => {\n    //     return state.flags.inputWindowFlag;\n    // },\n\n    getCurrentFlagsObject: state => (): FlagsObject => {\n        return JSON.parse(JSON.stringify(state.flags))\n    },\n\n    getInitFlagsObject: state => (): FlagsObject => {\n        return JSON.parse(JSON.stringify(initWindowFlags)) \n    },\n\n    getMainSettingsWindowFlag(state) {\n        return state.flags.mainSettingsWindowFlag;\n    },\n\n    getConsoleWindowFlag(state) {\n        return state.flags.consoleWindowFlag;\n    },\n\n    getProfilesWindowFlag(state) {\n        return state.flags.profilesWindowFlag;\n    },\n\n    getSelectListWindowFlag(state) {\n        return state.flags.selectListWindowFlag\n    },\n\n    getPreprintingWindowFlag(state) {\n        return state.flags.preprintingWindowFlag\n    },\n\n    getPrintingWindowFlag(state) {\n        return state.flags.printingWindowFlag\n    },\n\n    getPrintSettingsWindowFlag(state) {\n        return state.flags.printSettingsFlag\n    },\n\n    getGorelkaMaintenanceWindowFlag(state) {\n        return state.flags.gorelkaMaintenanceWindowFlag\n    },\n\n    getSystemInfoWindowFlag(state) {\n        return state.flags.systemInfoWindow\n    }\n}","import { MutationTree } from \"vuex\";\nimport { initWindowFlags } from \"./state\";\nimport { FlagsObject, WindowFlagsState } from \"./types\";\n\nexport const mutations: MutationTree<WindowFlagsState> = {\n\n    openPreviousWindow(state) {\n        if (state.stack.length > 1) { // Если открыто не MainWindow\n            state.stack.pop() // Удаляем последнее открытое окно\n            const previousFlags = state.stack[state.stack.length - 1]; // Достаем предыдущие флаги\n            if (previousFlags) {\n                state.flags = JSON.parse(JSON.stringify(previousFlags));  // Сетаем их в state\n            }\n        } else {\n            const previousFlags = state.stack[0];\n            if (previousFlags) {\n                state.flags = JSON.parse(JSON.stringify(previousFlags));\n            }\n        }\n    },\n\n    saveCurrentLayoutInStack(state, currentFlags: FlagsObject) {\n        state.stack.push(currentFlags);\n    },\n\n    setWindowStack(state, stack) {\n        state.stack = stack;\n    },\n\n    openMainWindow(state) {\n        const initFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        state.flags = initFlags;\n    },\n\n    openFileBrowseWindow(state) {\n        state.flags.fileBrowseWindowFlag = true;\n    },\n\n    openFilePreviewWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.filePreviewWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openMoveWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.moveWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openInputWindow(state) {\n        state.flags.inputWindowFlag = true;\n    },\n\n    openMainSettingsWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.mainSettingsWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openConsoleWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.consoleWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openProfilesWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.profilesWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openSelectListWindow(state) {\n        state.flags.selectListWindowFlag = true;\n    },\n\n    openPreprintingWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.preprintingWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openPrintingWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.printingWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openPrintSettingsWindow(state) {\n        state.flags.printSettingsFlag = true\n    },\n\n    openGorelkaMaintenanceWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.gorelkaMaintenanceWindowFlag = true;\n        state.flags = newFlags;\n    },\n\n    openSystemInfoWindow(state) {\n        const newFlags = JSON.parse(JSON.stringify(initWindowFlags));\n        newFlags.mainWindowFlag = false;\n        newFlags.systemInfoWindow = true;\n        state.flags = newFlags;\n    }\n}","/*\nДобавление экранов, чтобы работала кнопка \"Назад\":\n1. types.ts -> добавить в FlagsObject -> windowNameFlag: boolean\n2. state.ts -> добавить init flag в initWindowFlags\n3. Реализовать геттер флага (getWindowNameFlag)\n4. Реализовать mutation флага (какие флаги true, какие false для включения экрана)\n5. Реализовать action флага аналогично другим (После открытия экрана добавлять его в стек или чистить стек)\n6. Вызывать action в листенере события\n7. В template показывать по v-if=\"computedWindowNameFlag\"\n8. В get computedWindowNameFlag(): boolean { return this.$store.getters[\"windowFlag/getWindowNameFlag\"] }\n*/\n\n\nimport { actions } from \"./actions\";\nimport { getters } from \"./getters\";\nimport { mutations } from \"./mutations\";\nimport { state } from \"./state\";\n\nconst namespaced = true;\n\nexport default {\n    namespaced,\n    actions,\n    mutations,\n    state,\n    getters\n}","import { GpioState } from \"./types\";\n\nexport const defaultState = (): GpioState => {\n    return {\n        isSocketConnected: false,\n        buttonsState: {\n            firstButton: false,\n            secondButton: false,\n            thirdButton: false,\n            fourthButton: false,\n            fifthButton: false,\n            sixthButton: false\n        },\n        encoderState: {\n            encoder1: {\n                emited: false,\n                isClockwise: false\n            },\n            encoder2: {\n                emited: false,\n                isClockwise: false\n            }\n        }\n    }\n}\n\nexport const state = defaultState()","import { MutationTree } from \"vuex\";\nimport { EncoderState, GpioState } from \"./types\";\n\nexport const mutations: MutationTree<GpioState> = {\n    setSocketConnected(state, payload: boolean) {\n        state.isSocketConnected = payload\n    },\n\n    setFirstButton(state, payload: boolean) {\n        state.buttonsState.firstButton = payload\n    },\n\n    setSecondButton(state, payload: boolean) {\n        state.buttonsState.secondButton = payload\n    },\n\n    setThirdButton(state, payload: boolean) {\n        state.buttonsState.thirdButton = payload\n    },\n\n    setFourthButton(state, payload: boolean) {\n        state.buttonsState.fourthButton = payload\n    },\n\n    setFifthButton(state, payload: boolean) {\n        state.buttonsState.fifthButton = payload\n    },\n\n    setSixthButton(state, payload: boolean) {\n        state.buttonsState.sixthButton = payload\n    },\n\n    setEncoder1(state, payload: EncoderState) {\n        state.encoderState.encoder1 = payload\n    },\n\n    setEncoder2(state, payload: EncoderState) {\n        state.encoderState.encoder2 = payload\n    }\n}","import { RootState } from \"@/store/types\";\nimport { GetterTree } from \"vuex\";\nimport { GpioState } from \"./types\";\n\nexport const getters: GetterTree<GpioState, RootState> = {\n    getSocketConnected(state) {\n        return state.isSocketConnected\n    },\n\n    getFirstButton(state) {\n        return state.buttonsState.firstButton\n    },\n\n    getSecondButton(state) {\n        return state.buttonsState.secondButton\n    },\n\n    getThirdButton(state) {\n        return state.buttonsState.thirdButton\n    },\n\n    getFourthButton(state) {\n        return state.buttonsState.fourthButton\n    },\n\n    getFifthButton(state) {\n        return state.buttonsState.fifthButton\n    },\n\n    getSixthButton(state) {\n        return state.buttonsState.sixthButton\n    },\n\n    getEncoder1(state) {\n        return state.encoderState.encoder1\n    },\n\n    getEncoder2(state) {\n        return state.encoderState.encoder2\n    }\n}","import { RootState } from \"@/store/types\";\nimport { Module } from \"vuex\";\nimport { state } from \"./state\";\nimport { GpioState } from \"./types\";\nimport { mutations } from \"./mutations\";\nimport { getters } from \"./getters\";\n\nconst namespaced = true;\n\nexport const gpio: Module<GpioState, RootState> = {\n    namespaced,\n    state,\n    mutations,\n    getters\n}","import { Module } from \"vuex\";\nimport { actions } from \"../socket/actions\";\nimport { RootState } from \"../types\";\nimport { files } from \"./files\";\nimport layoutsData from \"./layoutsData\";\nimport { profiles } from \"./profiles\";\nimport { OurExtensionState } from \"./types\";\nimport windowFlags from \"./windowFlags\";\nimport { gpio } from \"./gpio\";\n\nconst namespaced = true;\n\nexport const ourExtension: Module<OurExtensionState, RootState> = {\n    namespaced,\n    modules: {\n        layoutsData,\n        windowFlags,\n        files,\n        profiles,\n        gpio\n    },\n    actions: {\n        reset() {\n        }\n    }\n  }","// set_kinematic_position x=0 y=0 z=0\n\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport consola from 'consola'\nimport { RootState } from './types'\nimport { InitConfig } from './config/types'\nimport { Globals } from '@/globals'\n\n// Modules\nimport { socket } from './socket'\nimport { auth } from './auth'\nimport { server } from './server'\nimport { printer } from './printer'\nimport { config } from './config'\nimport { files } from './files'\nimport { layout } from './layout'\nimport { charts } from './charts'\nimport { console } from './console'\nimport { macros } from './macros'\nimport { power } from './power'\nimport { history } from './history'\nimport { version } from './version'\nimport { cameras } from './cameras'\nimport { mesh } from './mesh'\nimport { notifications } from './notifications'\nimport { announcements } from './announcements'\nimport { wait } from './wait'\nimport { gcodePreview } from './gcodePreview'\nimport { timelapse } from './timelapse'\nimport { parts } from './parts'\nimport { webcams } from './webcams'\nimport { jobQueue } from './jobQueue'\nimport { ourExtension } from './ourExtension'\nimport { Alerts } from './ourExtension/layoutsData/alerts/helpers'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store<RootState>({\n//   strict: (Globals.DEV),\n  modules: {\n    socket,\n    auth,\n    server,\n    printer,\n    config,\n    files,\n    layout,\n    charts,\n    console,\n    macros,\n    power,\n    history,\n    version,\n    cameras,\n    mesh,\n    notifications,\n    announcements,\n    wait,\n    gcodePreview,\n    timelapse,\n    parts,\n    webcams,\n    jobQueue,\n    ourExtension\n  },\n  mutations: {},\n  actions: {\n    /**\n     * Resets all stores\n     */\n    async reset ({ dispatch }, payload: string[]) {\n      // Reset our color set.\n      Vue.$colorset.forceResetAll()\n\n      // Dispatch a reset for each registered module.\n      const p: Promise<any>[] = []\n      const keys = payload || Object.keys(this.state)\n      keys.forEach((key) => {\n        if (this.hasModule(key)) {\n          p.push(dispatch(key + '/reset'))\n        }\n      })\n      return Promise.all(p)\n    },\n\n    async init ({ dispatch, commit }, payload: InitConfig) {\n        Alerts.dispatch = dispatch\n\n      // Sets the version and hash of Fluidd.\n      commit('version/setVersion', Globals.VERSION)\n      commit('version/setHash', Globals.HASH)\n\n      // Set the api connection state..\n      commit('socket/setApiConnected', payload.apiConnected)\n\n      // Init the host and local configs..\n      return [\n        await dispatch('config/initHost', payload),\n        await dispatch('config/initLocal', payload)\n      ]\n    },\n\n    /**\n     * A void action. Some socket commands may not need processing.\n     */\n    void (_, payload) {\n      consola.debug('void action', payload)\n    }\n  }\n})\n","import Vue from 'vue'\nimport store from './store'\nimport consola from 'consola'\nimport { Globals } from './globals'\nimport { ApiConfig, InitConfig, HostConfig, InstanceConfig } from './store/config/types'\nimport axios from 'axios'\nimport { httpClientActions } from '@/api/httpClientActions'\nimport sanitizeEndpoint from '@/util/sanitize-endpoint'\n\n// Load API configuration\n/**\n * 1. Load API config.\n *    - Load from local storage, if it exists, if not;\n *    - Ping common endpoints, alongside browser url;\n * 2. Commit instance / api config to store.\n * 3. Load the active instance UI config, if it exists and commit to store.\n * 4. Resume Vue Init\n */\n\nconst getHostConfig = async () => {\n    // httpClientActions.defaults.baseURL = \"http://localhost:8080\"\n    const hostConfigResponse = await httpClientActions.get<HostConfig>(`/config.json?date=${Date.now()}`)\n    if (hostConfigResponse && hostConfigResponse.data) {\n        consola.debug('Loaded web host configuration', hostConfigResponse.data)\n        return hostConfigResponse.data\n    } else {\n        consola.debug('Failed loading web host configuration')\n        throw new Error('Unable to load host configuration. Please check the host.')\n    }\n}\n\nconst getApiConfig = async (hostConfig: HostConfig): Promise<ApiConfig | InstanceConfig> => {\n    // Local storage load\n    if (Globals.LOCAL_INSTANCES_STORAGE_KEY in localStorage) {\n        const instances = JSON.parse(localStorage[Globals.LOCAL_INSTANCES_STORAGE_KEY]) as InstanceConfig[]\n        if (instances && instances.length) {\n            for (const config of instances) {\n                if (config.active) {\n                    consola.debug('API Config from Local Storage', config)\n                    return config\n                }\n            }\n        }\n    }\n\n    // If local storage not set, then ping the browser url.\n    const endpoints: string[] = []\n    const blacklist: string[] = []\n\n    if (hostConfig && 'blacklist' in hostConfig && hostConfig.blacklist.length) {\n        blacklist.push(...hostConfig.blacklist)\n    }\n\n    // If endpoints are defined in the hostConfig file,\n    // we want to load these on initial application launch\n    if (hostConfig && 'endpoints' in hostConfig && hostConfig.endpoints.length) {\n        endpoints.push(\n            ...hostConfig.endpoints\n                .map(sanitizeEndpoint)\n                .filter((endpoint): endpoint is string => !!endpoint))\n    }\n\n    // Add the browsers url to our endpoints list, unless black listed.\n    if (blacklist.findIndex(s => s.includes(document.location.hostname)) === -1) {\n        // Add the browser url.\n        endpoints.push(`${document.location.protocol}//${document.location.host}`)\n\n        // Add the moonraker endpoints...\n        const port = document.location.protocol === 'https:' ? '7130' : '7125'\n\n        endpoints.push(`${document.location.protocol}//${document.location.hostname}:${port}`)\n    }\n\n    // For each endpoint we have, ping each one to determine if any are active.\n    // If none are, we'll force the instance add dialog.\n    // A 401 would indicate a good ping, since it's potentially an authenticated,\n    // endpoint but working instance.\n    const results = await Promise.all(\n        endpoints.map(async endpoint => {\n            return httpClientActions.get(`${endpoint}/server/info?date=${Date.now()}`, { timeout: 1000 })\n                .then(() => true)\n                .catch((error) => error.response?.status === 401)\n        })\n    )\n\n    const i = results.findIndex(endpoint => endpoint)\n    return (i > -1)\n        ? Vue.$filters.getApiUrls(endpoints[i])\n        : { apiUrl: '', socketUrl: '' }\n}\n\nconst getMoorakerDatabase = async (apiConfig: ApiConfig, namespace: string) => {\n    const result = {\n        data: {} as any,\n        apiConnected: true,\n        apiAuthenticated: true\n    }\n\n    if (apiConfig.apiUrl !== '' && apiConfig.socketUrl !== '') {\n        try {\n            const response = await httpClientActions.serverDatabaseItemGet(namespace)\n\n            result.data = response.data.result.value\n\n            consola.debug('loaded db', namespace, result.data)\n        } catch (e) {\n            switch (axios.isAxiosError(e) ? e.response?.status : 0) {\n                case 404:\n                    // Connected but database does not yet exist\n                    break\n\n                case 401:\n                    // The API is technically connected, but we're un-authenticated.\n                    result.apiAuthenticated = false\n                    break\n\n                default:\n                    consola.debug('API Down / Not Available:', e)\n                    result.apiConnected = false\n                    break\n            }\n        }\n    } else {\n        result.apiConnected = false\n        result.apiAuthenticated = false\n    }\n\n    return result\n}\n\nexport const appInit = async (apiConfig?: ApiConfig, hostConfig?: HostConfig): Promise<InitConfig> => {\n\n    let cons = console as any\n\n    cons.defaultError = console.error.bind(console);\n    cons.errors = [];\n    console.error = function () {\n        // default &  console.error()\n        cons.defaultError.apply(console, arguments);\n        // new & array data\n        cons.errors.push(Array.from(arguments));\n    }\n\n    cons.defaultLog = console.log.bind(console);\n    cons.logs = [];\n    console.log = function () {\n        // default &  console.log()\n        cons.defaultLog.apply(console, arguments);\n        // new & array data\n        cons.logs.push(Array.from(arguments));\n    }\n\n    cons.defaultWarn = console.warn.bind(console);\n    cons.warns = [];\n    console.warn = function () {\n        // default &  console.warn()\n        cons.defaultWarn.apply(console, arguments);\n        // new & array data\n        cons.warns.push(Array.from(arguments));\n    }\n\n    cons.defaultDebug = console.debug.bind(console);\n    cons.debugs = [];\n    console.debug = function () {\n        // default &  console.debug()\n        cons.defaultDebug.apply(console, arguments);\n        // new & array data\n        cons.debugs.push(Array.from(arguments));\n    }\n\n    // Reset the store to its default state.\n    await store.dispatch('reset', undefined, { root: true })\n\n    // Load the Host Config\n    if (!hostConfig) {\n        // hostConfig = await getHostConfig()\n        hostConfig = {\n            blacklist: ['fluidd.xyz', 'fluidd.net'],\n            endpoints: [],\n            hosted: true,\n            themePresets: []\n        }\n    }\n\n    if (!(Globals.LOCAL_INSTANCES_STORAGE_KEY in localStorage)) {\n        for (const endpoint of hostConfig.endpoints) {\n            apiConfig = Vue.$filters.getApiUrls(endpoint)\n            await store.dispatch('config/initLocal', { apiConfig })\n        }\n    }\n\n    // Load the API Config\n    if (!apiConfig) {\n        // apiConfig = await getApiConfig(hostConfig)\n        apiConfig = {\n            apiUrl: \"http://localhost:7125\",\n            socketUrl: \"http://localhost:7125\"\n        }\n    }\n\n    // Setup axios\n    if (apiConfig.apiUrl) httpClientActions.defaults.baseURL = apiConfig.apiUrl\n\n    // Just sets the api urls\n    await store.dispatch('config/onInitApiConfig', apiConfig)\n    consola.debug('inited apis', store.state.config, apiConfig)\n\n    // Init authentication\n    await store.dispatch('auth/initAuth')\n\n    // Load any configuration we may have in moonrakers db\n    let apiConnected = true\n    let apiAuthenticated = true\n    for (const { NAMESPACE, ROOTS } of Object.values(Globals.MOONRAKER_DB)) {\n        if (!apiConnected && !apiAuthenticated) {\n            break\n        }\n\n        const result = await getMoorakerDatabase(apiConfig, NAMESPACE)\n\n        apiAuthenticated = result.apiAuthenticated\n        apiConnected = result.apiConnected\n\n        if (!apiConnected || !apiAuthenticated) {\n            break\n        }\n\n        const { data } = result\n\n        const roots = Object.values<Record<string, any>>(ROOTS)\n\n        const promises = roots.map(async (root) => {\n            const value = root.name ? data[root.name] : data\n\n            if (root.migrate_only) {\n                if (value) store.dispatch(root.dispatch, value)\n            } else {\n                if (!value) {\n                    try {\n                        await httpClientActions.serverDatabaseItemPost(NAMESPACE, root.name, {})\n                    } catch (e) {\n                        consola.debug('Error creating database item', e)\n                    }\n                }\n\n                await store.dispatch(root.dispatch, value || {})\n            }\n        })\n\n        await Promise.all(promises)\n    }\n\n    // apiConfig could have empty strings, meaning we have no valid connection.\n    await store.dispatch('init', { apiConfig, hostConfig, apiConnected })\n\n    // Ensure users start on the dash.\n    // if (router.currentRoute.path !== '/' && store.state.auth.authenticated) router.push('/')\n\n    return { apiConfig, hostConfig, apiConnected, apiAuthenticated }\n}\n","/**\n * A basic class to manage color steps for our graphs.\n */\nimport _Vue from 'vue'\nimport tinycolor from '@ctrl/tinycolor'\n\nexport class ColorSet {\n  logPrefix = '[WEBSOCKET]'\n  colorList: ColorList = {}\n\n  constructor (options: Options) {\n    if (options.colorList) {\n      for (const item in options.colorList) {\n        if ('base' in options.colorList[item]) {\n          const opts = options.colorList[item] as ColorGenOption\n          // this.colorList[item] = tinycolor(opts.base).analogous(opts.count, 20)\n          //   .map((color: TinyColor) => {\n          //     // const color = tinycolor({ h: num, s: 0.8, l: 0.8 }).toHexString()\n          //     return { color: color.toHexString(), used: false }\n          //   })\n          const base = tinycolor(opts.base).toHsl()\n          let h = base.h\n          let l = base.l\n          const s = base.s\n          const hsplit = opts.hsplit || 0\n          const lsplit = (opts.lsplit) ? opts.lsplit / 100 : 0\n          // let start = 100\n          this.colorList[item] = [\n            ...Array(opts.count).keys()\n          ]\n            .map(() => {\n              const color = tinycolor({ h, s, l }).toHexString()\n              h = h + hsplit\n              l = l - lsplit\n              return { color, used: false }\n            })\n          // this.colorList[item].unshift({ color: opts.base, used: false })\n        } else {\n          const opts = options.colorList[item] as string[]\n          this.colorList[item] = opts.map(color => {\n            return { color, used: false }\n          })\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the next unused color in the given list.\n   */\n  next (list: string, name?: string) {\n    if (this.colorList[list] === undefined) return // not found\n\n    // Return a named color if given\n    const namedColor = this.colorList[list].find(color => color.name === name)\n    if (namedColor) {\n      return namedColor.color\n    }\n\n    // If no more colors, reset non named.\n    if (this.colorList[list].findIndex(color => !color.used) >= 0) {\n      this.reset(list)\n    }\n\n    for (const color of this.colorList[list]) {\n      if (color.used) continue\n      if (name) color.name = name\n      color.used = true\n      return color.color\n    }\n  }\n\n  /**\n   * Reset the used state for all colors given a list.\n   */\n  reset (list: string, force = false): void {\n    if (this.colorList[list] === undefined) return // not found\n    this.colorList[list].forEach(color => {\n      // don't reset colors that have a name, unless forced.\n      if (!color.name || force) {\n        color.used = false\n        delete color.name\n      }\n    })\n  }\n\n  /**\n   * Reset all color sets.\n   */\n  resetAll (): void {\n    for (const list in this.colorList) {\n      this.reset(list)\n    }\n  }\n\n  /**\n   * Force reset all color sets.\n   * This also clears colors given a name.\n   */\n  forceResetAll (): void {\n    for (const list in this.colorList) {\n      this.reset(list, true)\n    }\n  }\n}\n\nexport const ColorSetPlugin = {\n  install (Vue: typeof _Vue, options?: Options) {\n    // Provide a specific list, or an option object to\n    // define the color lists.\n    const opts: Options = {\n      colorList: {\n        heater: { base: '#ff5252', hsplit: 20, count: 3 },\n        bed: { base: '#1fb0ff', hsplit: 20, count: 2 },\n        fan: ['#3DC25A', '#58FC7C', '#10EB40', '#7EF297'],\n        sensor: ['#D67600', '#830EE3', '#B366F2', '#E06573', '#E38819']\n      }\n    }\n    const colorset = new ColorSet({ ...opts, ...options })\n    Vue.prototype.$colorset = colorset\n    Vue.$colorset = colorset\n  }\n}\ndeclare module 'vue/types/vue' {\n  interface Vue {\n    $colorset: ColorSet;\n  }\n\n  interface VueConstructor {\n    $colorset: ColorSet;\n  }\n}\n\ninterface Options {\n  colorList?: ColorListOption;\n}\n\ninterface ColorListOption {\n  [index: string]: string[] | ColorGenOption;\n}\n\ninterface ColorGenOption {\n  base: string;\n  count: number;\n  hsplit?: number;\n  lsplit?: number;\n}\n\ninterface ColorList {\n  [index: string]: Color[];\n}\n\ninterface Color {\n  name?: string; // allow lookups of a color given its name.\n  color: string;\n  used: boolean;\n}\n","// https://github.com/coreutils/gnulib/blob/master/lib/filevercmp.h\n// https://github.com/coreutils/gnulib/blob/master/lib/filevercmp.c\n\nconst extensionRegExp = /((?:\\.[A-Za-z~][A-Za-z0-9~]*)*)$/\n\nconst charCode_0 = 0x30\nconst charCode_9 = 0x39\nconst charCode_A = 0x41\nconst charCode_Z = 0x5A\nconst charCode_a = 0x61\nconst charCode_z = 0x7A\nconst charCode_tilde = 0x7e\n\nconst isDigit = (c: number) => c >= charCode_0 && c <= charCode_9\nconst isAlpha = (c: number) => (c >= charCode_A && c <= charCode_Z) || (c >= charCode_a && c <= charCode_z)\n\nconst stringToAsciiByteArray = (value: string) => {\n  const bytes = []\n  for (let index = 0; index < value.length; index++) {\n    const charCode = value.charCodeAt(index)\n    bytes.push(charCode & 0xFF)\n  }\n  return bytes\n}\n\nconst order = (c: number): number => {\n  if (!c) {\n    return -1\n  } else if (isDigit(c)) {\n    return 0\n  } else if (isAlpha(c)) {\n    return c\n  } else if (c === charCode_tilde) {\n    return -2\n  } else {\n    return c + 256\n  }\n}\n\nconst versionStringCompareHelper = (stringA: string, stringB: string) => {\n  const bufA = stringToAsciiByteArray(stringA)\n  const bufB = stringToAsciiByteArray(stringB)\n  const lenA = bufA.length\n  const lenB = bufB.length\n\n  if (lenA === 0 || lenB === 0) {\n    return lenA - lenB\n  }\n\n  let posA = 0\n  let posB = 0\n\n  while (posA < lenA && posB < lenB) {\n    let first_diff = 0\n\n    while ((posA < lenA && !isDigit(bufA[posA])) || (posB < lenB && !isDigit(bufB[posB]))) {\n      const a = order(bufA[posA])\n      const b = order(bufB[posB])\n      if (a !== b) {\n        return a - b\n      }\n      posA++\n      posB++\n    }\n\n    while (posA < lenA && bufA[posA] === charCode_0) {\n      posA++\n    }\n\n    while (posB < lenB && bufB[posB] === charCode_0) {\n      posB++\n    }\n\n    while (posA < lenA && posB < lenB && isDigit(bufA[posA]) && isDigit(bufB[posB])) {\n      if (!first_diff) {\n        first_diff = bufA[posA] - bufB[posB]\n      }\n      posA++\n      posB++\n    }\n\n    if (posA < lenA && isDigit(bufA[posA])) {\n      return 1\n    }\n\n    if (posB < lenB && isDigit(bufB[posB])) {\n      return -1\n    }\n\n    if (first_diff) {\n      return first_diff\n    }\n  }\n\n  return 0\n}\n\nconst versionStringCompare = (stringA: string, stringB: string) => {\n  if (stringA === stringB) {\n    return 0\n  }\n\n  const nameA = stringA.replace(extensionRegExp, '')\n  const nameB = stringB.replace(extensionRegExp, '')\n\n  return nameA === nameB\n    ? versionStringCompareHelper(stringA, stringB)\n    : versionStringCompareHelper(nameA, nameB)\n}\n\nexport default versionStringCompare\n","import _Vue from 'vue'\nimport { camelCase, startCase, capitalize, isFinite } from 'lodash-es'\nimport { ApiConfig, TextSortOrder } from '@/store/config/types'\nimport tinycolor from '@ctrl/tinycolor'\nimport { DateFormats, Globals, TimeFormats, Waits } from '@/globals'\nimport i18n from '@/plugins/i18n'\nimport type { TranslateResult } from 'vue-i18n'\nimport store from '@/store'\nimport { FileBrowserEntry } from '@/store/files/types'\nimport versionStringCompare from '@/util/version-string-compare'\n\n/**\n * credit: taken from Vuetify source\n */\nconst getNestedValue = (obj: any, path: (string | number)[], fallback?: any): any => {\n  const last = path.length - 1\n\n  if (last < 0) return obj === undefined ? fallback : obj\n\n  for (let i = 0; i < last; i++) {\n    if (obj == null) {\n      return fallback\n    }\n    obj = obj[path[i]]\n  }\n\n  if (obj == null) return fallback\n\n  return obj[path[last]] === undefined ? fallback : obj[path[last]]\n}\n\n/**\n * credit: taken from Vuetify source\n */\nconst getObjectValueByPath = (obj: any, path: string, fallback?: any): any => {\n  // credit: http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key#comment55278413_6491621\n  if (obj == null || !path || typeof path !== 'string') return fallback\n  if (obj[path] !== undefined) return obj[path]\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1') // convert indexes to properties\n  path = path.replace(/^\\./, '') // strip a leading dot\n  return getNestedValue(obj, path.split('.'), fallback)\n}\n\nexport const Filters = {\n\n  /**\n   * Formats a time to 00h 00m 00s\n   * Expects to be passed seconds.\n   */\n  formatCounterTime: (seconds: number) => {\n    seconds = Number(seconds)\n    if (isNaN(+seconds) || !isFinite(seconds)) seconds = 0\n    let isNeg = false\n    if (seconds < 0) {\n      seconds = Math.abs(seconds)\n      isNeg = true\n    }\n    const h = Math.floor(seconds / 3600)\n    const m = Math.floor(seconds % 3600 / 60)\n    const s = Math.floor(seconds % 3600 % 60)\n\n    let r = s + 's' // always show seconds\n    r = m + 'm ' + r // always show minutes\n    if (h > 0) r = h + 'h ' + r // only show hours if relevent\n\n    return (isNeg) ? '-' + r : r\n  },\n\n  getDateFormat: (override?: string) => {\n    return {\n      locale: i18n.locale,\n      ...DateFormats[override ?? store.state.config.uiSettings.general.dateFormat]\n    }\n  },\n\n  getTimeFormat: (override?: string) => {\n    return {\n      locale: i18n.locale,\n      ...TimeFormats[override ?? store.state.config.uiSettings.general.timeFormat]\n    }\n  },\n\n  formatDate: (value: number | string | Date, options?: Intl.DateTimeFormatOptions) => {\n    const date = new Date(value)\n    const dateFormat = Filters.getDateFormat()\n\n    return date.toLocaleDateString(dateFormat.locale, {\n      ...dateFormat.options,\n      ...options\n    })\n  },\n\n  formatTime: (value: number | string | Date, options?: Intl.DateTimeFormatOptions) => {\n    const date = new Date(value)\n    const timeFormat = Filters.getTimeFormat()\n\n    return date.toLocaleTimeString(timeFormat.locale, {\n      ...timeFormat.options,\n      ...options\n    })\n  },\n\n  formatTimeWithSeconds: (value: number | string | Date, options?: Intl.DateTimeFormatOptions) => {\n    return Filters.formatTime(value, {\n      second: '2-digit',\n      ...options\n    })\n  },\n\n  formatDateTime: (value: number | string | Date, options?: Intl.DateTimeFormatOptions) => {\n    const date = new Date(value)\n    const timeFormat = Filters.getTimeFormat()\n    const dateFormat = Filters.getDateFormat()\n\n    return date.toLocaleDateString(dateFormat.locale, {\n      ...dateFormat.options,\n      ...timeFormat.options,\n      ...options\n    })\n  },\n\n  formatRelativeTimeToNow (value: number | string | Date, options?: Intl.RelativeTimeFormatOptions) {\n    return Filters.formatRelativeTimeToDate(value, Date.now(), options)\n  },\n\n  formatRelativeTimeToDate (value: number | string | Date, value2: number | string | Date, options?: Intl.RelativeTimeFormatOptions) {\n    let v = Math.floor(+new Date(value) / 1000)\n    let v2 = Math.floor(+new Date(value2) / 1000)\n\n    const units: { unit: Intl.RelativeTimeFormatUnit, limit: number }[] = [\n      { unit: 'second', limit: 60 },\n      { unit: 'minute', limit: 60 },\n      { unit: 'hour', limit: 24 },\n      { unit: 'day', limit: 30 },\n      { unit: 'month', limit: 12 },\n      { unit: 'year', limit: -1 }\n    ]\n\n    for (const { unit, limit } of units) {\n      if (limit === -1 || Math.abs(v - v2) < limit) {\n        return Filters.formatRelativeTime(v - v2, unit, options)\n      }\n\n      v = Math.floor(v / limit)\n      v2 = Math.floor(v2 / limit)\n    }\n  },\n\n  formatRelativeTime (value: number, unit: Intl.RelativeTimeFormatUnit, options?: Intl.RelativeTimeFormatOptions) {\n    const rtf = new Intl.RelativeTimeFormat(i18n.locale, {\n      numeric: 'auto',\n      ...options\n    })\n\n    return rtf.format(value, unit)\n  },\n\n  formatAbsoluteDateTime: (value: number | string | Date, options?: Intl.RelativeTimeFormatOptions) => {\n    if (Filters.isToday(value)) {\n      return Filters.formatTime(value, options)\n    }\n\n    if (Filters.isThisYear(value)) {\n      return Filters.formatDateTime(value, {\n        year: undefined,\n        ...options\n      })\n    }\n\n    return Filters.formatDateTime(value, options)\n  },\n\n  isToday: (value: number | string | Date) => {\n    const date = new Date(value)\n    const today = new Date()\n\n    return date.getDate() === today.getDate() &&\n      date.getMonth() === today.getMonth() &&\n      date.getFullYear() === today.getFullYear()\n  },\n\n  isThisMonth: (value: number | string | Date) => {\n    const date = new Date(value)\n    const today = new Date()\n\n    return date.getMonth() === today.getMonth() &&\n      date.getFullYear() === today.getFullYear()\n  },\n\n  isThisYear: (value: number | string | Date) => {\n    const date = new Date(value)\n    const today = new Date()\n\n    return date.getFullYear() === today.getFullYear()\n  },\n\n  /**\n   * Formats a string into camel case.\n   */\n  camelCase: (string: string) => {\n    return camelCase(string)\n  },\n\n  /**\n   * Formats a string into start case.\n   */\n  startCase: (string: string) => {\n    return startCase(string)\n  },\n\n  /**\n   * Converts the first character to upper case and the rest lower case, removing underscores.\n   * TEST_STRING -> Teststring\n   */\n  capitalize: (string: string) => {\n    string = Filters.camelCase(string)\n    return capitalize(string)\n  },\n\n  /**\n   * Formats a number (in bytes) to a human readable file size.\n   */\n  getReadableFileSizeString (fileSizeInBytes: number) {\n    let i = -1\n    const byteUnits = [' kB', ' MB', ' GB', ' TB', 'PB', 'EB', 'ZB', 'YB']\n    if (fileSizeInBytes === 0) return `0${byteUnits[0]}`\n    do {\n      fileSizeInBytes = fileSizeInBytes / 1024\n      i++\n    } while (fileSizeInBytes > 1024)\n\n    return Math.max(fileSizeInBytes, 0.1).toFixed(1) + byteUnits[i]\n  },\n\n  /**\n   * Formats a number representing mm to human readable distance.\n   */\n  getReadableLengthString (lengthInMm: number, showMicrons = false) {\n    if (lengthInMm >= 1000) return (lengthInMm / 1000).toFixed(2) + ' m'\n    if (lengthInMm > 100) return (lengthInMm / 10).toFixed(1) + ' cm'\n    if (lengthInMm < 0.1 && showMicrons) return (lengthInMm * 1000).toFixed(0) + ' μm'\n    return lengthInMm.toFixed(1) + ' mm'\n  },\n\n  /**\n   * Formats a number representing g to human readable weight.\n   */\n  getReadableWeightString (weightInG: number) {\n    if (weightInG >= 1000) return (weightInG / 1000).toFixed(2) + ' kg'\n    return weightInG.toFixed(2) + ' g'\n  },\n\n  /**\n   * Formats a number representing mm to human readable distance.\n   */\n  getReadableFrequencyString (frequencyInHz: number) {\n    let i = 0\n    const frequencyUnits = [' Hz', ' KHz', ' MHz', ' GHz']\n    while (frequencyInHz >= 1000) {\n      frequencyInHz = frequencyInHz / 1000\n      i++\n    }\n    return frequencyInHz.toFixed() + frequencyUnits[i]\n  },\n\n  /**\n   * The filesystem sorter. This is copied from vuetify, and modified to ensure our directories\n   * are always sorted to the top.\n   */\n  fileSystemSort (\n    items: FileBrowserEntry[],\n    sortBy: string[],\n    sortDesc: boolean[],\n    locale: string,\n    textSortOrder: TextSortOrder\n  ) {\n    if (sortBy === null || !sortBy.length) return items\n    const stringCollator = new Intl.Collator(locale, { sensitivity: 'accent', usage: 'sort' })\n    return items.sort((a, b) => {\n      if (a.type === 'directory' && (a.dirname === '..' || b.type !== 'directory')) return -1\n      if (b.type === 'directory' && (b.dirname === '..' || a.type !== 'directory')) return 1\n\n      for (let i = 0; i < sortBy.length; i++) {\n        const sortKey = sortBy[i]\n\n        const sortValues = [\n          getObjectValueByPath(a, sortKey),\n          getObjectValueByPath(b, sortKey)\n        ]\n\n        // If values are equal, continue\n        if (sortValues[0] === sortValues[1]) {\n          continue\n        }\n\n        // If sorting descending, reverse values\n        if (sortDesc[i]) {\n          sortValues.reverse()\n        }\n\n        // If values are of type number, compare as number\n        if (sortValues.every(x => typeof (x) === 'number' && !isNaN(x))) {\n          return sortValues[0] - sortValues[1]\n        }\n\n        const sortValuesAsString = sortValues\n          .map(s => (s || '').toString() as string)\n\n        if (textSortOrder === 'numeric-prefix') {\n          const [sortA, sortB] = sortValuesAsString\n            .map(s => s.match(/^\\d+/))\n\n          // If are number prefixed, compare prefixes as number\n          if (sortA && sortB && sortA[0] !== sortB[0]) {\n            return Number(sortA[0]) - Number(sortB[0])\n          }\n        } else if (textSortOrder === 'version') {\n          return versionStringCompare(sortValuesAsString[0], sortValuesAsString[1])\n        }\n\n        return stringCollator.compare(sortValuesAsString[0], sortValuesAsString[1])\n      }\n      return 0\n    })\n  },\n\n  /**\n   * Determines API urls from a base url\n   */\n  getApiUrls (url: string): ApiConfig {\n    const _url = new URL(url)\n    const wsProtocol = _url.protocol === 'https:' ? 'wss://' : 'ws://'\n    const o = {\n      apiUrl: `${_url.protocol}//${_url.host}`,\n      socketUrl: `${wsProtocol}${_url.host}/websocket`\n    }\n    return o\n  },\n\n  /**\n   * Tells us if a color is considered dark or light\n   */\n  isColorDark (color: string) {\n    const t = tinycolor(color).getBrightness()\n    return ((t / 255) * 100) <= 50\n  },\n\n  /**\n   * Simple approach to route somewhere when we don't necessarily want\n   * route matching via :to\n   */\n//   routeTo (router: VueRouter, path: string) {\n//     if (router.currentRoute.fullPath !== path) router.push(path)\n//   }\n}\n\nexport const Rules = {\n  required (v: any) {\n    return ((v ?? '') !== '') || i18n.t('app.general.simple_form.error.required')\n  },\n\n  numberValid (v: any) {\n    return !isNaN(+(v ?? NaN)) || i18n.t('app.general.simple_form.error.invalid_number')\n  },\n\n  numberGreaterThan (min: number) {\n    return (v: number) => v > min || i18n.t('app.general.simple_form.error.min', { min: `> ${min}` })\n  },\n\n  numberGreaterThanOrEqual (min: number) {\n    return (v: number) => v >= min || i18n.t('app.general.simple_form.error.min', { min })\n  },\n\n  numberGreaterThanOrEqualOrZero (min: number) {\n    return (v: number) => +v === 0 || v >= min || i18n.t('app.general.simple_form.error.min_or_0', { min })\n  },\n\n  numberGreaterThanOrZero (min: number) {\n    return (v: number) => +v === 0 || v > min || i18n.t('app.general.simple_form.error.min_or_0', { min: `> ${min}` })\n  },\n\n  numberLessThan (max: number) {\n    return (v: number) => v < max || i18n.t('app.general.simple_form.error.max', { max: `< ${max}` })\n  },\n\n  numberLessThanOrEqual (max: number) {\n    return (v: number) => v <= max || i18n.t('app.general.simple_form.error.max', { max })\n  },\n\n  numberLessThanOrEqualOrZero (max: number) {\n    return (v: number) => +v === 0 || v <= max || i18n.t('app.general.simple_form.error.max', { max })\n  },\n\n  numberLessThanOrZero (max: number) {\n    return (v: number) => +v === 0 || v < max || i18n.t('app.general.simple_form.error.max', { max })\n  },\n\n  lengthGreaterThanOrEqual (min: number) {\n    return (v: string | any[]) => v.length >= min || i18n.t('app.general.simple_form.error.min', { min })\n  },\n\n  lengthLessThanOrEqual (max: number) {\n    return (v: string | any[]) => v.length <= max || i18n.t('app.general.simple_form.error.max', { max })\n  },\n\n  numberArrayValid (v: any[]) {\n    return !v.some(i => i === '' || isNaN(+(i ?? NaN))) || i18n.t('app.general.simple_form.error.arrayofnums')\n  },\n\n  passwordNotEqualUsername (username?: string | null) {\n    return (v: string) => (v.toLowerCase() !== (username ?? '').toLowerCase()) || i18n.t('app.general.simple_form.error.password_username')\n  },\n\n  aspectRatioValid (v: string) {\n    return /^\\d+\\s*[:/]\\s*\\d+$/.test(v) || i18n.t('app.general.simple_form.error.invalid_aspect')\n  },\n\n  regExpPatternValid (v: string) {\n    try {\n      // eslint-disable-next-line no-new\n      new RegExp(v)\n      return true\n    } catch (e) {\n      return i18n.t('app.general.simple_form.error.invalid_expression')\n    }\n  },\n\n  regExpValid (regExp: RegExp, errorMessage: string | TranslateResult) {\n    return (v: string) => regExp.test(v) || errorMessage || 'Invalid'\n  }\n}\n\nexport const FiltersPlugin = {\n  install (Vue: typeof _Vue) {\n    Vue.prototype.$filters = Filters\n    Vue.prototype.$rules = Rules\n    Vue.prototype.$globals = Globals\n    Vue.prototype.$waits = Waits\n    Vue.$filters = Filters\n    Vue.$rules = Rules\n    Vue.$globals = Globals\n    Vue.$waits = Waits\n  }\n}\n\ndeclare module 'vue/types/vue' {\n  interface Vue {\n    $filters: typeof Filters;\n    $rules: typeof Rules;\n    $globals: typeof Globals;\n    $waits: typeof Waits;\n  }\n\n  interface VueConstructor {\n    $filters: typeof Filters;\n    $rules: typeof Rules;\n    $globals: typeof Globals;\n    $waits: typeof Waits;\n  }\n}\n","import _Vue from 'vue'\nimport { EventBus, FlashMessageTypes } from '@/eventBus'\nimport consola from 'consola'\nimport Axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios'\nimport { Globals } from '@/globals'\n\nconst createHttpClient = (store: any) => {\n  // Create a base instance with sane defaults.\n  const httpClient = Axios.create({\n    withAuth: true,\n    timeout: Globals.NETWORK_REQUEST_TIMEOUT\n  })\n  httpClient.prototype.CancelToken = Axios.CancelToken\n  httpClient.prototype.isCancel = Axios.isCancel\n\n  // For these paths, we force remove the withAuth flag.\n  const unauthenticatedPaths = [\n    '/access/login',\n    '/access/refresh_token'\n  ]\n\n  // For these paths, we don't emit an error because we handle them\n  // downstream.\n  const handledErrorRequests = {\n    400: [\n      '/access/login'\n    ],\n    502: [\n      '/access/oneshot_token',\n      '/access/user'\n    ]\n  }\n\n  const requestInterceptor = async (config: AxiosRequestConfig) => {\n    if (!config.headers) {\n      config.headers = {}\n    }\n\n    // Common headers.\n    config.headers.Accept = 'application/json'\n    config.headers['Content-Type'] = 'application/json'\n\n    // Check our auth token.\n    // If the token is about to expire...\n    // Attempt to refresh the token.\n    // This would only run if we have tokens defined. Otherwise it's\n    // assumed we're trusted by moonraker.\n    // Don't check for the refresh token path\n    if (config.url !== '/access/refresh_jwt') {\n      const isExpiring = await store.dispatch('auth/checkToken')\n      if (isExpiring) {\n        const token = await store.dispatch('auth/refreshTokens')\n        if (token) config.headers.Authorization = `Bearer ${token}`\n      }\n    }\n\n    // If this is a request for an api path known to not be authenticated, then\n    // remove the withAuth flag.\n    const path = config.url || ''\n    if (unauthenticatedPaths.includes(path)) config.withAuth = false\n\n    return config\n  }\n\n  const responseInterceptor = (response: AxiosResponse) => {\n    switch (response.status) {\n      case 200:\n      // We can reasonably assume that successfull moonraker responses\n      // determine a user is trusted or authenticated in some way.\n        if (\n          store.state.config.apiUrl &&\n        response.config.baseURL === store.state.config.apiUrl &&\n        response.config.withAuth\n        ) {\n        // Set authenticated to true.\n          store.commit('auth/setAuthenticated', true)\n        }\n        break\n      default:\n    }\n    return response\n  }\n\n  const errorInterceptor = (error: AxiosError<string | { error?: { message?: string} } | undefined>) => {\n    let message: string | undefined\n\n    // Check if its a network / server error.\n    if (!error.response || error.code === 'ERR_NETWORK') {\n    // Network / Server Error.\n      if (error.message) message = error.message\n      consola.debug(message || 'Network error')\n      return Promise.reject(error)\n    }\n\n    // All other errors\n    if (typeof error.response.data === 'object') {\n      message = error.response.data.error?.message\n    } else {\n      message = error.response.data\n    }\n\n    const url = error.config.url || ''\n    switch (error.response.status) {\n      case 500:\n        consola.debug(error.response.status, error.message, message)\n        EventBus.$emit(message || 'Server error', { type: FlashMessageTypes.error })\n        break\n      case 502:\n      case 400:\n        consola.debug(error.response.status, error.message, message)\n        if (!handledErrorRequests[error.response.status].includes(url)) {\n          EventBus.$emit(message || 'Server error', { type: FlashMessageTypes.error })\n        }\n        break\n      case 401:\n        if (error.config.withAuth) {\n        // logout.\n          store.dispatch('auth/logout')\n        }\n        break\n      case 404:\n        consola.debug(error.response.status, error.message, message)\n        // EventBus.$emit(message || 'Server error', { type: FlashMessageTypes.warning })\n        break\n      default:\n        consola.debug(error.response.status, error.message)\n        EventBus.$emit(message || 'Server error', { type: FlashMessageTypes.error })\n    }\n\n    return Promise.reject(error)\n  }\n\n  httpClient.interceptors.request.use(requestInterceptor, errorInterceptor)\n  httpClient.interceptors.response.use(responseInterceptor, errorInterceptor)\n\n  return httpClient\n}\n\n// Extend axios config to include anything we may need.\ndeclare module 'axios' {\n  export interface AxiosRequestConfig {\n    // Enables axios to redirect if we encounter a 401, and sets the\n    // authenticated flag dependant on our responses.\n    withAuth?: boolean;\n  }\n}\n\nexport const HttpClientPlugin = {\n  install (Vue: typeof _Vue, options?: any) {\n    const httpClient = createHttpClient(options.store)\n    Vue.prototype.$httpClient = httpClient\n    Vue.$httpClient = httpClient\n  }\n}\n\ndeclare module 'vue/types/vue' {\n  interface Vue {\n    $httpClient: ReturnType<typeof createHttpClient>;\n  }\n\n  interface VueConstructor {\n    $httpClient: ReturnType<typeof createHttpClient>;\n  }\n}\n","/* eslint-disable lines-between-class-members */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable array-callback-return */\n\n/**\n * Taken from https://github.com/DimanVorosh/vue-json-rpc-websocket/blob/master/src/wsClient.js\n * and refactored.\n */\nimport _Vue from 'vue'\nimport { Globals } from '@/globals'\nimport consola from 'consola'\nimport { camelCase } from 'lodash-es'\nimport { httpClientActions } from '@/api/httpClientActions'\nimport deepMerge from 'deepmerge'\n\nexport class WebSocketClient {\n    url = ''\n    connection: WebSocket | null = null\n    reconnectEnabled = false\n    reconnectInterval = 1000\n    allowedReconnectAttempts = 3\n    reconnectCount = 0\n    logPrefix = '[WEBSOCKET]'\n    requests: Array<Request> = []\n    store: any | null = null\n    pingTimeout: any\n    cache: CachedParams | null = null\n\n    constructor(options: Options) {\n        this.url = options.url\n        this.reconnectEnabled = options.reconnectEnabled || false\n        this.reconnectInterval = options.reconnectInterval || 1000\n        this.store = options.store ? options.store : null\n    }\n\n    pong() {\n        // Valid response from the socket.\n        clearTimeout(this.pingTimeout)\n\n        // We have a connection again, so set the socket properties\n        // appropriately.\n        if (\n            !this.store.state.socket.disconnecting && // We arent about to disonnect and..\n            !this.store.state.files.download // We're not in the middle of a download.\n        ) {\n            this.store.commit('socket/setSocketOpen', true)\n            this.store.dispatch('socket/onSocketConnecting', false)\n        }\n\n        this.pingTimeout = setTimeout(() => {\n            if (\n                !this.store.state.socket.disconnecting && // We arent about to disonnect and..\n                !this.store.state.files.download // We're not in the middle of a download.\n            ) {\n                // In the event our socket stops responding, set the socket properties\n                // appropriately.\n                consola.debug(`${this.logPrefix} Connection timeout, pong failed`)\n                if (this.store) this.store.commit('socket/setSocketOpen', false)\n                if (this.store) this.store.dispatch('socket/onSocketConnecting', true)\n            }\n        }, Globals.SOCKET_PING_INTERVAL)\n    }\n\n    close() {\n        if (this.connection) {\n            this.cache = null\n            this.connection.close()\n            this.reconnectCount = 0\n        }\n    }\n\n    async connect(url?: string) {\n        if (url) this.url = url\n        this.cache = null\n\n        await httpClientActions.accessOneshotTokenGet()\n            .then(response => response.data.result)\n            .then(token => {\n                // Good. Move on with setting up the socket.\n                if (this.store) this.store.dispatch('socket/onSocketConnecting', true)\n                // this.connection = new WebSocket(`${this.url}?token=${token}`)\n                this.connection = new WebSocket(`ws://localhost:7125/websocket?token=${token}`)\n\n\n\n                this.connection.onopen = () => {\n\n                    if (this.reconnectEnabled) {\n                        this.reconnectCount = 1\n                    }\n                    if (this.store) {\n                        this.store.dispatch('socket/onSocketConnecting', false)\n                        this.store.dispatch('socket/onSocketOpen', true)\n                    }\n                }\n\n                this.connection.onclose = (e) => {\n\n                    consola.debug(`${this.logPrefix} Connection closed:`, e)\n                    clearTimeout(this.pingTimeout)\n                    if (this.store) this.store.dispatch('socket/onSocketClose', e)\n                    if (!e.wasClean) {\n                        this.reconnect()\n                    }\n                }\n\n                this.connection.onerror = (e) => {\n                    consola.error(`${this.logPrefix} Connection error:`, e)\n                    if (this.store) this.store.dispatch('socket/onSocketError', e)\n                }\n\n                this.connection.onmessage = (m) => {\n\n                    // Parse the data packet.\n                    const d: SocketResponse = JSON.parse(m.data)\n\n                    // Is this a socket notification, or an answer to a specific request?\n                    let request: Request | undefined\n                    const requestIndex = this.requests.findIndex(request => request.id === d.id)\n                    if (requestIndex > -1) {\n                        request = this.requests[requestIndex]\n                        this.requests.splice(requestIndex, 1)\n                    }\n\n                    // Remove a wait if defined.\n                    if (this.store && request && request.wait && request.wait.length) {\n                        this.store.commit('wait/setRemoveWait', request.wait)\n                    }\n\n                    if (d.error) { // Is it in error?\n                        if (request) {\n                            Object.defineProperty(d.error, '__request__', { enumerable: false, value: request })\n                        }\n                        consola.debug(`${this.logPrefix} Response error:`, d.error)\n                        if (this.store) {\n                            this.store.dispatch('socket/onSocketError', d.error)\n                            this.store.dispatch('ourExtension/layoutsData/alerts/onSocketError', d.error)\n                        }\n                        return\n                    }\n\n                    // we're still alive.\n                    this.pong()\n\n                    if (request) {\n                        // these are specific answers to a request we've made.\n                        // Build the response, including a non-enumerable ref of the original request.\n                        let result = (d.result) ? d.result : d.params\n                        if (typeof result === 'string') {\n                            result = { result }\n                        }\n\n\n                        Object.defineProperty(result, '__request__', { enumerable: false, value: request })\n                        consola.debug(`${this.logPrefix} RESPONSE for id: ${request.id}:`, result)\n                        if (request.dispatch && this.store) this.store?.dispatch(request.dispatch, result)\n                        if (request.commit && this.store) this.store?.commit(request.commit, result)\n                    } else {\n                        // These are socket notifications (i.e., no specific request was made..)\n                        // Dispatch with the name of the method, converted to camelCase.\n\n                        if (d.params && d.params[0]) {\n                            const [params, eventtime] = d.params\n\n                            if (d.method !== 'notify_status_update') {\n                                // Normally, we let notifications through with no cache...\n                                if ('socket/' + camelCase(d.method) !== 'socket/notifyProcStatUpdate') {\n                                    console.log('socket/' + camelCase(d.method), params)\n                                }\n                                if (this.store) this.store.dispatch('socket/' + camelCase(d.method), params)\n                            } else {\n                                // ...However, status notifications come through thick and fast,\n                                // so we cache these and send them through every second.\n\n                                // If any of these properties exist, bypass the cache and send immediately\n                                for (const key of ['motion_report']) {\n                                    if (this.store && key in params) {\n                                        this.store.dispatch('printer/onFastNotifyStatusUpdate', { key, payload: params[key] }, { root: true })\n                                        delete params[key]\n                                    }\n                                }\n\n                                const timestamp = eventtime ? eventtime * 1000 : Date.now()\n\n                                this.cache = (!this.cache)\n                                    ? { timestamp, params }\n                                    : { timestamp: this.cache.timestamp, params: deepMerge(this.cache.params, params, { arrayMerge: (_, y) => y }) }\n\n                                // If there's a second or more difference, flush the cache.\n                                if (timestamp - this.cache.timestamp >= 1000) {\n                                    if (this.store) this.store.dispatch('socket/' + camelCase(d.method), this.cache.params)\n                                    this.cache = { timestamp, params: {} }\n                                }\n                            }\n                        } else {\n                            // No params? Let it through.\n                            if (this.store) this.store.dispatch('socket/' + camelCase(d.method))\n                        }\n                    }\n                }\n            })\n            .catch((err) => {\n                // Bad. If this is a 401, then don't retry. Otherwise do.\n                if (err.response?.status !== 401) this.reconnect()\n            })\n    }\n\n    reconnect() {\n        if (this.reconnectCount <= this.allowedReconnectAttempts) {\n            this.reconnectCount += 1\n            this.connection = null\n            consola.debug(`${this.logPrefix} Reconnecting in ${this.reconnectInterval}`)\n            setTimeout(() => {\n                this.connect()\n            }, this.reconnectInterval)\n        } else {\n            if (this.store) this.store.dispatch('socket/onSocketConnecting', false)\n        }\n    }\n\n    /**\n     * Sends data TO the socket\n     * @param method\n     * @param params\n     */\n    emit(method: string, options?: NotifyOptions) {\n\n        if (this.store.state.socket.disconnecting || this.store.state.socket.connecting) {\n            consola.debug(`${this.logPrefix} Socket emit denied, in disconnecting state:`, method, options)\n            console.log(`${this.logPrefix} Socket emit denied, in disconnecting state:`, method, options)\n            return\n        }\n        \n\n        if (this.connection?.readyState === WebSocket.OPEN) {\n            // moonraker expects a unique id for us to reference back to when data is returned.\n            const getRandomNumber = (min: number, max: number) => {\n                return Math.floor(Math.random() * (max - min + 1)) + min\n            }\n            const id = getRandomNumber(10000, 99999)\n            const packet: SocketRequest = {\n                id,\n                method,\n                jsonrpc: '2.0'\n            }\n            const request: Request = {\n                id\n            }\n            if (options && options.wait) {\n                request.wait = options.wait\n                if (this.store) this.store.dispatch('wait/addWait', options.wait)\n            }\n            if (options && options.params) {\n                packet.params = options.params\n                request.params = options.params\n            }\n            if (options && options.dispatch) request.dispatch = options.dispatch\n            if (options && options.commit) request.commit = options.commit\n            this.requests.push(request)\n            this.connection.send(JSON.stringify(packet))\n            consola.debug(`${this.logPrefix} Request with id: ${packet.id}, method: \"${packet.method}\"`, packet)\n        } else {\n            consola.debug(`${this.logPrefix} Not ready, or closed.`, method, options, this.connection?.readyState)\n        }\n    }\n}\n\nexport const SocketPlugin = {\n    install(Vue: typeof _Vue, options?: any) {\n        const socket = new WebSocketClient(options)\n        Vue.prototype.$socket = socket\n        Vue.$socket = socket\n    }\n}\n\ndeclare module 'vue/types/vue' {\n    interface Vue {\n        $socket: WebSocketClient;\n    }\n\n    interface VueConstructor {\n        $socket: WebSocketClient;\n    }\n}\n\ninterface Options {\n    url: string;\n    token?: string;\n    reconnectEnabled?: boolean;\n    reconnectInterval?: number;\n    store: any;\n}\n\nexport interface NotifyOptions {\n    params?: any;\n    dispatch?: string;\n    commit?: string;\n    wait?: string;\n}\n\ninterface Request {\n    id: number;\n    dispatch?: string;\n    commit?: string;\n    params?: any;\n    wait?: string;\n}\n\nexport interface SocketRequest {\n    jsonrpc: string;\n    id: number;\n    method: string;\n    params?: any;\n}\n\ninterface SocketResponse {\n    jsonrpc: string; // always available\n    method?: string; // generic responses\n    params?: [any, number?]; // generic responses\n    id?: number; // specific response\n    result?: any; // specific response\n    error?: string | SocketError; // specific response\n}\n\ninterface SocketError {\n    code: number;\n    message: string;\n}\n\ninterface CachedParams {\n    timestamp: number;\n    params: any;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"file-select-window\"},[_vm._m(0),(_vm.absolutelyEmpty)?_c('div',{staticClass:\"files-not-found\"},[_c('span',[_vm._v(\"Файлов не найдено\")])]):_c('div',{staticClass:\"files-wrapper\"},[(_vm.isDirectorySelected)?_c('button',{staticClass:\"upper-folder\",on:{\"touchstart\":_vm.openPreviousDirectory}},[_vm._m(1),_c('hr')]):_vm._e(),_c('div',{staticClass:\"files-list\"},[_vm._l((_vm.directoryList),function(directoryData,index){return _c('FolderButton',{key:index,attrs:{\"directoryData\":directoryData}})}),_vm._l((_vm.fileList),function(fileData,index){return _c('FileButton',{key:-index - 1,attrs:{\"fileData\":fileData}})})],2)]),_c('div',{staticClass:\"control-buttons\"},[_c('button',{staticClass:\"control-button info\",class:{ 'active': _vm.buttonsState.firstButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'firstButton')},\"touchend\":function($event){return _vm.touchEndHandler('firstButton')}}},[_vm._m(2),_c('span',[_vm._v(\"Информация о файле\")])]),_c('button',{staticClass:\"control-button profiles\",class:{ 'active': _vm.buttonsState.secondButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'secondButton')},\"touchend\":function($event){return _vm.touchEndHandler('secondButton')}}},[_vm._m(3),_c('span',[_vm._v(\"Режимы наплавки\")])]),_c('button',{staticClass:\"control-button preprint\",class:{ 'active': _vm.buttonsState.thirdButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'thirdButton')},\"touchend\":function($event){return _vm.touchEndHandler('thirdButton')}}},[_vm._m(4),_c('span',[_vm._v(\"Допечатная подготовка\")])]),_c('button',{staticClass:\"control-button revert select\",class:{ 'active': _vm.buttonsState.fourthButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'fourthButton')},\"touchend\":function($event){return _vm.touchEndHandler('fourthButton')}}},[_c('span',[_vm._v(\"Выбор\")]),_vm._m(5)]),_c('button',{staticClass:\"control-button revert cancel\",class:{ 'active': _vm.buttonsState.fifthButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'fifthButton')},\"touchend\":function($event){return _vm.touchEndHandler('fifthButton')}}},[_c('span',[_vm._v(\"Отмена\")]),_vm._m(6)]),_c('button',{staticClass:\"control-button revert menu\",class:{ 'active': _vm.buttonsState.sixthButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'sixthButton')},\"touchend\":function($event){return _vm.touchEndHandler('sixthButton')}}},[_c('span',[_vm._v(\"Главное меню\")]),_vm._m(7)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"a-icon\"},[_vm._v(\"a\")]),_c('span',[_vm._v(\"Прокрутка файлов\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"description\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/upper_folder.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"..\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/info.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/star.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/settings.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/select.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/cancel.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/menu.svg\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"file-union-button\",class:{'active': _vm.fileData.isSelected },on:{\"touchstart\":_vm.touchStartHandler}},[(_vm.fileData.isSelected)?_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"description\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/big_cube.svg\"),\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.fileData.name))]),_c('div',{staticClass:\"meta-info\"},[_c('span',{staticClass:\"date\"},[_vm._v(\"Дата: \"+_vm._s(_vm.fileData.modified))]),_c('span',{staticClass:\"size\"},[_vm._v(\"Размер: \"+_vm._s(_vm.fileData.computedSize))]),_c('span',{staticClass:\"print-time\"},[_vm._v(\"Время печати: \"+_vm._s(_vm.fileData.printingTime))])])]),_c('hr')]):_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"description\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/small_cube.svg\"),\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.fileData.name))])]),_c('hr')])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { FileData } from '@/store/ourExtension/files/types';\nimport { Prop, Component, Vue } from 'vue-property-decorator';\n\n\n@Component({})\nexport default class FileButton extends Vue {\n    @Prop()\n    fileData!: FileData\n\n    chooseFile() {\n        this.$store.commit('ourExtension/layoutsData/newFileBrowseWindow/deactivateFiles');\n        this.fileData.isSelected = true;\n    }\n\n    touchStartHandler() {\n        this.$store.commit('ourExtension/layoutsData/newFileBrowseWindow/deactivateFiles');\n        this.fileData.isSelected = true;\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileButton.vue?vue&type=template&id=7975205f&\"\nimport script from \"./FileButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"file-union-button\",class:{'active': _vm.directoryData.isSelected },on:{\"touchstart\":_vm.touchStartHandler}},[(_vm.directoryData.isSelected)?_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"description\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/big_cube.svg\"),\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.directoryData.name))]),_c('div',{staticClass:\"meta-info\"},[_c('span',{staticClass:\"date\"},[_vm._v(\"Дата: \"+_vm._s(_vm.directoryData.modified))]),_c('span',{staticClass:\"size\"},[_vm._v(\"Размер: \"+_vm._s(_vm.directoryData.computedSize))])])]),_c('hr')]):_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"description\"},[_c('img',{attrs:{\"src\":require(\"@/style/fileSelectWindow/img/folder_button.svg\"),\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.directoryData.name))])]),_c('hr')])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { DirectoryData } from '@/store/ourExtension/files/types';\nimport { Prop, Component, Vue } from 'vue-property-decorator';\n\n\n@Component({})\nexport default class FolderButton extends Vue {\n    @Prop()\n    directoryData!: DirectoryData\n\n    get currentPath() {\n        return this.$store.getters['ourExtension/layoutsData/newFileBrowseWindow/getCurrentPath']\n    }\n\n    touchStartHandler() {\n        this.$store.commit('ourExtension/layoutsData/newFileBrowseWindow/deactivateFiles');\n        this.directoryData.isSelected = true;\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FolderButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FolderButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FolderButton.vue?vue&type=template&id=15f14b7f&\"\nimport script from \"./FolderButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FolderButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { DirectoryData, FileData, LastPrintingFile } from '@/store/ourExtension/files/types';\nimport { Component, Mixins, Vue, Watch } from 'vue-property-decorator';\nimport FileButton from './FileButton.vue';\nimport FolderButton from './FolderButton.vue';\nimport { AlertType, InfoAlertType } from '@/store/ourExtension/layoutsData/alerts/types';\nimport { Alerts } from '@/store/ourExtension/layoutsData/alerts/helpers';\nimport { mockHelper } from '@/helpers/mockHelper';\nimport StateMixin from '@/mixins/state';\nimport WindowsMixin from '@/mixins/windows';\nimport GpioMixin from '@/mixins/gpio';\n\nimport { PrintingDiapasonForMoonraker } from '@/store/ourExtension/profiles/types';\nimport FilesMixin from '@/mixins/files';\n\n\n\n@Component({\n    components: {\n        FileButton, FolderButton\n    },\n})\nexport default class FileSelectWindow extends Mixins(StateMixin, WindowsMixin, FilesMixin, GpioMixin) {\n\n    buttonsState = {  // флаги для бинда .active класса для мнгновенной подмены картинок по touchstart\n        firstButton: false,  // Информация о файле\n        secondButton: false,  // Режимы наплавки\n        thirdButton: false,  // Допечатная подготовка\n        fourthButton: false,  // Выбор\n        fifthButton: false,  // Отмена\n        sixthButton: false  // Главное меню\n    }\n\n    get absolutelyEmpty(): boolean {\n        return !this.isDirectorySelected && !Boolean(this.fileList) && !Boolean(this.directoryList)\n    }\n\n    get fileList(): Array<FileData> {\n        return this.$store.getters['ourExtension/layoutsData/newFileBrowseWindow/getFileList']()\n    }\n\n    get directoryList(): Array<FileData> {\n        return this.$store.getters['ourExtension/layoutsData/newFileBrowseWindow/getDirectoryList']\n    }\n\n    get isDirectorySelected(): boolean {\n        return this.currentPath !== \"\" && this.currentPath !== \"gcodes\"  // TODO в оригинале не было проверки на пустую строку\n    }\n\n    get selectedDirectory(): DirectoryData | null {\n        return this.$store.getters['ourExtension/layoutsData/newFileBrowseWindow/getUsualSelectedDirectory']\n    }\n\n    get selectedFile(): FileData | null {\n        return this.$store.getters['ourExtension/layoutsData/newFileBrowseWindow/getUsualSelectedFile']\n    }\n\n    get currentPath(): string {\n        return this.$store.getters['ourExtension/layoutsData/newFileBrowseWindow/getCurrentPath']\n    }\n\n    mounted(): void {\n        this.deactivateFiles()\n    }\n\n    beforeDestroy() {\n        this.deactivateFiles()\n        this.setAllButtonsPressed(false)\n    }\n\n    deactivateFiles() {\n        this.$store.commit('ourExtension/layoutsData/newFileBrowseWindow/deactivateFiles');\n    }\n\n    touchStartHandler(e: TouchEvent, button: string) {\n        if (button in this.buttonsState) {\n            this.setAllButtonsPressed(false)\n            const state = this.buttonsState as any\n            state[button] = true\n            if (e.cancelable) {\n                e.preventDefault()\n                e.stopPropagation()\n            }\n            this.resolveButtonClick(button)\n        }\n    }\n\n    resolveButtonClick(button: string) {\n        switch (button) {\n            case \"fourthButton\":  // Выбор\n                this.selectButtonClick()\n                return;\n            case \"fifthButton\":  // Выбор\n                return;\n            default:\n                return;\n        }\n    }\n\n    touchEndHandler(button: string) {\n        if (button in this.buttonsState) {\n            const state = this.buttonsState as any\n            state[button] = false\n        }\n    }\n\n\n\n    selectButtonClick() {\n        // this.tryToStartPrint();  // TODO раскоммениторовать и убрать\n        const selectedFile = this.selectedFile\n        const selectedDirectory = this.selectedDirectory\n        if (selectedFile) {\n            this.tryToStartPrint()\n            return\n        }\n        if (selectedDirectory) {\n            this.$store.commit('ourExtension/layoutsData/newFileBrowseWindow/deactivateFiles');\n            const newPath = this.currentPath + \"/\" + selectedDirectory.name\n            this.$store.dispatch('ourExtension/layoutsData/newFileBrowseWindow/setCurrentPath', newPath);\n            return\n        }\n        const alert: InfoAlertType = {\n            message: \"Ничего не выбрано\",\n            type: 'red'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    tryToStartPrint() {\n        if (this.printerPrinting || this.printerPaused) {\n            const alert: AlertType = {\n                message: 'Принтер уже печатает. Открыто окно текущей печати',\n                type: 'ok'\n            }\n            this.$store.dispatch('ourExtension/layoutsData/alerts/addToAlertQueue', alert)\n            this.initExisitingPrintingWindow()\n            this.$router.push('/print')\n            return\n        } else {\n            this.startNewPrint()\n        }\n    }\n\n    fileMustBeSelectedAlert() {\n        const alert: InfoAlertType = {\n            message: \"Ничего не выбрано\",\n            type: 'red'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    startNewPrint() {\n        // const selectedFile = mockHelper.getFileDataMock()\n        const selectedFile = this.selectedFile  // Поменять местами\n        if (selectedFile) {\n\n            this.$store.commit('ourExtension/files/setSelectedFile', selectedFile)\n\n            let diapasonForMoonraker: PrintingDiapasonForMoonraker;\n            let allLayersFlag = true\n            let firstLayer = null\n            let lastLayer = null\n            let profile = this.$store.getters['ourExtension/profiles/getLastPrintingProfile']()  // TODO учесть логику выбора профилей\n            if (!profile) {\n                profile = mockHelper.getProfileMock()\n            }\n            diapasonForMoonraker = {\n                profile: JSON.parse(JSON.stringify(profile)),\n                allLayersFlag: true,\n                firstLayer: null,\n                lastLayer: null\n            }\n            this.printFile(diapasonForMoonraker, selectedFile)\n        } else {\n            this.fileMustBeSelectedAlert()\n        }\n    }\n\n    async printFile(diapasonForMoonraker: PrintingDiapasonForMoonraker, file: FileData) {\n        this.initNewPrintingWindow(diapasonForMoonraker, file)\n        this.$router.push('/print')\n        // const response = await this.sendProfile(diapasonForMoonraker)  // TODO убрать первые 2 строки и раскомментировать\n        // if (response.status && response.status === 201) {\n        //     const lastPrintingFile: LastPrintingFile = {\n        //         diapason: diapasonForMoonraker,\n        //         file: file\n        //     }\n        //     this.$store.commit('ourExtension/files/setLastPrintingFile', lastPrintingFile)\n        //     this.initNewPrintingWindow(diapasonForMoonraker, file)\n        //     this.$router.push('/print')\n        // } else {\n        //     const alert: InfoAlertType = {\n        //         message: \"Не удалось отправить профиль печати\",\n        //         type: 'red'\n        //     }\n        //     Alerts.showInfoAlert(alert)\n        // }\n    }\n\n    openPreviousDirectory() {\n        this.$store.commit('ourExtension/layoutsData/newFileBrowseWindow/deactivateFiles');\n        const lastSlash = this.currentPath.lastIndexOf('/')\n        if (lastSlash != -1) {\n            const newPath = this.currentPath.slice(0, lastSlash)\n            this.$store.dispatch('ourExtension/layoutsData/newFileBrowseWindow/setCurrentPath', newPath);\n        }\n    }\n\n\n    /// GPIO SUPPORT:\n\n    // 1. Унаследоваться от GpioMixin\n    // 2. beforeDestroy: this.setAllButtonsPressed(false)\n    // 3. touchStartHandler: this.setAllButtonsPressed(false)\n    // 4. Скопировать все нижележащее \n\n    gpioButtonDownEventHandler(button: string) {\n        if (button in this.buttonsState) {\n            const state = this.buttonsState as any\n            state[button] = true\n        }\n    }\n\n    gpioButtonUpEventHandler(button: string, needToResolveClick = true) {\n        if (button in this.buttonsState) {\n            const state = this.buttonsState as any\n            state[button] = false\n            if (needToResolveClick) {\n                this.resolveButtonClick(button)\n            }\n        }\n    }\n\n    @Watch('isFirstButtonPressed')\n    firstButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isFirstButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('firstButton')\n        } else {\n            if (!this.buttonsInterrups.firstButton) {\n                this.gpioButtonUpEventHandler('firstButton')\n            } else {\n                this.gpioButtonUpEventHandler('firstButton', false)\n            }\n        }\n    }\n\n    @Watch('isSecondButtonPressed')\n    secondButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isSecondButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('secondButton')\n        } else {\n            if (isPressed) {\n                this.gpioButtonUpEventHandler('secondButton')\n            } else {\n                if (!this.buttonsInterrups.secondButton) {\n                    this.gpioButtonUpEventHandler('secondButton')\n                } else {\n                    this.gpioButtonUpEventHandler('secondButton', false)\n                }\n            }\n        }\n    }\n\n    @Watch('isThirdButtonPressed')\n    thirdButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isThirdButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('thirdButton')\n        } else {\n            if (!this.buttonsInterrups.thirdButton) {\n                this.gpioButtonUpEventHandler('thirdButton')\n            } else {\n                this.gpioButtonUpEventHandler('thirdButton', false)\n            }\n        }\n    }\n\n    @Watch('isFourthButtonPressed')\n    fourthButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isFourthButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('fourthButton')\n        } else {\n            if (!this.buttonsInterrups.fourthButton) {\n                this.gpioButtonUpEventHandler('fourthButton')\n            } else {\n                this.gpioButtonUpEventHandler('fourthButton', false)\n            }\n        }\n    }\n\n    @Watch('isFifthButtonPressed')\n    fifthButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isFifthButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('fifthButton')\n        } else {\n            if (!this.buttonsInterrups.fifthButton) {\n                this.gpioButtonUpEventHandler('fifthButton')\n            } else {\n                this.gpioButtonUpEventHandler('fifthButton', false)\n            }\n        }\n    }\n\n    @Watch('isSixthButtonPressed')\n    sixthButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isSixthButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('sixthButton')\n        } else {\n            if (!this.buttonsInterrups.sixthButton) {\n                this.gpioButtonUpEventHandler('sixthButton')\n            } else {\n                this.gpioButtonUpEventHandler('sixthButton', false)\n            }\n        }\n    }\n\n    @Watch('encoder1State')\n    encoder1Watcher() {\n        console.log(this.encoder1State.emited)\n    }\n    /// TEMPLATE:\n\n    // @Watch('isFirstButtonPressed')\n    // firstButtonWather() {\n    //     const isPressed = this.isFirstButtonPressed\n    //     if (isPressed) {\n    //         console.log('Нажата первая кнопка')\n    //     } else {\n    //         console.log('Отпущена первая кнопка')\n    //     }\n    // }\n\n    // @Watch('isSecondButtonPressed')\n    // secondButtonWather() {\n    //     const isPressed = this.isSecondButtonPressed\n    //     if (isPressed) {\n    //         console.log('Нажата вторая кнопка')\n    //     } else {\n    //         console.log('Отпущена вторая кнопка')\n    //     }\n    // }\n\n    // @Watch('isThirdButtonPressed')\n    // thirdButtonWather() {\n    //     const isPressed = this.isThirdButtonPressed\n    //     if (isPressed) {\n    //         console.log('Нажата третья кнопка')\n    //     } else {\n    //         console.log('Отпущена третья кнопка')\n    //     }\n    // }\n\n    // @Watch('isFourthButtonPressed')\n    // fourthButtonWather() {\n    //     const isPressed = this.isFourthButtonPressed\n    //     if (isPressed) {\n    //         console.log('Нажата четвертая кнопка')\n    //     } else {\n    //         console.log('Отпущена четвертая кнопка')\n    //     }\n    // }\n\n    // @Watch('isFifthButtonPressed')\n    // fifthButtonWather() {\n    //     const isPressed = this.isFifthButtonPressed\n    //     if (isPressed) {\n    //         console.log('Нажата пятая кнопка')\n    //     } else {\n    //         console.log('Отпущена пятая кнопка')\n    //     }\n    // }\n\n    // @Watch('isSixthButtonPressed')\n    // sixthButtonWather() {\n    //     const isPressed = this.isSixthButtonPressed\n    //     if (isPressed) {\n    //         console.log('Нажата шестая кнопка')\n    //     } else {\n    //         console.log('Отпущена шестая кнопка')\n    //     }\n    // }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileSelectWindow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileSelectWindow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileSelectWindow.vue?vue&type=template&id=e6d0cab6&\"\nimport script from \"./FileSelectWindow.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileSelectWindow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileSelectWindow.vue?vue&type=style&index=0&id=e6d0cab6&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"print-window\"},[(!_vm.pause)?_c('div',{staticClass:\"green-indicator\"}):_vm._e(),(_vm.pause)?_c('div',{staticClass:\"red-indicator\"}):_vm._e(),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"time-and-operation\"},[_c('div',{staticClass:\"time-holder\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(_vm._s(_vm.actualTime))]),_c('div',{staticClass:\"operation-container\"},[_vm._v(_vm._s(_vm.localPrinterState)+\"...\")])]),_c('div',{staticClass:\"warnings-container\"},[(_vm.warningFlag)?_c('span',[_vm._v(\"WARNING\")]):_vm._e(),(_vm.noGasFlag)?_c('span',[_vm._v(\"NO GAS\")]):_vm._e()])]),_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"rejim\"},[_c('span',[_vm._v(\"Параметры режима: \")]),_c('span',[_vm._v(_vm._s(_vm.printingDiapason.profile.name))])]),_c('div',{staticClass:\"print-params-buttons\"},[_c('div',{staticClass:\"colorful-buttons\"},[_c('button',{staticClass:\"parameter-button with-icon\"},[_vm._m(0),_c('div',{staticClass:\"button-info\"},[_c('span',[_vm._v(_vm._s(_vm.current))]),_c('div',{staticClass:\"underline\"}),_c('span',[_vm._v(\"Ток, А\")])])]),_c('button',{staticClass:\"parameter-button with-icon\"},[_vm._m(1),_c('div',{staticClass:\"button-info\"},[_c('span',[_vm._v(_vm._s(_vm.voltage))]),_c('div',{staticClass:\"underline\"}),_c('span',[_vm._v(\"Напряжение, В\")])])]),_c('button',{staticClass:\"parameter-button\"},[_c('span',[_vm._v(_vm._s(_vm.feedRate))]),_c('div',{staticClass:\"underline\"}),_c('span',[_vm._v(\"V подачи, м/мин\")])])]),_c('span',{staticClass:\"print-params-span\"},[_vm._v(\"Параметры печати:\")]),_c('div',{staticClass:\"usual-buttons\"},[_c('button',{staticClass:\"parameter-button\"},[_vm._m(2),_c('span',[_vm._v(\"Тип: \"+_vm._s(_vm.oscillationType))])]),_c('button',{staticClass:\"parameter-button\"},[_c('span',[_vm._v(_vm._s(_vm.weldingSpeed))]),_c('span',[_vm._v(\"V печати, м/мин\")])]),_c('button',{staticClass:\"parameter-button\"},[_c('span',[_vm._v(_vm._s(_vm.shift))]),_c('span',[_vm._v(\"Сдвиг Z, мм\")])])])]),_c('div',{staticClass:\"control-prints\"},[_vm._m(3),_vm._m(4),_c('div',{staticClass:\"control-print img layers\"},[_c('span',[_vm._v(\"Слои: \"+_vm._s(_vm.printLayer)+\"/\"+_vm._s(_vm.file.layers))]),_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/layers.svg\"),\"alt\":\"\"}})]),_vm._m(5)])]),_c('div',{staticClass:\"control-buttons\"},[(_vm.isPrinting)?_c('CircleBar'):_vm._e(),(!_vm.isPrinting)?_c('button',{staticClass:\"control-button move\",class:{ 'active': _vm.buttonsState.firstButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'firstButton')},\"touchend\":function($event){return _vm.touchEndHandler('firstButton')}}},[_vm._m(6),_c('span',[_vm._v(\"Перемещение\")])]):_vm._e(),(!_vm.isPrinting)?_c('button',{staticClass:\"control-button layer-settings\",class:{ 'active': _vm.buttonsState.secondButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'secondButton')},\"touchend\":function($event){return _vm.touchEndHandler('secondButton')}}},[_vm._m(7),_c('span',[_vm._v(\"Параметры слоя\")])]):_vm._e(),(!_vm.isPrinting)?_c('button',{staticClass:\"control-button settings\",class:{ 'active': _vm.buttonsState.thirdButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'thirdButton')},\"touchend\":function($event){return _vm.touchEndHandler('thirdButton')}}},[_vm._m(8),_c('span',[_vm._v(\"Настройки\")])]):_vm._e(),_c('button',{staticClass:\"control-button revert shift-plus\",class:{ 'active': _vm.buttonsState.fourthButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'fourthButton')},\"touchend\":function($event){return _vm.touchEndHandler('fourthButton')}}},[_c('span',[_vm._v(\"Сдвиг +\")]),_vm._m(9)]),_c('button',{staticClass:\"control-button revert shift-minus\",class:{ 'active': _vm.buttonsState.fifthButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'fifthButton')},\"touchend\":function($event){return _vm.touchEndHandler('fifthButton')}}},[_c('span',[_vm._v(\"Сдвиг -\")]),_vm._m(10)]),_c('button',{staticClass:\"control-button revert arc\",class:{ 'active': _vm.buttonsState.sixthButton },on:{\"touchstart\":function($event){return _vm.touchStartHandler($event, 'sixthButton')},\"touchend\":function($event){return _vm.touchEndHandler('sixthButton')}}},[_c('span',[_vm._v(\"Дуга неизвестна\")]),_vm._m(11)])],1),(!_vm.isPrinting)?_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"file-info\"},[_c('div',{staticClass:\"filename\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/file_icon.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.fileName))])]),_c('div',{staticClass:\"progress\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/progress.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Прогресс: \"+_vm._s(_vm.printProgress)+\"%\")])])]),_c('div',{staticClass:\"progress-bar-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/progress_bar.svg\"),\"alt\":\"\"}}),_c('ProgressBar')],1)]):_vm._e(),(_vm.isPrinting)?_c('div',{staticClass:\"only-filename\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/big_file_icon.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(_vm.fileName))])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"icon-wrapper\"},[_c('div',{staticClass:\"a-icon\"},[_vm._v(\"a\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"icon-wrapper\"},[_c('div',{staticClass:\"b-icon\"},[_vm._v(\"b\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/oscillation.svg\"),\"width\":\"105\",\"height\":\"1\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"control-print current\"},[_c('div',{staticClass:\"a-icon\"},[_vm._v(\"a\")]),_c('span',[_vm._v(\"Ток источника\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"control-print voltage\"},[_c('div',{staticClass:\"b-icon\"},[_vm._v(\"b\")]),_c('span',[_vm._v(\"Напряжение источника\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"control-print img heigth\"},[_c('span',[_vm._v(\"Высота, мм: 846\")]),_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/heigth.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/move.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/layer_settings.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/settings.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/shift_plus.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/shift_minus.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/arc.svg\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"progress-wrapper\"},[_c('div',{ref:\"progressBar\",staticClass:\"progress\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator';\n\n@Component({\n    components: {\n\n    },\n})\nexport default class ProgressBar extends Vue {\n    mounted() {\n        setTimeout(() => {\n            const progress = this.printProgress\n            const progressBar = this.$refs.progressBar as HTMLElement\n            if (progressBar) {\n                this.setProgressBarPercent(progress, progressBar)\n            }\n        }, 100)\n\n    }\n\n    get printProgress(): number {  // В процентах\n        let progress = this.$store.getters['printer/getPrintProgress']\n        progress = +(progress * 100).toFixed(0)\n\n        const progressBar = this.$refs.progressBar as HTMLElement\n        if (progressBar) {\n            this.setProgressBarPercent(progress, progressBar)\n        }\n        return progress\n    }\n\n    setProgressBarPercent(percent: number, progressBar: HTMLElement) {\n        progressBar.style.width = `${percent}%`\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ProgressBar.vue?vue&type=template&id=347b8a1a&\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"big-round-button-wrapper\"},[_c('button',{staticClass:\"big-round-button\"},[_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s(_vm.printProgress)+\"%\")]),_c('svg',[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"grad1\"}},[_c('stop',{attrs:{\"offset\":\"0%\",\"stop-color\":\"rgba(0, 178, 202, 1)\"}}),_c('stop',{attrs:{\"offset\":\"100%\",\"stop-color\":\"rgba(4, 112, 200, 1)\",\"stop-opacity\":\"1\"}})],1)],1),_c('circle',{ref:\"circleBar\",attrs:{\"transform\":\"rotate(-90 176 176)\",\"stroke-dasharray\":\"423.9 518.1\",\"cx\":\"176\",\"cy\":\"176\",\"r\":\"150\",\"stroke\":\"url(#grad1)\",\"stroke-width\":\"7px\",\"fill\":\"transparent\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator';\n\n@Component({\n    components: {\n\n    },\n})\nexport default class CircleBar extends Vue {\n    mounted() {\n        const progress = this.printProgress\n        const circleBar = this.$refs.circleBar as SVGElement\n        if (circleBar) {\n            this.setPercent(progress, circleBar)\n        }\n    }\n\n    get printProgress(): number {  // В процентах\n        let progress = this.$store.getters['printer/getPrintProgress']\n        progress = +(progress * 100).toFixed(0)\n\n        const circleBar = this.$refs.circleBar as SVGElement\n        if (circleBar) {\n            this.setPercent(progress, circleBar)\n        }\n        return progress\n    }\n\n    setPercent(percent: number, circleBar: SVGElement) {\n        const circleLength = 2 * Math.PI * 130\n        const progressPercent = circleLength * percent / 100\n        const probelPercent = circleLength - progressPercent\n        circleBar.style.strokeDasharray = `${progressPercent} ${probelPercent}`\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CircleBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CircleBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CircleBar.vue?vue&type=template&id=36e9061d&\"\nimport script from \"./CircleBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./CircleBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { SocketActions } from '@/api/socketActions';\nimport StateMixin from '@/mixins/state';\nimport WindowsMixin from '@/mixins/windows';\nimport { FileData } from '@/store/ourExtension/files/types';\nimport { Alerts } from '@/store/ourExtension/layoutsData/alerts/helpers';\nimport { InfoAlertType, AlertType } from '@/store/ourExtension/layoutsData/alerts/types';\nimport { PrintingDiapasonForMoonraker, ProfilesMetadata } from '@/store/ourExtension/profiles/types';\nimport { Component, Mixins, Vue, Watch } from 'vue-property-decorator';\nimport ProgressBar from './ProgressBar.vue';\nimport CircleBar from './CircleBar.vue';\nimport GpioMixin from '@/mixins/gpio';\n\n@Component({\n    components: {\n        ProgressBar, CircleBar\n    },\n})\nexport default class PrintWindow extends Mixins(WindowsMixin, StateMixin, GpioMixin) {\n    warningFlag = false\n    noGasFlag = false\n    processingSetter: string = ''\n\n    buttonsState = {  // флаги для бинда .active класса для мнгновенной подмены картинок по touchstart\n        firstButton: false,  // Перемещение\n        secondButton: false,  // Параметры слоя\n        thirdButton: false, // Настройки\n        fourthButton: false,  // Сдвиг +\n        fifthButton: false,  // Сдвиг -\n        sixthButton: false  // Дуга\n    }\n\n    mounted() {\n        setTimeout(() => { this.setPrintProgress() }, 100)\n    }\n\n    beforeDestroy() {\n        this.setAllButtonsPressed(false)\n    }\n\n    setPrintProgress() {\n        const progress = this.printProgress\n        const circleBar = this.$refs.circleBar as SVGElement\n        const progressBar = this.$refs.progressBar as HTMLElement\n        if (circleBar) {\n            this.setPercent(progress, circleBar)\n        }\n        if (progressBar) {\n            this.setProgressBarPercent(progress, progressBar)\n        }\n    }\n\n    setProgressBarPercent(percent: number, progressBar: HTMLElement) {\n        progressBar.style.width = `${percent}%`\n    }\n\n    setPercent(percent: number, circleBar: SVGElement) {\n        const circleLength = 2 * Math.PI * 130\n        const progressPercent = circleLength * percent / 100\n        const probelPercent = circleLength - progressPercent\n        circleBar.style.strokeDasharray = `${progressPercent} ${probelPercent}`\n    }\n\n    touchStartHandler(e: TouchEvent, button: string) {\n        if (button in this.buttonsState) {\n            this.setAllButtonsPressed(false)\n            const state = this.buttonsState as any\n            state[button] = true\n            if (e.cancelable) {\n                e.preventDefault()\n                e.stopPropagation()\n            }\n            this.resolveButtonClick(button)\n        }\n    }\n\n    resolveButtonClick(button: string) {\n        switch (button) {\n            case \"fourthButton\":  // Сдвиг +\n                this.shiftPlus()\n                return;\n            case \"fifthButton\":  // Сдвиг -\n                this.shiftMinus()\n                return;\n            default:\n                return;\n        }\n    }\n\n    shiftPlus() {\n        this.shift = +(this.shift + 0.1).toFixed(1)\n    }\n\n    shiftMinus() {\n        this.shift = +(this.shift - 0.1).toFixed(1)\n    }\n\n    touchEndHandler(button: string) {\n        if (button in this.buttonsState) {\n            const state = this.buttonsState as any\n            state[button] = false\n        }\n    }\n\n    currentPlus() {\n        this.current = +(this.current + 1).toFixed(1)\n    }\n\n    currentMinus() {\n        this.current = +(this.current - 1).toFixed(1)\n    }\n\n    voltagePlus() {\n        this.voltage = +(this.voltage + 1).toFixed(1)\n    }\n\n    voltageMinus() {\n        this.voltage = +(this.voltage - 1).toFixed(1)\n    }\n\n    get actualTime(): string {\n        return this.$store.getters['ourExtension/layoutsData/baseLayout/getActualTime']();\n    }\n\n    get isPrinting(): boolean {\n        return this.printerState.toLowerCase() === 'printing'\n    }\n\n    get pause(): boolean {\n        return this.printerState.toLowerCase() === 'paused'\n    }\n\n\n    get printProgress(): number {  // В процентах\n        let progress = this.$store.getters['printer/getPrintProgress']\n        progress = +(progress * 100).toFixed(0)\n        const circleBar = this.$refs.circleBar as SVGElement\n        if (circleBar) {\n            this.setPercent(progress, circleBar)\n        }\n        const progressBar = this.$refs.progressBar as HTMLElement\n        if (progressBar) {\n            this.setProgressBarPercent(progress, progressBar)\n        }\n        return progress\n    }\n\n    get printLayer(): number {\n        return this.$store.getters['printer/getPrintLayer']\n    }\n\n    get localPrinterState(): string {\n        switch (this.printerState.toLowerCase()) {\n            case 'loading':\n                return 'Загрузка'\n            case 'printing':\n                return 'Печатается'\n            case 'paused':\n                return 'Приостановлено'\n            case 'busy':\n                return 'Принтер занят'\n            case 'cancelled':\n                return 'Отменено'\n            case 'ready':\n                return 'Готов к печати'\n            case 'idle':\n                return 'Бездействует'\n            default:\n                break;\n        }\n        return this.printerState.toLowerCase()\n    }\n\n    get file(): FileData {\n        return this.$store.getters['ourExtension/layoutsData/printingWindow/getFile']()\n    }\n\n    get fileName(): string {\n        let name = this.file.name\n        if (name.length > 30) {\n            name = name.slice(0, 30) + '...'\n        }\n        return name\n    }\n\n    get printSettingsFLag() {\n        return this.$store.getters['ourExtension/windowFlags/getPrintSettingsWindowFlag']\n    }\n\n    get printingDiapason(): PrintingDiapasonForMoonraker {\n        return this.$store.getters['ourExtension/layoutsData/printingWindow/getPrintingDiapason']()\n    }\n\n    get current(): number {\n        return this.printingDiapason.profile.profileMainParameters.current\n    }\n\n    set current(newValue: number) {\n        this.printingDiapason.profile.profileMainParameters.current = newValue\n    }\n\n    get voltage(): number {\n        return this.printingDiapason.profile.profileMainParameters.voltage\n    }\n\n    set voltage(newValue: number) {\n        this.printingDiapason.profile.profileMainParameters.voltage = newValue\n    }\n\n    get feedRate(): number {\n        return this.printingDiapason.profile.profileMainParameters.feedRate\n    }\n\n    set feedRate(newValue: number) {\n        this.printingDiapason.profile.profileMainParameters.feedRate = newValue\n    }\n\n    get oscillationType(): string {\n        return this.printingDiapason.profile.profileOscilationParameters.type\n    }\n\n    set oscillationType(newValue: string) {\n        this.printingDiapason.profile.profileOscilationParameters.type = newValue\n    }\n\n    get weldingSpeed(): number {\n        return this.printingDiapason.profile.profileAdditionalParameters.weldingSpeed\n    }\n\n    set weldingSpeed(newValue: number) {\n        this.printingDiapason.profile.profileAdditionalParameters.weldingSpeed = newValue\n    }\n\n    get shift(): number {\n        return this.$store.getters['ourExtension/layoutsData/printingWindow/getShift']\n    }\n\n    set shift(newValue: number) {\n        this.$store.state.ourExtension.layoutsData.printingWindow.shift = newValue\n    }\n\n    get profilesMetadata(): ProfilesMetadata {\n        return this.$store.getters['ourExtension/profiles/getProfilesMetadata']\n    }\n\n\n\n    round(value: number) {\n        return Math.round(+value * 10) / 10;\n    }\n\n    openPrintSettings() {\n        this.$store.dispatch('ourExtension/windowFlags/openPrintSettingsWindow')\n    }\n\n    parameterClickHandler(parameterName: string, setter: string, valcoderStep: number) {\n        let rejectPoint = true\n        this.processingSetter = setter\n        let initValue = 0\n        if (setter in this) {\n            const context = this as any\n            initValue = context[setter]\n        }\n        const callback = this.newValueReceiver.bind(this)\n        if (valcoderStep / valcoderStep !== 1) {\n            rejectPoint = false\n        }\n        this.openInputWindow(false, parameterName, initValue, valcoderStep, 'void', callback, 2000, -2000, rejectPoint, '')\n    }\n\n    newValueReceiver(newValue: number) {\n        if (this.processingSetter in this) {\n            const context = this as any\n            context[this.processingSetter] = newValue\n        }\n        this.processingSetter = ''\n    }\n\n    listClickHandler(setter: string) {\n        let initList: string[] = []\n        const callback = this.newStringValueReceiver.bind(this)\n        if (setter === 'oscillationType') {\n            initList = this.profilesMetadata.oscilationTypes\n        }\n        this.processingSetter = setter\n        this.openSelectWindowWithoutIcon(callback, initList)\n    }\n\n    newStringValueReceiver(newValue: string) {\n        if (this.processingSetter in this) {\n            const context = this as any\n            context[this.processingSetter] = newValue\n        }\n        this.processingSetter = ''\n    }\n\n    bigButtonHandler() {\n        if (this.printerAllowedToStartPrint) {\n            this.startPrintAlert()\n            this.startPrint(this.file)\n        } else if (this.printerState.toLowerCase() !== 'printing') {\n            this.pauseAlert()\n            this.pausePrint()\n        } else {\n            this.resumeAlert()\n            this.resumePrint()\n        }\n    }\n\n    clickHandler(buttonName: string) {\n        switch (buttonName) {\n            case 'resume':\n                if (this.printerState.toLowerCase() === 'ready' || this.printerState.toLowerCase() === 'idle' || this.printerState.toLowerCase() === 'cancelled') {\n                    this.startPrintAlert()\n                    this.startPrint(this.file)\n                } else if (this.printerState.toLowerCase() !== 'printing') {\n                    this.resumeAlert()\n                    this.resumePrint()\n                }\n                break;\n            case 'pause':\n                if (this.printerState.toLowerCase() !== 'paused') {\n                    this.pauseAlert()\n                    this.pausePrint()\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    startPrint(file: FileData) {\n        SocketActions.printerPrintStart(file.pathForMoonraker)\n    }\n\n    resumeAlert() {\n        const alert: InfoAlertType = {\n            message: 'Запрошено возобновление печати',\n            type: 'green'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    startPrintAlert() {\n        const alert: InfoAlertType = {\n            message: `Запрошено начало печати файла: ${this.file.pathForMoonraker}`,\n            type: 'green'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    pausePrint() {\n        SocketActions.printerPrintPause()\n        this.addConsoleEntry('PAUSE')\n    }\n\n    pauseAlert() {\n        const alert: InfoAlertType = {\n            message: `Запрошена пауза`,\n            type: 'green'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    resumePrint() {\n        SocketActions.printerPrintResume()\n        this.addConsoleEntry('RESUME')\n    }\n\n    resetFile() {\n        this.sendGcode('SDCARD_RESET_FILE')\n    }\n\n    throwCancelPrintRequest() {\n        if (this.printerPaused || this.printerPrinting) {\n            const callback = this.cancelPrint.bind(this)\n            const alert: AlertType = {\n                header: 'ВНИМАНИЕ!',\n                message: 'Принтер печатает/готовится печатать. Отменить печать?',\n                type: 'yes_no',\n                confirmCallback: callback\n            }\n            this.$store.dispatch('ourExtension/layoutsData/alerts/addToAlertQueue', alert)\n        } else {\n            const alert: InfoAlertType = {\n                message: 'Принтер не печатает',\n                time: 1500,\n                type: 'red'\n            }\n            Alerts.showInfoAlert(alert)\n        }\n\n    }\n\n    cancelPrint() {\n        this.cancelPrintAlert()\n        SocketActions.printerPrintCancel()\n        this.addConsoleEntry('CANCEL_PRINT')\n    }\n\n    cancelPrintAlert() {\n        const alert: InfoAlertType = {\n            message: `Запрошена отмена печати`,\n            type: 'red'\n        }\n        Alerts.showInfoAlert(alert)\n    }\n\n    /// GPIO SUPPORT:\n\n    gpioButtonDownEventHandler(button: string) {\n        if (button in this.buttonsState) {\n            const state = this.buttonsState as any\n            state[button] = true\n        }\n    }\n\n    gpioButtonUpEventHandler(button: string, needToResolveClick = true) {\n        if (button in this.buttonsState) {\n            const state = this.buttonsState as any\n            state[button] = false\n            if (needToResolveClick) {\n                this.resolveButtonClick(button)\n            }\n        }\n    }\n\n    @Watch('isFirstButtonPressed')\n    firstButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isFirstButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('firstButton')\n        } else {\n            if (!this.buttonsInterrups.firstButton) {\n                this.gpioButtonUpEventHandler('firstButton')\n            } else {\n                this.gpioButtonUpEventHandler('firstButton', false)\n            }\n        }\n    }\n\n    @Watch('isSecondButtonPressed')\n    secondButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isSecondButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('secondButton')\n        } else {\n            if (isPressed) {\n                this.gpioButtonUpEventHandler('secondButton')\n            } else {\n                if (!this.buttonsInterrups.secondButton) {\n                    this.gpioButtonUpEventHandler('secondButton')\n                } else {\n                    this.gpioButtonUpEventHandler('secondButton', false)\n                }\n            }\n        }\n    }\n\n    @Watch('isThirdButtonPressed')\n    thirdButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isThirdButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('thirdButton')\n        } else {\n            if (!this.buttonsInterrups.thirdButton) {\n                this.gpioButtonUpEventHandler('thirdButton')\n            } else {\n                this.gpioButtonUpEventHandler('thirdButton', false)\n            }\n        }\n    }\n\n    @Watch('isFourthButtonPressed')\n    fourthButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isFourthButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('fourthButton')\n        } else {\n            if (!this.buttonsInterrups.fourthButton) {\n                this.gpioButtonUpEventHandler('fourthButton')\n            } else {\n                this.gpioButtonUpEventHandler('fourthButton', false)\n            }\n        }\n    }\n\n    @Watch('isFifthButtonPressed')\n    fifthButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isFifthButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('fifthButton')\n        } else {\n            if (!this.buttonsInterrups.fifthButton) {\n                this.gpioButtonUpEventHandler('fifthButton')\n            } else {\n                this.gpioButtonUpEventHandler('fifthButton', false)\n            }\n        }\n    }\n\n    @Watch('isSixthButtonPressed')\n    sixthButtonWather(newValue: boolean, oldValue: boolean) {\n        const isPressed = this.isSixthButtonPressed\n        if (isPressed) {\n            this.gpioButtonDownEventHandler('sixthButton')\n        } else {\n            if (!this.buttonsInterrups.sixthButton) {\n                this.gpioButtonUpEventHandler('sixthButton')\n            } else {\n                this.gpioButtonUpEventHandler('sixthButton', false)\n            }\n        }\n    }\n\n    @Watch('encoder1State')\n    encoder1Watcher() {\n        if (this.encoder1State.emited) {\n            if (this.encoder1State.isClockwise) {\n                this.currentPlus()\n            } else {\n                this.currentMinus()\n            }\n        }\n    }\n\n    @Watch('encoder2State')\n    encoder2Watcher() {\n        if (this.encoder2State.emited) {\n            if (this.encoder2State.isClockwise) {\n                this.voltagePlus()\n            } else {\n                this.voltageMinus()\n            }\n        }\n    }\n\n\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintWindow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintWindow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PrintWindow.vue?vue&type=template&id=19eceda4&\"\nimport script from \"./PrintWindow.vue?vue&type=script&lang=ts&\"\nexport * from \"./PrintWindow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PrintWindow.vue?vue&type=style&index=0&id=19eceda4&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"oscillation-window\"},[(!_vm.pause)?_c('div',{staticClass:\"green-indicator\"}):_vm._e(),(_vm.pause)?_c('div',{staticClass:\"red-indicator\"}):_vm._e(),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"time-and-operation\"},[_c('div',{staticClass:\"time-holder\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"12:39\")]),_c('div',{staticClass:\"operation-container\"},[_vm._v(\"Пауза...\")])]),_vm._m(0)]),_c('div',{staticClass:\"center\"},[_vm._m(1),_c('div',{staticClass:\"colorful-buttons\"},[_c('button',{staticClass:\"parameter-button with-icon\"},[(_vm.state.type)?_c('div',{staticClass:\"icon-wrapper\"},[_c('div',{staticClass:\"a-icon\"},[_vm._v(\"a\")])]):_vm._e(),_vm._m(2)]),_c('button',{staticClass:\"parameter-button with-icon\"},[(_vm.state.width)?_c('div',{staticClass:\"icon-wrapper\"},[_c('div',{staticClass:\"a-icon\"},[_vm._v(\"a\")])]):_vm._e(),_vm._m(3)]),_c('button',{staticClass:\"parameter-button with-icon\"},[(_vm.state.period)?_c('div',{staticClass:\"icon-wrapper\"},[_c('div',{staticClass:\"a-icon\"},[_vm._v(\"a\")])]):_vm._e(),_vm._m(4)])]),(_vm.state.type)?_c('div',{staticClass:\"oscillation-select\"},[_vm._m(5),_vm._m(6),_vm._m(7),_vm._m(8),_vm._m(9)]):_vm._e()]),_c('div',{staticClass:\"control-buttons\"},[_c('button',{staticClass:\"control-button first\",class:{ 'active': _vm.state.type },on:{\"click\":_vm.typeClick}},[_c('div',{staticClass:\"indicator\"}),_c('span',[_vm._v(\"Тип\")])]),_c('button',{staticClass:\"control-button second\",class:{ 'active': _vm.state.width },on:{\"click\":_vm.widthClick}},[_c('div',{staticClass:\"indicator\"}),_c('span',[_vm._v(\"Ширина\")])]),_c('button',{staticClass:\"control-button third\",class:{ 'active': _vm.state.period },on:{\"click\":_vm.periodClick}},[_c('div',{staticClass:\"indicator\"}),_c('span',[_vm._v(\"Период\")])]),(_vm.state.type)?_c('button',{staticClass:\"control-button revert fourth\",on:{\"click\":_vm.openFileSelect}},[_c('span',[_vm._v(\"Следующая\")]),_vm._m(10)]):_c('button',{staticClass:\"control-button revert fourth increase\"},[_c('span',[_vm._v(\"Увеличить +\")]),_vm._m(11)]),(_vm.state.type)?_c('button',{staticClass:\"control-button revert fifth\"},[_c('span',[_vm._v(\"Предыдущая\")]),_vm._m(12)]):_c('button',{staticClass:\"control-button revert fifth decrease\"},[_c('span',[_vm._v(\"Уменьшить -\")]),_vm._m(13)]),_vm._m(14)]),(_vm.pause)?_c('div',{staticClass:\"footer\"},[_vm._m(15),_vm._m(16)]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"warnings-container\"},[_c('span',[_vm._v(\"WARNING\")]),_c('span',[_vm._v(\"NO GAS\")]),_c('span',[_vm._v(\"COLLISION\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/mini_settings.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Параметры осцилляции:\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"button-info\"},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/many_triangular_active.svg\"),\"width\":\"105\"}})]),_c('div',{staticClass:\"underline\"}),_c('span',[_vm._v(\"Тип\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"button-info\"},[_c('span',[_vm._v(\"12.5\")]),_c('div',{staticClass:\"underline\"}),_c('span',[_vm._v(\"Ширина, мм\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"button-info\"},[_c('span',[_vm._v(\"2.4\")]),_c('div',{staticClass:\"underline\"}),_c('span',[_vm._v(\"Период, мм\")])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"oscillation-button no-osc first\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/no_osc.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Нет осцилляции\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"oscillation-button triangular second\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/triangular.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Треугольная\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"oscillation-button sin third\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/sin.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Синусоида\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"oscillation-button no-osc fourth\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/no_osc.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Нет осцилляции\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"oscillation-button sin fifth\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/sin.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Синусоида\")]),_c('hr')])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/next.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/increase.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/prev.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/oscillationWindow/img/decrease.svg\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"control-button revert sixth\"},[_c('span',[_vm._v(\"По умолчанию\")]),_c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/arc.svg\"),\"alt\":\"\"}})])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"file-info\"},[_c('div',{staticClass:\"filename\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/file_icon.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"3D_Printer_test_fixed_stl_3rd_gen...\")])]),_c('div',{staticClass:\"progress\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/progress.svg\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"Прогресс: 45%\")])])])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"progress-bar-wrapper\"},[_c('img',{attrs:{\"src\":require(\"@/style/printWindow/img/progress_bar.svg\"),\"alt\":\"\"}}),_c('div',{staticClass:\"progress-wrapper\"},[_c('div',{staticClass:\"progress\"})])])\n}]\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator';\n\n@Component({\n    components: {\n\n    },\n})\nexport default class OscillationWindow extends Vue {\n    pause = false\n    state = {\n        type: false,\n        width: true,\n        period: false\n    }\n\n    typeClick() {\n        const falseState = this.getFalseState()\n        falseState.type = true\n        this.state = falseState\n    }\n\n    widthClick() {\n        const falseState = this.getFalseState()\n        falseState.width = true\n        this.state = falseState\n    }\n\n    periodClick() {\n        const falseState = this.getFalseState()\n        falseState.period = true\n        this.state = falseState\n    }\n\n    getFalseState() {\n        const state = JSON.parse(JSON.stringify(this.state)) as any\n        for (const flag in state) {\n            state[flag] = false\n        }\n        return state\n    }\n\n    openFileSelect() {\n        this.$router.push('/')\n    }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OscillationWindow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OscillationWindow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OscillationWindow.vue?vue&type=template&id=1e88817f&\"\nimport script from \"./OscillationWindow.vue?vue&type=script&lang=ts&\"\nexport * from \"./OscillationWindow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OscillationWindow.vue?vue&type=style&index=0&id=1e88817f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\n\n\nimport FileSelectWindow from '@/components/fileSelectWindow/FileSelectWindow.vue'\nimport PrintWindow from '@/components/printWindow/PrintWindow.vue'\nimport OscillationWindow from '@/components/oscillationWindow/OscillationWindow.vue'\n\n\n\n\nVue.use(VueRouter)\n\n\nconst routes: Array<RouteConfig> = [\n    {\n        path: '/',\n        name: 'FileSelectWindow',\n        component: FileSelectWindow\n    },\n\n    {\n        path: '/print',\n        name: 'PrintWindow',\n        component: PrintWindow\n    },\n\n    {\n        path: '/osc',\n        name: 'OscillationWindow',\n        component: OscillationWindow\n    },\n]\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes\n})\n\nexport default router","import { SocketRequest } from \"@/plugins/socketClient\"\nimport { EncoderState } from \"@/store/ourExtension/gpio/types\"\nimport { Alerts } from \"@/store/ourExtension/layoutsData/alerts/helpers\"\nimport { AlertType } from \"@/store/ourExtension/layoutsData/alerts/types\"\nimport { Store } from \"vuex\"\n\nexport class GpioSocket {\n    connection: WebSocket | null = null\n    url = 'ws://localhost:8125'\n    reconnectingTimeout = 1000\n    debug = false\n    stateTimeout: number | null = null\n    store: Store<any>\n    buttonsCommits = new Map([\n        [1, 'ourExtension/gpio/setFirstButton'],\n        [2, 'ourExtension/gpio/setSecondButton'],\n        [3, 'ourExtension/gpio/setThirdButton'],\n        [4, 'ourExtension/gpio/setFourthButton'],\n        [5, 'ourExtension/gpio/setFifthButton'],\n        [6, 'ourExtension/gpio/setSixthButton'],])\n    encodersCommits = new Map([\n        [1, 'ourExtension/gpio/setEncoder1'],\n        [2, 'ourExtension/gpio/setEncoder2']\n    ])\n\n    constructor(store: Store<any>) {\n        this.store = store\n    }\n\n    connect() {\n        this.connection = new WebSocket(this.url)\n\n        this.connection.onopen = () => {\n            console.log('GPIO socket open')\n            this.store.commit('ourExtension/gpio/setSocketConnected', true)\n        }\n\n        this.connection.onclose = (e) => {\n            if (this.debug) { console.log('СОКЕТ ЗАКРЫТ ', e) }\n            this.store.commit('ourExtension/gpio/setSocketConnected', false)\n            setTimeout(this.connect.bind(this), this.reconnectingTimeout)\n        }\n\n        this.connection.onerror = (e) => {\n            if (this.debug) { console.log('ОШИБКА СОКЕТА ', e) }\n        }\n\n        this.connection.onmessage = (m) => {\n            const response = m as any\n            if (response.data) {  // TODO, если не data\n                const data = JSON.parse(response.data)\n                if (data.result) {  // TODO, если не ressult\n                    if (data.result.event_type) {  // TODO, если id\n                        if (data.result.event_type === \"button_event\") {  // TODO, энкодер\n                            const buttonEvent = data.result as ButtonEvent\n                            this.handleButtonEvent(buttonEvent)\n                        } else if (data.result.event_type === \"encoder_event\") {\n                            const encoderEvent = data.result as EncoderEvent\n                            this.handleEncoderEvent(encoderEvent)\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    emit() {\n        if (this.connection?.readyState === WebSocket.OPEN) {\n            const getRandomNumber = (min: number, max: number) => {\n                return Math.floor(Math.random() * (max - min + 1)) + min\n            }\n            const id = getRandomNumber(10000, 99999)\n            const packet: SocketRequest = {\n                id: id,\n                method: 'test_method',\n                jsonrpc: '2.0'\n            }\n            this.connection.send(JSON.stringify(packet))\n            console.log('Отправлен пакет')\n        } else {\n            console.log('Ошибка отправки. Сокет не открыт')\n        }\n    }\n\n    handleButtonEvent(buttonEvent: ButtonEvent) {\n        const buttonNumber = buttonEvent.button_number\n        const commit = this.buttonsCommits.get(buttonNumber)\n        let isPressed = false\n        if (buttonEvent.type === 'key_down') {\n            isPressed = true\n        }\n        if (commit) {\n            this.store.commit(commit, isPressed)\n        } else {\n            const alert: AlertType = {\n                message: \"Неизвестный запрос с сервера на кнопку: \" + buttonNumber,\n                type: 'red'\n            }\n            Alerts.showInfoAlert(alert)\n        }\n    }\n\n    handleEncoderEvent(encoderEvent: EncoderEvent) {\n        const encoderNumber = encoderEvent.encoder_number\n        const commit = this.encodersCommits.get(encoderNumber)\n        let isClockwise = true\n        if (encoderEvent.type === 'counter_clockwise') {\n            isClockwise = false\n        }\n        if (commit) {\n            const emitedEncoderState: EncoderState = {\n                emited: true,\n                isClockwise: isClockwise\n            }\n            this.store.commit(commit, emitedEncoderState)\n            setTimeout(() => {\n                const encoderState: EncoderState = {\n                    emited: false,\n                    isClockwise: isClockwise\n                }\n                this.store.commit(commit, encoderState)\n            }, 1)\n            \n        } else {\n            const alert: AlertType = {\n                message: \"Неизвестный запрос с сервера на энкодер: \" + encoderNumber,\n                type: 'red'\n            }\n            Alerts.showInfoAlert(alert)\n        }\n    }\n}\n\ninterface ButtonEvent {\n    event_type: string  // button_event\n    type: string  // key_up, key_down\n    button_number: number\n}\n\ninterface EncoderEvent {\n    event_type: string  // encoder_event\n    type: string  // clockwise, counter_clockwise\n    encoder_number: number\n}","import consola from 'consola'\nimport './setupConsola'\nimport Vue from 'vue'\nimport App from './App.vue'\nimport { Globals } from './globals'\nimport { appInit } from './init'\nimport { ColorSetPlugin } from './plugins/colorSet'\nimport { FiltersPlugin } from './plugins/filters'\nimport { HttpClientPlugin } from './plugins/httpClient'\nimport { SocketPlugin } from './plugins/socketClient'\nimport store from './store'\nimport { InitConfig } from './store/config/types'\nimport router from './router'\nimport { GpioSocket } from '@/gpio/gpioSocket'\n\n\nVue.config.productionTip = false\n\n\nVue.use(FiltersPlugin)\nVue.use(ColorSetPlugin, {})\nVue.use(HttpClientPlugin, {\n    store\n})\n\nappInit()\n    .then((config: InitConfig) => {\n        Vue.use(SocketPlugin, {\n            url: config.apiConfig.socketUrl,\n            reconnectEnabled: true,\n            reconnectInterval: Globals.SOCKET_RETRY_DELAY,\n            store\n        })\n\n        // if (config.apiConfig.socketUrl && config.apiConnected && config.apiAuthenticated) {\n        //     Vue.$socket.connect(config.apiConfig.socketUrl)\n        // }\n        createGpioSocket()\n        Vue.$socket.connect(config.apiConfig.socketUrl)\n\n\n        new Vue({\n            store,\n            router: router,\n            render: h => h(App)\n        }).$mount('#app')\n    })\n    .catch((e) => {\n        consola.debug('Error attempting to init App:', e)\n    })\n\n\nfunction createGpioSocket() {\n    console.log('Попытка создать сокет')\n    const gpioSocket = new GpioSocket(store)\n    gpioSocket.connect()\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"5b4525c5\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkremote_controller_interface\"] = self[\"webpackChunkremote_controller_interface\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(6184); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Consola","LogLevel","render","_vm","this","_c","_self","_setupProxy","attrs","on","$event","preventDefault","alertFlag","_e","infoAlertFlag","staticRenderFns","staticClass","alert","header","_v","_s","message","domProps","type","toLowerCase","confirmClick","rejectClick","DefaultAlert","Vue","$store","getters","dispatch","__decorate","Component","components","component","ref","class","green","red","clickHandler","infoAlert","InfoAlert","constructor","args","_defineProperty","cancellationToken","state","ourExtension","layoutsData","alerts","infoAlertState","newValue","currentMessage","cancellationTokenWather","currentTimeout","clearTimeout","mounted","showingAnimation","element","$refs","height","getBoundingClientRect","animationProcessing","timeout","time","setTimeout","closingAnimation","style","top","closingAnimationProcessing","originalHeight","Watch","deep","listFlag","items","closeList","selectItem","restart","homeButtonClick","require","_m","_l","listItems","item","index","key","activateItem","deactivateItems","listInstance","isActive","firstClickHandler","name","confirmClickHandler","ItemButton","$emit","Prop","FatalSelectList","container","mainContainer","zIndex","push","itemProp","itemName","Globals","Object","freeze","APP_NAME","HEADER_HEIGHT","DEFAULTS","CAMERA_URL","NETWORK_REQUEST_TIMEOUT","KLIPPY_RETRY_DELAY","SOCKET_RETRY_DELAY","SOCKET_PING_INTERVAL","CONSOLE_HISTORY_RETENTION","CONSOLE_RECEIVE_PREFIX","CONSOLE_SEND_PREFIX","CONSOLE_COMMAND_HISTORY","CHART_HISTORY_RETENTION","JOB_HISTORY_LOAD","KLIPPY_DISCONNECTED_REDIRECT","LOCAL_CARDSTATE_STORAGE_KEY","LOCAL_CARDLAYOUT_STORAGE_KEY","LOCAL_INSTANCES_STORAGE_KEY","MOONRAKER_DB","fluidd","NAMESPACE","ROOTS","uiSettings","macros","console","charts","cameras","layout","webcams","MOONRAKER_COMPONENTS","auth","power","updateManager","history","timelapse","announcements","jobQueue","CONFIG_SERVICE_MAP","filename","service","link","prefix","suffix","FILTERED_FILES_PREFIX","FILTERED_FILES_EXTENSION","DOCS_ROOT","DOCS_REQUIRED_CONFIGURATION","DOCS_MULTIPLE_INSTANCES","DOCS_MOONRAKER_COMPONENTS","DOCS_AUTH_LOST_PASSWORD","DOCS_AUTH","GITHUB_REPO","VUE_APP_I18N_LOCALE","VUE_APP_I18N_FALLBACK_LOCALE","VERSION","HASH","Waits","dash","mdiViewDashboardOutline","account","mdiAccount","addAccount","mdiAccountPlus","help","mdiHelpCircle","motion","mdiMotionOutline","limits","mdiArrowHorizontalLock","send","mdiSend","open","mdiOpenInApp","move","mdiFolderMove","tabs","mdiCheckboxMultipleBlank","menu","mdiDotsVertical","menuAlt","mdiMenu","dots","mdiDotsHorizontal","dotsGrid","mdiDotsGrid","drag","mdiDrag","chart","mdiChartTimelineVariant","mdiPower","powerCycle","mdiPowerCycle","powerOn","mdiToggleSwitch","powerOff","mdiToggleSwitchOffOutline","home","mdiHome","close","mdiClose","refresh","mdiRefresh","mdiRestart","restartAlert","mdiRestartAlert","update","mdiUpdate","warning","mdiAlert","error","mdiHandBackRight","thermometer","mdiThermometerLow","bell","mdiBellOutline","fireAlert","mdiFireAlert","snowflakeAlert","mdiSnowflakeAlert","circle","mdiCircle","blankCircle","mdiCheckboxBlankCircleOutline","markedCircle","mdiRadioboxMarked","checkedCircle","mdiCheckCircleOutline","checkboxBlank","mdiCheckboxBlankOutline","checkboxMarked","mdiCheckboxMarkedOutline","alertCircle","mdiAlertCircle","folderAdd","mdiFolderPlus","folderUp","mdiFolderUpload","folderUpload","mdiFolderArrowUp","folder","mdiFolder","fileUpload","mdiUpload","fileAdd","mdiFilePlus","inProgress","mdiCircleSlice3","progressUpload","mdiProgressUpload","up","mdiArrowUp","down","mdiArrowDown","left","mdiArrowLeft","right","mdiArrowRight","tune","mdiTune","zUp","mdiArrowExpandUp","zDown","mdiArrowCollapseDown","expandHorizontal","mdiArrowExpandHorizontal","cog","mdiCog","cogs","mdiCogs","save","mdiContentSaveOutline","estop","mdiCarBrakeAlert","fire","mdiFire","tools","mdiHammerWrench","minus","mdiMinus","plus","mdiPlus","check","mdiCheck","mdiConsole","clock","mdiClockOutline","formatLineSpacing","mdiFormatLineSpacing","layersTripleOutline","mdiLayersTripleOutline","chevronUp","mdiChevronUp","chevronDown","mdiChevronDown","chevronRight","mdiChevronRight","chevronLeft","mdiChevronLeft","timer","mdiTimerSand","fileCode","mdiFileCodeOutline","fileRefresh","mdiFileRefreshOutline","files","mdiFileTableOutline","file","mdiFile","fileCancel","mdiFileCancel","pause","mdiPause","cancel","mdiWindowClose","cancelled","mdiCancel","play","mdiPlay","resume","stop","mdiStop","reprint","mdiPrinter","printer","download","mdiDownload","rename","mdiFormTextbox","delete","mdiDelete","camera","mdiCamera","fan","mdiFan","pencil","mdiPencil","pencilLock","mdiPencilLock","magnify","mdiMagnify","magnifyPlus","mdiMagnifyPlus","magnifyMinus","mdiMagnifyMinus","printer3d","mdiPrinter3d","printer3dNozzle","mdiPrinter3dNozzleOutline","printer3dNozzleAlert","mdiPrinter3dNozzleAlertOutline","bedMesh","mdiViewGridOutline","host","mdiDesktopTower","mdiHistory","filter","mdiFilterOutline","commit","mdiSourceCommit","cloudCheck","mdiCloudCheck","cloudAlert","mdiCloudAlert","cubeScan","mdiCubeScan","consoleLine","mdiConsoleLine","lock","mdiLock","lockOpen","mdiLockOpenVariant","lockReset","mdiLockReset","reset","mdiRestore","tempError","mdiThermometerAlert","contentCopy","mdiContentCopy","apps","mdiApps","shieldAccount","mdiShieldAccount","retract","mdiSwapVertical","codeJson","mdiCodeJson","desktopTower","harddisk","mdiHarddisk","mdiMessageTextOutline","list","mdiFormatListBulleted","fullScreen","mdiFullscreen","video","mdiFileVideoOutline","snooze","mdiBellSleep","chip","mdiChip","viewHeadline","mdiViewHeadline","absolutePositioning","mdiAxisArrow","relativePositioning","mdiVectorLine","openInNew","mdiOpenInNew","imageSizeSelectLarge","mdiImageSizeSelectLarge","listStatus","mdiListStatus","previousLayer","mdiLayersMinus","currentLayer","mdiLayers","nextLayer","mdiLayersPlus","moves","extrusions","mdiPrinter3dNozzle","retractions","parts","mdiShape","folderOpen","mdiFolderOpen","fileZip","mdiArchive","fileZipAdd","mdiArchivePlus","mdiTrayFull","enqueueJob","mdiTrayPlus","onServiceRestart","onServiceStop","onServiceStart","onDevicePowerToggle","onHomeAll","onHomeXY","onHomeX","onHomeY","onHomeZ","onQGL","onZTilt","onBedScrewsAdjust","onBedScrewsCalculate","onBedTiltCalibrate","onDeltaCalibrate","onPrintPause","onPrintCancel","onPrintResume","onMacro","onSetSpeed","onSetFlow","onSetPressureAdvance","onSetFanSpeed","onSetOutputPin","onZAdjust","onZApply","onSaveConfig","onRetract","onExtrude","onMeshCalibrate","onKlipperRestart","onKlipperFirmwareRestart","onSetVelocity","onSetAcceleration","onSetDeceleration","onSetSCV","onSetRetractLength","onSetRetractSpeed","onSetUnretractSpeed","onSetUnretractExtraLength","onExtruderChange","onLoadLanguage","onFileSystem","onJobQueue","onTimelapseSaveFrame","onManualProbe","onProbeCalibrate","onZEndstopCalibrate","onQueryEndstops","onQueryProbe","onVersionRefresh","onSyncExtruder","onStepperEnable","SupportedLocales","code","DateFormats","iso","locale","options","day","month","year","digits2","short","TimeFormats","hour","minute","hour12","hours12","hours24","baseEmit","method","consola","SocketActions","async","wait","params","hard","include_deps","device","emit","settings","objects","path","gcode","script","value","namespace","uid","all","filenames","jobIds","length","job_ids","filepath","root","extended","source","dest","store_only","force","entry_id","wake_time","application","ServicesMixin","moonrakerServiceName","server","system_info","instance_ids","moonraker","undefined","hostReboot","machineReboot","hostShutdown","machineShutdown","serviceRestartByName","serviceRestartMoonraker","serverRestart","_klipperReset","machineServicesRestart","machineServicesStart","Error","machineServicesStop","printerRestart","printerFirmwareRestart","StateMixin","authenticated","socketConnected","apiConnected","socketConnecting","klippyReady","klippyConnected","klippy_connected","hasWarnings","klippyState","klippyStateMessage","printerState","printerBusy","printerPaused","printerPrinting","hasWait","hasWaits","hasWaitsBy","sendGcode","printerGcodeScript","addConsoleEntry","confirmOnEstop","config","general","res","log","printerEmergencyStop","coordinatesHolder","fixedCoordinatesHolder","newCoords","coord","toFixed","printerAllowedToStartPrint","MockHelper","getFileDataMock","modified","permissions","size","sizeInKb","computedSize","layers","printingTime","isSelected","pathForMoonraker","dirnameForMoonraker","profiles","getGcodePrintingProfilesMock","getProfileMock","profileMainParameters","current","feedRate","voltage","profileAdditionalParameters","arcLength","dynamic","weldingSpeed","profileOscilationParameters","period","width","profileWeldParameters","gas","material","wireDiameter","getProfilesMapMock","Map","set","getPrintingDiapasonMock","profile","isRootDiapason","mockHelper","AlertsProcessor","addDiapasonAlert","layersText","diapasonSelectedAlert","deleteDiapasonAlert","deletedDiapason","firstLayer","lastLayer","deleteAllDiapasonesAlert","lastPrintingProfileSelectedAlert","profileSelectedAlert","profileName","showInfoAlert","Alerts","WindowsMixin","openInputWindow","defaultImplementation","coordName","initValue","valcoderStep","dispachAfterConfirm","callbackAfterConfirm","maxValue","minValue","rejectPointClick","coordUnits","isItTime","inputWindowData","initInfo","openSelectWindowWithoutIcon","callback","initList","z_index","initData","openSelectWindowWithIcon","initMap","initExisitingPrintingWindow","needAlert","hasFile","hasPrintingDiapason","printerFile","current_file","fileInWindow","resolveFileForExistingPrintingWindow","diapasonForMoonraker","resolveDiapasonForExistingPrintingWindow","diapasonCopy","JSON","parse","stringify","lastPrintingProfile","selectedDiapason","allLayersFlag","getFileMock","fileData","lastPrintingFile","profilesMap","initNewPrintingWindow","screenIsBlockingAlert","FatalErrorAlert","Mixins","beforeDestroy","restartKlipper","restartKlippy","restartFirmware","firmwareRestartKlippy","restartMoonraker","restartInterface","location","reload","selectedItem","httpClientActions","get","url","post","data","defaults","accessInfoGet","accessRefreshJwtPost","refresh_token","accessLoginPost","username","password","accessLogoutPost","accessOneshotTokenGet","accessCurrentUserGet","accessUsersListGet","accessUserPost","accessUserDelete","accessUserPasswordPost","new_password","accessApiKeyGet","accessApiKeyPost","serverDatabaseItemGet","serverDatabaseItemPost","serverFilesUploadPost","serverFilesGet","encodeURI","Date","now","FilesMixin","cancelTokenSource","fileTransferCancelTokenSource","apiUrl","isTrustedUser","forceLogins","authorization","force_logins","getThumbUrl","thumbnails","large","date","thumb","getThumb","absolute_path","reduce","a","c","relative_path","createFileUrl","sizeInMB","getFile","responseType","transformResponse","v","cancelToken","token","startTime","performance","loaded","percent","speed","unit","o","onDownloadProgress","progressEvent","units","i","delta","Math","min","payload","round","lengthComputable","total","createFileUrlWithToken","document","createElement","href","setAttribute","body","appendChild","click","removeChild","result","andPrint","formData","FormData","startsWith","append","headers","onUploadProgress","then","response","catch","e","finally","getFullPathAndFile","rootPath","fullPath","fileObject","fileState","uploads","find","u","uploadFile","sendDiapasonForServer","diapasonStr","File","parseGcode","layerCounter","stringLayerCounter","buildTime","lines","split","line","includes","layerNumber","getLayerNumber","intLayerNumber","parseInt","isNaN","resolveBuildTime","layerString","layerNumberIndex","indexOf","tempString","slice","ch","digit","hours","minutes","dvoetochieIndex","hoursIndex","extractNextDigit","minutesIndex","digitIndex","tempLine","intHours","isSatisfiesProfilesMetadataType","mockProfilesMetadata","oscilationTypes","weldTypes","wireDiameters","materials","keys","splice","isSatisfiesProfileType","mockProfile","getSortedMapKeys","map","Array","from","sort","printingDiapasonProcessor","hasNext","printingDiapason","Boolean","nextDiapason","hasPrev","prevDiapason","next","prev","createNext","newPrintingDiapason","deleteCurrent","getRootDiapason","rootDiapason","searchInNextDiapasones","searchInPrevDiapasones","deleteAll","nextNextDiapson","prevPrevDiapson","iconByProfileName","resolveIconByProfileName","icon","GpioMixin","firstButton","secondButton","thirdButton","fourthButton","fifthButton","sixthButton","gpioSocketConnected","isFirstButtonPressed","isSecondButtonPressed","isThirdButtonPressed","isFourthButtonPressed","isFifthButtonPressed","isSixthButtonPressed","setAllButtonsPressed","setAllButtonsInterrups","interrups","buttonsInterrups","button","encoder1State","encoder2State","App","mainButton","moveButton","starButton","settingsButton","backButton","fileSelect","osc","actualTime","isFilesLoadingFinished","warningFlag","isProfilesDownloadingFinished","fatalErrorFlag","gpioSocketConnectedWather","printerPrintingWather","$route","$router","isFilesLoadingFinishedWather","filesMap","gcodes","forEach","parseGcodes","isProfilesDownloadingFinishedWather","directoryData","profilesList","promiseList","promise","responseData","handleProfileResponse","Promise","status","content","getGcode","disableButton","buttonFlags","costyl","warningClickHandler","defaultState","connecting","disconnecting","ready","acceptingNotifications","connectionId","getConnectionState","getConnectingState","getApiConnected","EventBus","bus","text","opts","FlashMessageTypes","IsKeyOf","parent","retryTimeout","actions","rootState","serverInfo","identify","client_name","version","hash","trim","serverFilesListRoot","retry","modules","wasClean","replace","state_message","window","connection_id","roots","values","upperFirst","camelCase","action","mutations","setReset","assign","setSocketOpen","setSocketConnecting","setSocketReadyState","setAcceptNotifications","setSocketDisconnecting","setApiConnected","setConnectionId","namespaced","socket","currentUser","users","apiKey","getAuthenticated","getCurrentUser","getUsers","getToken","getRefreshToken","getApiKey","user","rootGetters","refreshToken","localStorage","getItem","exp","isExpiring","withAuth","setItem","resolve","r","defaultSource","default_source","availableSources","available_sources","err","removeItem","reject","invalidate","partial","_","setCurrentUser","setToken","jwtDecode","setRefreshToken","setAuthenticated","setUsers","setAddUser","setRemoveUser","findIndex","setApiKey","klippy_retries","info","failed_components","klippy_state","registered_directories","warnings","enabled","moonraker_stats","throttled_state","bits","flags","cpu_temp","getInfo","getIsMinApiVersion","minVersion","apiVersion","api_version_string","valid","gte","getSystemInfo","getConfig","getProcessStats","componentSupport","getServices","available_services","service_states","service_state","services","getConfigMapByFilename","configMap","endsWith","itemService","instanceIds","serviceSupported","some","getBrowserLocale","defaultOptions","countryCodeOnly","opt","navigatorLocale","navigator","languages","language","trimmedLocale","VueI18n","getStartingLocale","browserLocale","startingLocale","i18n","fallbackLocale","messages","loadedLanguages","loadLocaleMessagesAsync","componentsToInit","printerInfo","serverConfig","machineProcStats","machineSystemInfo","printerObjectsList","failed","join","rolled_over","applications","success","isArray","d","cpu_usage","retention","load","flag","previousEvent","n","id","title","description","to","snackbar","merge","clear","noCount","suffixIcon","setResetKlippy","setServerInfo","setSystemInfo","setServiceState","setServerConfig","setMoonrakerStats","setKlippyRetries","endstops","bed_mesh","profile_name","heaters","available_heaters","available_sensors","configfile","save_config_pending","save_config_pending_items","virtual_sdcard","pause_resume","display_status","max_accel_to_decel","max_accel","max_velocity","square_corner_velocity","kinematics","extruder","max_extrude_only_velocity","max_extrude_only_distance","idle_timeout","print_stats","print_duration","total_duration","filament_used","progress","file_position","is_active","toolhead","estimated_print_time","homed_axes","position","print_time","motion_report","live_position","live_velocity","live_extruder_velocity","firmware_retraction","retract_length","unretract_extra_length","unretract_speed","retract_speed","estimated_time","filament_total","gcode_move","gcode_position","homing_origin","manual_probe","z_position","z_position_lower","z_position_upper","bed_screws","current_screw","accepted_screws","webhooks","fans","sensors","beds","s","getklippyReady","server_klippy_state","connected","getKlippyState","getKlippyStateMessage","regex","getPrinterState","state1","state2","getPrintProgress","gcode_start_byte","gcode_end_byte","currentPosition","endPosition","getPrintLayers","layersFromPrintStats","total_layer","layer_count","lc","ceil","object_height","first_layer_height","layer_height","getPrintLayer","layerFromPrintStats","current_layer","duration","pos","z","l","getTimeEstimates","endTime","floor","multiplier","speed_factor","fileLeft","fileEndTime","actualTotal","actualLeft","actualEndTime","slicer","slicerLeft","slicerEndTime","eta","actual","getSystemStats","system_stats","getMcus","mcus","getExtruders","extruderCount","exec","getActiveExtruder","getExtruderByName","getPrinterSettings","min_extrude_temp","getExtruderSteppers","extruderSteppers","prettyName","stepper_enable","steppers","b","localeCompare","getHomedAxes","axes","char","getRunoutSensors","supportedSensors","nameFromSplit","sensor","getEndstops","getProbe","probe","probeNames","probeSettings","z_offset","probeWithName","getHeaters","heater","color","getKlipperType","minTemp","min_temp","maxTemp","max_temp","getAllLeds","getOutputs","getAllFans","getToolHeadFans","getOtherFans","getPins","outputs","output","pwm","getPinByName","pins","pin","outputPins","leds","controllable","applyColor","filterByPrefix","supportedTypes","getExtraSensorData","sensor_type","scale","static_value","getSensors","groups","sensorType","pressure","humidity","getChartableSensors","keyGroups","printerKeys","flatMap","keyGroup","keyGroupRegExpArray","x","RegExp","test","getBedScrews","screws","adjust","fine","setting","getPrinterConfig","getHasWarnings","getPrinterWarnings","getKlipperWarnings","getMoonrakerFailedComponents","getMoonrakerWarnings","getSaveConfigPending","getSaveConfigPendingItems","getHasHomingOverride","getIsManualProbeActive","getIsBedScrewsAdjustActive","isOfType","varToBeChecked","propertyToCheckFor","handleExcludeObjectChange","exclude_object","handlePrintStateChange","handleCurrentFileChange","serverFilesMetaData","handleMcuStatsChange","stats","last_stats","lastEntry","task_max","stats_interval","mcu_task_avg","mcu_task_stddev","awake","mcu_awake","maxbw","timedelta","getTime","bw","bytes_write","bytes_retransmit","lastbw","parseFloat","handleSystemStatsChange","cpu_info","total_memory","mem_used","memavail","percent_mem_used","memused","cputime","last_cputime","sysload","cputime_change","handleAddChartEntry","configureChartEntry","label","pop","temp","temperature","target","frames","feature","frame","createFrame","contentWindow","Function","remove","display","intendedSubscriptions","k","printerObjectsSubscribe","serverGcodeStore","printerGcodeHelp","serverTemperatureStore","val","rootStateServerConfig","data_store","temperature_store_size","enableDiagnostics","layouts","diagnostics","metrics","flat","card","axis","collectors","Set","metric","collector","sandboxedEval","fromEntries","setPrinterInfo","setQueryEndstops","setPrinterBusy","busy","setPrinterObjectList","setClearEndStops","setResetCurrentFile","newState","setSocketNotify","p","socketUrl","layoutMode","containerColumnCount","hostConfig","endpoints","blacklist","hosted","themePresets","instances","instanceName","chartVisible","hideTempWaits","inverted","y","defaultExtrudeLength","defaultExtrudeSpeed","defaultToolheadMoveLength","defaultToolheadXYSpeed","defaultToolheadZSpeed","toolheadMoveDistances","useGcodeCoords","zAdjustDistances","enableVersionNotifications","confirmOnPowerDeviceChange","confirmOnSaveConfigAndRestart","dateFormat","timeFormat","textSortOrder","showRateOfChange","showRelativeHumidity","showBarometricPressure","showGasResistance","showSaveConfigAndRestart","showUploadAndPrint","flipConsoleLayout","cameraFullscreenAction","topNavPowerToggle","showManualProbeDialogAutomatically","showBedScrewsAdjustDialogAutomatically","forceMoveToggleWarning","thumbnailSize","theme","isDark","logo","src","currentTheme","primary","editor","confirmDirtyEditorClose","autoEditExtensions","codeLens","dashboard","tempPresets","tableHeaders","gcodes_dashboard","visible","gcodes_jobs","job_queue","gcodePreview","extrusionLineWidth","moveLineWidth","retractionIconSize","drawBackground","showAnimations","minLayerHeight","autoLoadOnPrintStart","autoLoadMobileOnPrintStart","autoFollowOnFileLoad","autoZoom","flip","horizontal","vertical","fileSystem","activeFilters","forceMove","extrudeSpeed","extrudeLength","getCurrentInstance","instance","active","getInstances","getHostConfig","getTempPresets","originalPresets","presets","originalPreset","preset","getTheme","tinycolor","desaturate","darken","toHexString","getCustomThemeFile","extensions","extension","f","getDefaultThemePreset","changeWithTheme","getCurrentThemePreset","getMergedTableHeaders","configured","getConfiguredTableHeaders","merged","keyBy","configurable","getTokenKeys","md5","serverWrite","setInitUiSettings","processed","setInitApiConfig","setInitHostConfig","setInitInstances","apiConfig","setUpdateInstanceName","setRemoveInstance","setSaveByPath","setPreset","uuidv4","setRemovePreset","setLayoutMode","setContainerColumnCount","setUpdateHeader","currentPaths","disk_usage","used","free","rootFiles","config_examples","docs","logs","getDirectory","dir","getRootFiles","isRootAvailable","getRootProperties","readonly","accepts","canEdit","canView","canPrint","canConfigure","filterTypes","canDelete","canCreateDirectory","getCurrentPathByRoot","getLowOnSpace","getUsage","getFilesList","filePath","substr","lastIndexOf","substring","paths","getFilePaths","__request__","pathNoRoot","dirname","dirs","job_id","h","jobs","job","directory","formatAsFile","serverFilesGetDirectory","itemPaths","source_item","sourcePaths","gcodePreviewFile","axios","cancellationMessage","mergeFileUpdate","existing","updates","setResetRoot","setServerFilesGetDirectory","setServerFilesListRoot","setFileUpdate","fileIndex","isFiltered","setItemDelete","itemIndex","setPathDelete","folders","setUpdateFileUpload","setRemoveFileUpload","setUpdateFileDownload","setRemoveFileDownload","setFileTransferCancelTokenSource","setCurrentPath","setDiskUsage","container1","collapsed","container2","showLegend","lineStyle","lineColor","fillOpacity","displayLegend","max","getLayoutConfigById","getLayout","cloneDeep","isEnabledInLayout","configs","isEnabledInCurrentLayout","getSpecificLayoutName","getContainer","containers","getDefaultState","setInitLayout","migratableLayouts","defaultComponents","entries","defaultComponentIds","currentComponentIds","defaultContainerComponents","currentContainerComponents","setLayoutChange","setUpdateConfig","selectedLegends","getChartData","getSelectedLegends","getChartRetention","getBaseChartOptions","tooltipSuffix","isMobile","fontColor","fontSize","opacity","pointerStyle","grid","show","borderWidth","borderColor","tooltip","backgroundColor","textStyle","accent","trigger","formatter","param","xDimension","dimensionNames","encode","yDimension","ySuffix","seriesName","marker","xAxis","boundaryGap","axisLine","axisTick","axisLabel","splitLine","axisPointer","yAxis","getBaseSeries","smooth","animation","showSymbol","symbol","areaStyle","emphasis","targetsToAvoid","originalKey","targets","arr","lastValue","temperatures","powers","speeds","initCharts","saveSelectedLegends","isEqual","setInitCharts","setChartStore","setChartEntry","firstInRange","entry","valueOf","setSelectedLegends","consoleCommand","consoleEntryCount","availableCommands","commandHistory","autoScroll","lastCleared","consoleFilters","consoleFiltersRegexp","_tempWaitExpr","getConsoleEntries","getFilters","getAvailableCalibrationCommands","getAllGcodeCommands","commands","additional","command","gcode_store","ConsoleFilterType","_compileExpression","escapeRegExp","Contains","StartsWith","Expression","setConsoleEntry","shift","setAllEntries","setGcodeHelp","setInitConsole","setUpdateCommandHistory","setConsoleCommand","setAutoScroll","setFilter","filterRegex","setRemoveFilter","setLastCleared","stored","categories","expanded","getMacros","lowerCaseKey","toLocaleLowerCase","macro","variables","alias","disabledWhilePrinting","categoryId","category","getVisibleMacros","defaultCategory","getMacrosByCategory","order","getCategories","count","initMacros","saveMacro","saveAllOrder","saveAllOn","saveAllOff","addCategory","editCategory","removeCategory","saveExpanded","setUpdateMacro","m","setUpdateAllVisible","setAddCategory","setEditCategory","setRemoveCategory","setExpanded","devices","machineDevicePowerDevices","setDevices","setStatus","job_totals","total_jobs","total_time","total_print_time","total_filament_used","longest_job","longest_print","getHistory","start_time","getHistoryById","jobId","getHistoryByFilename","exists","getUniqueHistory","limit","dupe","j","getRollUp","totals","filament_avg","print_avg","total_avg","serverHistoryList","serverHistoryTotals","deleted_jobs","setHistoryTotals","setHistoryList","setAddHistory","setUpdateHistory","setClearHistoryThumbnails","metadata","setDeleteJob","github_limit_reset_time","github_rate_limit","github_requests_remaining","responses","version_info","getVisibleComponents","hasUpdates","enableNotifications","hasUpdate","remoteVersion","remote_version","gt","package_count","current_hash","remote_hash","getResponses","getCommitHistory","componentVersionInfo","commits_behind","commitItem","dateAndTime","dateOnly","getFullYear","getMonth","getDate","reverse","machineUpdateStatus","btnText","setUpdateStatus","setUpdateResponse","complete","setClearUpdateResponse","setVersion","setHash","activeCamera","targetFps","targetFpsIdle","urlStream","urlSnapshot","flipX","flipY","rotation","aspectRatio","getCameras","camerasInConfig","getCamerasInConfig","webcamsInConfig","webcam","target_fps","stream_url","snapshot_url","flip_horizontal","flip_vertical","getEnabledCameras","getVisibleCameras","getActiveCamera","getCameraById","setUrlQueryParam","fakeOrigin","newUrl","URL","searchParams","origin","pathname","search","legacyCameraTypeToCameraService","mjpgstream","mjpgadaptive","iframe","ipstream","mjpegstreamerServices","legacyCameras","legacyCamera","isMjpegStreamer","fpstarget","rotate","fpsidletarget","serverDelete","serverRead","setInitCameras","setCamera","setRemoveCamera","setActiveCamera","variance","wireframe","boxScale","flatSurface","matrix","transformMesh","meshMatrix","makeFlat","coordinates","mid","mesh_min","mesh_max","x_distance","y_distance","x_idx","y_idx","row","abs","x_axis","y_coord","z_coord","x_coord","getSupportsBedMesh","getLegacyBedMeshProfiles","klipperProfiles","meshProfileKeys","legacyKlipperProfile","points","Number","mesh_params","algo","max_x","max_y","mesh_x_pps","mesh_y_pps","min_x","min_y","tension","x_count","y_count","getBedMeshProfiles","getCurrentMeshData","mesh_matrix","probed_matrix","mesh_matrix_flat","probed_matrix_flat","setMatrix","setScale","setBoxScale","setWireframe","setFlatSurface","mesh","notifications","getNotifications","timestamp","concat","getAnnouncementsAsNotifications","setPushNotification","setMergeNotification","setClearNotification","notification","setClearAllNotifications","feeds","getAnnouncements","announcement","dismissed","serverAnnouncementsList","serverAnnouncementsDismiss","setAnnouncementsList","setAnnouncementDismissed","date_dismissed","dismiss_wake","waits","setAddWait","setRemoveWait","parserProgress","parserWorker","viewer","showCurrentLayer","showNextLayer","showPreviousLayer","showMoves","showExtrusions","showRetractions","showParts","followProgress","Rotation","PositioningMode","binarySearch","comp","approx","topBound","bottomBound","distance","diffX","diffY","sqrt","angleBetween","atan2","PI","arcIJMoveToSVGPath","destination","center","radius","angle","direction","Clockwise","CounterClockwise","TypeError","arcMoveToSvgPath","moveToSVGPath","hasOwnProperty","call","getMoves","getViewerOption","getParserProgress","getLayers","NaN","zStart","zLast","zNext","filePosition","getParts","getBounds","moveRangeStart","moveRangeEnd","bounds","isFinite","every","getToolHeadPosition","moveIndex","getPaths","startMove","endMove","extrusionStarts","traveling","getLayerPaths","layerNr","Infinity","getPartPaths","part","svgData","polygon","point","getMoveIndexByFilePosition","getLayerNrByFilePosition","worker","terminate","Worker","addEventListener","postMessage","setMoves","setLayers","setParts","setFile","clearFile","setViewerState","setParserProgress","setParserWorker","defaultWritableSettings","mode","stream_delay_compensation","gcode_verbose","parkhead","parkpos","park_custom_pos_x","park_custom_pos_y","park_custom_pos_dz","park_travel_speed","park_retract_speed","park_extrude_speed","park_retract_distance","park_extrude_distance","park_time","fw_retract","hyperlapse_cycle","autorender","constant_rate_factor","output_framerate","pixelformat","time_format_code","extraoutputparams","variable_fps","targetlength","variable_fps_min","variable_fps_max","duplicatelastframe","previewimage","saveframes","lastFrame","snapshoturl","flip_x","flip_y","blockedsettings","renderStatus","getSettings","getLastFrame","getRenderStatus","isBlockedSetting","timelapseState","uniqueCount","lastframefile","match","framecount","framefile","frameRate","framerate","crf","pixelFormat","frameCount","fileName","printFile","printfile","previewImage","msg","setSettings","setLastFrame","setRenderStatus","excludedParts","printState","getIsPartCurrent","partName","currentPart","getIsPartExcluded","getPartPos","getPartSVG","svg","op","outline","getPrintState","partUpdate","current_object","excluded_objects","partMap","obj","printStatsUpdate","getWebcamsInConfig","serverWebcamsList","setWebcamsList","queue_state","queued_jobs","getQueueState","getQueuedJobs","getQueuedJob","serverJobQueueStatus","updated_queue","setQueueState","setQueuedJobs","splitPath","newPath","isDirectoryExistInState","pathParts","existDirectory","tryToCreateDirectoryInState","createDirectoriesList","createFilesList","getAnotherDirsNames","filesList","toHumanDate","toSizeInKb","resolveComputedSize","getPathForMoonraker","getDirNameForMoonraker","directoriesList","tryToInsertDirectoryInfoToState","anotherDirs","unixTime","toString","sizeInBytes","getDirectoryByPath","createDirectory","fullDirPath","firstSlashIndex","createFilesMap","createMap","currentDir","handleFileCreation","selectedDiapasonCheck","unshift","requiredDirectory","handleFileDeletion","handleFileModifying","handleFileMove","sourceMoonrakerPath","sourcePathParts","popFile","targetMoonrakerPath","targetPathParts","targetFilename","pushFile","fullPathParts","sourceDir","sourceFilename","handleDirectoryCreation","newDirectory","refreshDirectoriesSize","getDirectorySize","fileSize","dirSize","handleDirectoryDeletion","sourceDirname","parentDirectoryPathParts","parentDirectory","sizeInMb","mathToFixed","sizeInGb","needToFixed","handleDirectoryMove","popDirectory","targetDirname","pushDirectory","refreshMoonrakerPaths","resolvePrefix","deepCopyOfMap","setProfilesForNewFiles","gCodePrintingProfiles","gCodesDir","recursiveSetProfiles","childDir","getAllFilesAndDirs","isLoadingFinish","recursiveFlag","serverGetAllFilesAndDirs","onGetAllFilesAndDirs","dirName","setLayersByMoonrakerPath","refreshGcodeParser","onFileListChanged","setProfilesForAllGcodes","isProfiesSetupFinished","setPrintingProfilesForNewFiles","profilesMapCopy","getListOfFilesAndDirs","getDirs","getFilesLoadingFinishedFlag","getProfilesDownloadingFinishedFlag","getFilesMap","getProfilesFiles","getSelectedFile","selectedFile","isFileSelected","getLastPrintingFile","has","setSelectedFile","setLastPrintingFile","alertQueue","addToAlertQueue","confirmCallback","rejectCallback","onSocketError","messageObj","messageText","htmlText","getAlertQueue","getAlertFlag","getFirstAlert","getInfoAlertCancellationToken","getInfoAlert","getInfoAlertFlag","startTimeRefreshing","getActualTime","refreshTime","getHours","getMinutes","baseLayout","openDirectory","currentPath","serverGetGcodes","openPreviousDirectory","slash","onSetGcodeFiles","getListOfFiles","fileList","getListOfDirectories","directoryList","getCurrentPath","parseUnixDate","unixDate","chooseFile","requiredFileId","requiredFlag","fileId","deactivateFiles","setFiles","filesCounter","directoriesCounter","parsedDate","directoryId","fileBrowserWindowState","getFileData","currentFileData","getSelectedDiapason","setFileData","newFileData","setSelectedDiapason","filePreviewWindowState","defaultFlags","notDefaultImplementation","processingValue","finalValue","keyboardFlag","TimeProcessor","toSeconds","timeValue","seconds","numMinutes","numSeconds","toTime","strMinutes","strSeconds","digitButton","maxValueInSec","minValueInSec","replaceAt","isSatisfiedLength","makeSatisfiesLength","timeSeconds","timeMinutes","newTime","str","replacement","deleteButton","confirm","isMaxAndMinCheck","initInputWindow","initNotDefaultInputWindow","confirmDispatch","getInputWindowData","getProcessingValue","getKeyboardFlag","getValcoderStep","getFlags","getFinalValue","setInputWindowData","setProcessingValue","setFinalValue","setKeyboardFlag","newFlag","setValcoderStep","step","setFlags","inputWindow","mainWindowState","buttonList","buttonId","buttonName","buttonImage","activeButtonImage","getButtonList","setX","newX","setY","newY","setZ","newZ","setNeedToSendGcodeMove","getCoordinates","toolheadPosition","newArr","getMaxCoordinates","maxCoordinates","axis_maximum","getMinCoordinates","minCoordinates","axis_minimum","getStepSelectorInfo","stepSelectorInfo","getCurrentStep","currentStep","getNeedToSendGCodeMove","needToSendGcodeMove","stepValues","percentValues","setCurrentStep","newStep","moveWindow","rootDirectoryData","requiredDirectoryData","getFileList","getDirectoryList","getUsualSelectedFile","getUsualSelectedDirectory","setFilesAndDirs","selectedFileData","newFileBrowserWindowState","newFileBrowseWindow","a1Coords","a2Coords","b1Coords","b2Coords","dispacement","rotateAngle","initByFile","isFileInit","preprintingWindow","printingSettings","shiftForAllLayers","pauseBetweenLayers","pauseValue","setNextLayer","nextLayerValue","getPrintingSettings","getPrintingDiapason","getShift","setPrintingDiapason","printingWindow","headerText","lastPrintingProfileFlag","layersSetupWindowFlag","setCallback","initWithGlobalProfiles","mapCopy","globalProfilesInitialisationFlag","globalProfilesMap","lastPrintingDiapason","globalLastPrintingDiapason","setLastPrintingInterval","addDiapason","newDiapason","refreshToDefault","defaultMap","requiredProfile","setProfile","newRootDiapason","newProfiles","diapason","getLayersSetupWindowFlag","getHeaderText","getLayersText","getProfilesNamesList","keysArr","getProfilesNamesMap","iconText","isItLastPrintingProfile","isItInitWithGlobalProfiles","fileProfiles","setHeaderText","openLayersSetupWindow","closeLayersSetupWindow","profilesWindow","initWithIcons","callbackAfterSelect","initWithoutIcons","isItIconImplementation","getListItems","getZIndex","selectListWindow","maintenanceFlag","lastCoords","setLastCoords","setMaintenanceFlag","getLastCoords","getMaintenanceFlag","settingsWindow","mainWindow","fileBrowseWindow","filePreviewWindow","setProfiles","getDefaultProfilesMap","getLastPrintingProfile","getProfilesMetadata","profilesMetadata","setProfilesMetadata","setLastPrintingProfile","clearStack","getInitFlagsObject","onOpenFileBrowseWindow","currentFlags","getCurrentFlagsObject","openFileBrowseWindow","openMainWindow","openMoveWindow","openFilePreviewWindow","openPreviousWindow","openMainSettingsWindow","openConsoleWindow","openProfilesWindow","openSelectListWindow","openPreprintingWindow","openPrintingWindow","openPrintSettingsWindow","openGorelkaMaintenanceWindow","openSystemInfoWindow","initWindowFlags","mainWindowFlag","fileBrowseWindowFlag","filePreviewWindowFlag","moveWindowFlag","inputWindowFlag","mainSettingsWindowFlag","consoleWindowFlag","profilesWindowFlag","selectListWindowFlag","preprintingWindowFlag","printingWindowFlag","printSettingsFlag","gorelkaMaintenanceWindowFlag","systemInfoWindow","windowFlagsState","stack","getMainWindowFlag","getFileBrowseWindowFlag","getFilePreviewWindowFlag","getMoveWindowFlag","getInputWindowFlag","getMainSettingsWindowFlag","getConsoleWindowFlag","getProfilesWindowFlag","getSelectListWindowFlag","getPreprintingWindowFlag","getPrintingWindowFlag","getPrintSettingsWindowFlag","getGorelkaMaintenanceWindowFlag","getSystemInfoWindowFlag","previousFlags","saveCurrentLayoutInStack","setWindowStack","initFlags","newFlags","isSocketConnected","buttonsState","encoderState","encoder1","emited","isClockwise","encoder2","setSocketConnected","setFirstButton","setSecondButton","setThirdButton","setFourthButton","setFifthButton","setSixthButton","setEncoder1","setEncoder2","getSocketConnected","getFirstButton","getSecondButton","getThirdButton","getFourthButton","getFifthButton","getSixthButton","getEncoder1","getEncoder2","gpio","windowFlags","Vuex","hasModule","void","getMoorakerDatabase","apiAuthenticated","appInit","cons","defaultError","bind","errors","apply","arguments","defaultLog","defaultWarn","warn","warns","defaultDebug","debug","debugs","store","endpoint","promises","migrate_only","ColorSet","colorList","base","toHsl","hsplit","lsplit","namedColor","resetAll","forceResetAll","ColorSetPlugin","install","bed","colorset","prototype","$colorset","extensionRegExp","charCode_0","charCode_9","charCode_A","charCode_Z","charCode_a","charCode_z","charCode_tilde","isDigit","isAlpha","stringToAsciiByteArray","bytes","charCode","charCodeAt","versionStringCompareHelper","stringA","stringB","bufA","bufB","lenA","lenB","posA","posB","first_diff","versionStringCompare","nameA","nameB","getNestedValue","fallback","last","getObjectValueByPath","Filters","formatCounterTime","isNeg","getDateFormat","override","getTimeFormat","formatDate","toLocaleDateString","formatTime","toLocaleTimeString","formatTimeWithSeconds","second","formatDateTime","formatRelativeTimeToNow","formatRelativeTimeToDate","value2","v2","formatRelativeTime","rtf","Intl","RelativeTimeFormat","numeric","format","formatAbsoluteDateTime","isToday","isThisYear","today","isThisMonth","string","startCase","capitalize","getReadableFileSizeString","fileSizeInBytes","byteUnits","getReadableLengthString","lengthInMm","showMicrons","getReadableWeightString","weightInG","getReadableFrequencyString","frequencyInHz","frequencyUnits","fileSystemSort","sortBy","sortDesc","stringCollator","Collator","sensitivity","usage","sortKey","sortValues","sortValuesAsString","sortA","sortB","compare","getApiUrls","_url","wsProtocol","protocol","isColorDark","t","getBrightness","Rules","required","numberValid","numberGreaterThan","numberGreaterThanOrEqual","numberGreaterThanOrEqualOrZero","numberGreaterThanOrZero","numberLessThan","numberLessThanOrEqual","numberLessThanOrEqualOrZero","numberLessThanOrZero","lengthGreaterThanOrEqual","lengthLessThanOrEqual","numberArrayValid","passwordNotEqualUsername","aspectRatioValid","regExpPatternValid","regExpValid","regExp","errorMessage","FiltersPlugin","$filters","$rules","$globals","$waits","createHttpClient","httpClient","Axios","CancelToken","isCancel","unauthenticatedPaths","handledErrorRequests","requestInterceptor","Accept","Authorization","responseInterceptor","baseURL","errorInterceptor","interceptors","request","use","HttpClientPlugin","$httpClient","WebSocketClient","reconnectEnabled","reconnectInterval","pong","pingTimeout","logPrefix","connection","cache","reconnectCount","WebSocket","onopen","onclose","reconnect","onerror","onmessage","requestIndex","requests","defineProperty","enumerable","eventtime","deepMerge","arrayMerge","allowedReconnectAttempts","connect","readyState","OPEN","getRandomNumber","random","packet","jsonrpc","SocketPlugin","$socket","absolutelyEmpty","isDirectorySelected","touchStartHandler","touchEndHandler","FileButton","FolderButton","FileSelectWindow","selectedDirectory","cancelable","stopPropagation","resolveButtonClick","selectButtonClick","tryToStartPrint","startNewPrint","fileMustBeSelectedAlert","lastSlash","gpioButtonDownEventHandler","gpioButtonUpEventHandler","needToResolveClick","firstButtonWather","oldValue","isPressed","secondButtonWather","thirdButtonWather","fourthButtonWather","fifthButtonWather","sixthButtonWather","encoder1Watcher","go","localPrinterState","noGasFlag","oscillationType","printLayer","isPrinting","printProgress","ProgressBar","progressBar","setProgressBarPercent","CircleBar","circleBar","setPercent","circleLength","progressPercent","probelPercent","strokeDasharray","PrintWindow","setPrintProgress","shiftPlus","shiftMinus","currentPlus","currentMinus","voltagePlus","voltageMinus","printSettingsFLag","openPrintSettings","parameterClickHandler","parameterName","setter","rejectPoint","processingSetter","context","newValueReceiver","listClickHandler","newStringValueReceiver","bigButtonHandler","startPrintAlert","startPrint","pauseAlert","pausePrint","resumeAlert","resumePrint","printerPrintStart","printerPrintPause","printerPrintResume","resetFile","throwCancelPrintRequest","cancelPrint","cancelPrintAlert","printerPrintCancel","encoder2Watcher","typeClick","widthClick","periodClick","openFileSelect","OscillationWindow","falseState","getFalseState","VueRouter","routes","router","process","GpioSocket","reconnectingTimeout","event_type","buttonEvent","handleButtonEvent","encoderEvent","handleEncoderEvent","buttonNumber","button_number","buttonsCommits","encoderNumber","encoder_number","encodersCommits","emitedEncoderState","createGpioSocket","gpioSocket","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","getter","__esModule","definition","chunkId","g","globalThis","prop","baseURI","self","installedChunks","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}